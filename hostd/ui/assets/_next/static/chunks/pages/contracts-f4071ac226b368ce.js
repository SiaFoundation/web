(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[348],{77441:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/contracts",function(){return n(82132)}])},92522:function(e,s,n){"use strict";n.d(s,{q:function(){return x}});var l=n(52322),t=n(46731),i=n(13369),a=n(6391),c=n.n(a),r=n(74881),o=n(41491),d=n(72041);function u(){var e,s,n,a,c,r,u;let{openDialog:x}=(0,d.Rh)(),h=(0,i.On)({config:{swr:{revalidateOnFocus:!1}}}),f=(0,i.rV)({config:{swr:{revalidateOnFocus:!1}}}),j=(0,o.n)(),v=(0,i.cQ)(),m=null===(e=h.data)||void 0===e?void 0:e.version,p=(null==m?void 0:m.match(/^v\d+\.\d+\.\d+/))?"https://github.com/SiaFoundation/hostd/releases/".concat(m):"https://github.com/SiaFoundation/hostd/tree/".concat(m);return(0,l.jsxs)(t.HfT,{name:"hostd",peerCount:null===(s=v.data)||void 0===s?void 0:s.length,connectPeer:()=>x("connectPeer"),isSynced:j.isSynced,percent:j.percent,nodeBlockHeight:j.nodeBlockHeight,estimatedBlockHeight:j.estimatedBlockHeight,firstTimeSyncing:j.firstTimeSyncing,moreThan100BlocksToSync:j.moreThan100BlocksToSync,children:[(0,l.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,l.jsx)(t.__J,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Net address"}),(0,l.jsx)("div",{className:"flex-1 flex justify-end overflow-hidden",children:(0,l.jsx)(t.xS1,{className:"overflow-hidden",size:"14",value:null===(n=f.data)||void 0===n?void 0:n.netAddress,maxLength:50,label:"network address"})})]}),(0,l.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,l.jsx)(t.__J,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Public key"}),(0,l.jsx)("div",{className:"flex-1 flex justify-end overflow-hidden",children:(0,l.jsx)(t.xS1,{className:"overflow-hidden",size:"14",value:null===(a=h.data)||void 0===a?void 0:a.publicKey,maxLength:50,label:"public key"})})]}),(0,l.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,l.jsx)(t.__J,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Wallet address"}),(0,l.jsx)("div",{className:"flex-1 flex justify-end overflow-hidden",children:(0,l.jsx)(t.xS1,{className:"overflow-hidden",size:"14",maxLength:50,value:null===(c=h.data)||void 0===c?void 0:c.walletAddress,type:"address"})})]}),(0,l.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,l.jsx)(t.__J,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Network"}),(0,l.jsx)("div",{className:"flex-1 flex justify-end overflow-hidden",children:(0,l.jsx)(t.xvT,{size:"14",children:null===(r=h.data)||void 0===r?void 0:r.network})})]}),(0,l.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,l.jsx)(t.__J,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Version"}),(0,l.jsx)("div",{className:"flex-1 flex justify-end overflow-hidden",children:(0,l.jsx)(t.rUS,{size:"14",href:p,target:"_blank",children:null===(u=h.data)||void 0===u?void 0:u.version})})]})]})}function x(e){let s=(0,i.Os)(),{isSynced:n}=(0,o.n)();return(0,l.jsx)(t.tU3,{appName:"hostd",connectivityRoute:r.h,profile:(0,l.jsx)(u,{}),isSynced:n,walletBalance:s.data?new(c())(s.data.spendable).plus(s.data.unconfirmed):void 0,...e})}},39031:function(e,s,n){"use strict";n.d(s,{N:function(){return a}});var l=n(52322),t=n(46731),i=n(74881);function a(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(t.KJW,{title:"Dashboard",route:i._.home,children:(0,l.jsx)(t.K2o,{})}),(0,l.jsx)(t.KJW,{title:"Volumes",route:i._.volumes.index,children:(0,l.jsx)(t.zvn,{})}),(0,l.jsx)(t.KJW,{title:"Contracts",route:i._.contracts.index,children:(0,l.jsx)(t.VBo,{})}),(0,l.jsx)(t.KJW,{title:"Configuration",route:i._.config.index,children:(0,l.jsx)(t.wWN,{})})]})}},41491:function(e,s,n){"use strict";n.d(s,{n:function(){return i}});var l=n(82337),t=n(13369);function i(){var e,s,n,i;let{isUnlocked:a}=(0,l.Hv)(),c=(0,t.d$)({config:{swr:{refreshInterval:e=>(null==e?void 0:e.synced)?6e4:1e4}}}),r=(0,t.Os)({config:{swr:{refreshInterval:e=>(null==e?void 0:e.scanHeight)>=d-5?6e4:1e4}}}),o=(0,t.nH)(),d=c.data?null===(e=c.data)||void 0===e?void 0:e.chainIndex.height:0,u=a&&d&&o?Number((100*Math.min(d/o,1)).toFixed(1)):0;return{isSynced:null===(s=c.data)||void 0===s?void 0:s.synced,isWalletSynced:(null===(n=c.data)||void 0===n?void 0:n.synced)&&(null===(i=r.data)||void 0===i?void 0:i.scanHeight)>=d-5,nodeBlockHeight:d,estimatedBlockHeight:o,percent:u,moreThan100BlocksToSync:!!d&&!!o&&o-d>100,firstTimeSyncing:!!d&&!!o&&o-d>5e4}}},82132:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return w}});var l=n(52322),t=n(39031),i=n(74881),a=n(46731),c=n(72041),r=n(49983),o=n(92522);function d(){return(0,l.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px]",children:[(0,l.jsx)(a.xvT,{children:(0,l.jsx)(a.Hb6,{className:"scale-[200%]"})}),(0,l.jsx)(a.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:"No active contracts matching filters."})]})}function u(){return(0,l.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px]",children:[(0,l.jsx)(a.xvT,{children:(0,l.jsx)(a.VBo,{className:"scale-[200%]"})}),(0,l.jsx)(a.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:"There are currently no active contracts. Configure autopilot or manually form contracts to get started."})]})}function x(){return(0,l.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px]",children:[(0,l.jsx)(a.xvT,{children:(0,l.jsx)(a.Ckx,{className:"scale-[200%]"})}),(0,l.jsx)(a.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:"Error fetching contracts."})]})}function h(){let{configurableColumns:e,toggleColumnVisibility:s,resetDefaultColumnVisibility:n,setColumnsVisible:t,setColumnsHidden:i,sortOptions:c,sortColumn:o,setSortColumn:d,sortDirection:u,setSortDirection:x,enabledColumns:h}=(0,r.G)(),f=e.filter(e=>"general"===e.category).map(e=>({label:e.label,value:e.id})),j=e.filter(e=>"financial"===e.category).map(e=>({label:e.label,value:e.id}));return(0,l.jsxs)(a.J2e,{trigger:(0,l.jsxs)(a.zxk,{size:"small",tip:"Configure view",tipAlign:"end",children:[(0,l.jsx)(a.hiv,{}),"View",(0,l.jsx)(a.EMN,{})]}),contentProps:{align:"end",className:"max-w-[300px]"},children:[(0,l.jsxs)(a.WVB,{children:[(0,l.jsx)(a.__J,{children:"Order by"}),(0,l.jsx)(a.kFS,{children:(0,l.jsx)(a.PhF,{value:o,onChange:e=>{d(e.currentTarget.value)},children:Object.entries(c).map(e=>{let[s,n]=e;return(0,l.jsx)("optgroup",{label:s,children:n.map(e=>(0,l.jsx)(a.Wxm,{value:e.id,children:e.label},e.id))},s)})})})]}),(0,l.jsxs)(a.WVB,{children:[(0,l.jsx)(a.__J,{children:"Direction"}),(0,l.jsx)(a.kFS,{children:(0,l.jsxs)(a.PhF,{value:u,onClick:e=>{e.stopPropagation()},onChange:e=>{x(e.currentTarget.value)},children:[(0,l.jsx)(a.Wxm,{value:"desc",children:"descending"},"desc"),(0,l.jsx)(a.Wxm,{value:"asc",children:"ascending"},"asc")]})})]}),(0,l.jsx)(a.Clw,{}),(0,l.jsxs)(a.WVB,{children:[(0,l.jsx)(a.__J,{children:"Display properties"}),(0,l.jsx)(a.kFS,{children:(0,l.jsx)(a.zxk,{tip:"Reset all to defaults",variant:"ghost",onClick:e=>{e.stopPropagation(),n()},children:(0,l.jsx)(a.Wet,{})})})]}),(0,l.jsx)(a.FzK,{label:"General",columns:f.map(e=>e.value),enabled:h,setColumnsVisible:t,setColumnsHidden:i}),(0,l.jsx)(a.WVB,{children:(0,l.jsx)(a.j4H,{options:f,values:h,onChange:e=>s(e)})}),(0,l.jsx)(a.FzK,{label:"Usage",columns:j.map(e=>e.value),enabled:h,setColumnsVisible:t,setColumnsHidden:i}),(0,l.jsx)(a.WVB,{children:(0,l.jsx)(a.j4H,{options:j,values:h,onChange:e=>s(e)})})]})}function f(){return(0,l.jsx)("div",{className:"flex gap-2",children:(0,l.jsx)(h,{})})}var j=n(99182),v=n(2784),m=n(11015);function p(){let{filters:e,removeFilter:s,removeLastFilter:n}=(0,r.G)(),[t,i]=(0,v.useState)(!1),[c,o]=(0,v.useState)(""),[d,u]=(0,v.useState)([]),x=d[d.length-1],h=(d.length,(0,v.useRef)(null)),f=(0,v.useRef)(null),p=(0,v.useCallback)(e=>{u(s=>[...s,e])},[u]),g=(0,v.useCallback)(()=>{u([])},[u]);(0,v.useEffect)(()=>{let e=e=>{h.current&&!h.current.contains(e.target)&&i(!1)};return document.addEventListener("click",e,!0),()=>{document.removeEventListener("click",e,!0)}},[]);let b=(0,v.useCallback)(()=>{var e;null===(e=f.current)||void 0===e||e.focus()},[f]),w=(0,v.useCallback)(()=>{o(""),g()},[g]);return(0,l.jsxs)("div",{className:"flex gap-1",children:[e.map(e=>(0,l.jsxs)(a.eQh,{children:[(0,l.jsx)(a.zxk,{variant:"active",state:"waiting",children:(0,a.$Gg)(e.label,30)}),(0,l.jsx)(a.zxk,{variant:"active",size:"small",onClick:()=>s(e.id),children:(0,l.jsx)(a.PcV,{})})]},e.id)),(0,l.jsxs)(j.mY,{ref:h,label:"Command Menu",onFocus:()=>i(!0),onKeyDown:e=>{if(d.length>0)"Escape"!==e.key&&("Backspace"!==e.key||c)||(e.preventDefault(),u(e=>e.slice(0,-1)));else if(0===d.length&&("Backspace"!==e.key||c||n(),"Escape"===e.key&&!c)){var s;i(!1),null===(s=f.current)||void 0===s||s.blur()}},children:[(0,l.jsx)(j.mY.Input,{ref:f,value:c,onValueChange:o,className:(0,a.cEb)({variant:"ghost",focus:"none"}),placeholder:"Filter contracts"}),t&&(0,l.jsx)(a.s_4,{className:"absolute z-20 min-w-[200px] max-h-[400px] overflow-auto p-1",children:(0,l.jsxs)(a.xrM,{children:[x&&(0,l.jsx)(a.__J,{className:"px-1.5 py-1",children:x.label}),(0,l.jsx)(j.mY.List,{children:(0,l.jsx)(m.F,{currentPage:x,beforeSelect:b,afterSelect:w,pushPage:p})})]})})]})]})}function g(){let{offset:e,limit:s,totalCount:n,pageCount:t,isLoading:i}=(0,r.G)();return(0,l.jsxs)("div",{className:"flex gap-2 justify-between w-full",children:[(0,l.jsx)(p,{}),(0,l.jsx)(a.uDJ,{offset:e,limit:s,isLoading:i,datasetTotal:n,pageTotal:t})]})}function b(){let{openDialog:e}=(0,c.Rh)(),{columns:s,dataset:n,sortColumn:h,sortDirection:j,toggleSort:v,limit:m,dataState:p,cellContext:b}=(0,r.G)();return(0,l.jsx)(o.q,{title:"Contracts",routes:i._,sidenav:(0,l.jsx)(t.N,{}),openSettings:()=>e("settings"),actions:(0,l.jsx)(f,{}),stats:(0,l.jsx)(g,{}),size:"full",children:(0,l.jsx)("div",{className:"p-6 min-w-fit",children:(0,l.jsx)(a.iA_,{context:b,isLoading:"loading"===p,emptyState:"noneMatchingFilters"===p?(0,l.jsx)(d,{}):"noneYet"===p?(0,l.jsx)(u,{}):"error"===p?(0,l.jsx)(x,{}):null,pageSize:m,data:n,columns:s,sortDirection:j,sortColumn:h,toggleSort:v})})})}function w(){return(0,l.jsx)(b,{})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=77441)}),_N_E=e.O()}]);