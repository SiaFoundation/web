(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[789],{69171:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/wallet",function(){return s(39117)}])},92522:function(e,n,s){"use strict";s.d(n,{q:function(){return m}});var t=s(52322),i=s(46731),a=s(13369),l=s(6391),o=s.n(l),d=s(74881),c=s(41491),r=s(34581);function u(){var e,n,s,l,o,d,u;let{openDialog:m}=(0,r.Rh)(),x=(0,a.On)({config:{swr:{revalidateOnFocus:!1}}}),f=(0,a.rV)({config:{swr:{revalidateOnFocus:!1}}}),h=(0,c.n)(),v=(0,a.cQ)(),p=null===(e=x.data)||void 0===e?void 0:e.version,j=(null==p?void 0:p.match(/^v\d+\.\d+\.\d+/))?"https://github.com/SiaFoundation/hostd/releases/".concat(p):"https://github.com/SiaFoundation/hostd/tree/".concat(p);return(0,t.jsxs)(i.HfT,{name:"hostd",peerCount:null===(n=v.data)||void 0===n?void 0:n.length,connectPeer:()=>m("connectPeer"),isSynced:h.isSynced,percent:h.percent,nodeBlockHeight:h.nodeBlockHeight,estimatedBlockHeight:h.estimatedBlockHeight,firstTimeSyncing:h.firstTimeSyncing,moreThan100BlocksToSync:h.moreThan100BlocksToSync,children:[(0,t.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,t.jsx)(i.__J,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Net address"}),(0,t.jsx)("div",{className:"flex-1 flex justify-end overflow-hidden",children:(0,t.jsx)(i.xS1,{className:"overflow-hidden",size:"14",value:null===(s=f.data)||void 0===s?void 0:s.netAddress,maxLength:50,label:"network address"})})]}),(0,t.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,t.jsx)(i.__J,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Public key"}),(0,t.jsx)("div",{className:"flex-1 flex justify-end overflow-hidden",children:(0,t.jsx)(i.xS1,{className:"overflow-hidden",size:"14",value:null===(l=x.data)||void 0===l?void 0:l.publicKey,maxLength:50,label:"public key"})})]}),(0,t.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,t.jsx)(i.__J,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Wallet address"}),(0,t.jsx)("div",{className:"flex-1 flex justify-end overflow-hidden",children:(0,t.jsx)(i.xS1,{className:"overflow-hidden",size:"14",maxLength:50,value:null===(o=x.data)||void 0===o?void 0:o.walletAddress,type:"address"})})]}),(0,t.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,t.jsx)(i.__J,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Network"}),(0,t.jsx)("div",{className:"flex-1 flex justify-end overflow-hidden",children:(0,t.jsx)(i.xvT,{size:"14",children:null===(d=x.data)||void 0===d?void 0:d.network})})]}),(0,t.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,t.jsx)(i.__J,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Version"}),(0,t.jsx)("div",{className:"flex-1 flex justify-end overflow-hidden",children:(0,t.jsx)(i.rUS,{size:"14",href:j,target:"_blank",children:null===(u=x.data)||void 0===u?void 0:u.version})})]})]})}function m(e){let n=(0,a.Os)(),{isSynced:s}=(0,c.n)();return(0,t.jsx)(i.tU3,{appName:"hostd",connectivityRoute:d.h,profile:(0,t.jsx)(u,{}),isSynced:s,walletBalance:n.data?new(o())(n.data.spendable).plus(n.data.unconfirmed):void 0,...e})}},39031:function(e,n,s){"use strict";s.d(n,{N:function(){return l}});var t=s(52322),i=s(46731),a=s(74881);function l(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.KJW,{title:"Dashboard",route:a._.home,children:(0,t.jsx)(i.K2o,{})}),(0,t.jsx)(i.KJW,{title:"Volumes",route:a._.volumes.index,children:(0,t.jsx)(i.zvn,{})}),(0,t.jsx)(i.KJW,{title:"Contracts",route:a._.contracts.index,children:(0,t.jsx)(i.VBo,{})}),(0,t.jsx)(i.KJW,{title:"Configuration",route:a._.config.index,children:(0,t.jsx)(i.wWN,{})})]})}},41491:function(e,n,s){"use strict";s.d(n,{n:function(){return a}});var t=s(82337),i=s(13369);function a(){var e,n,s,a;let{isUnlocked:l}=(0,t.Hv)(),o=(0,i.d$)({config:{swr:{refreshInterval:e=>(null==e?void 0:e.synced)?6e4:1e4}}}),d=(0,i.Os)({config:{swr:{refreshInterval:e=>(null==e?void 0:e.scanHeight)>=r-5?6e4:1e4}}}),c=(0,i.nH)(),r=o.data?null===(e=o.data)||void 0===e?void 0:e.chainIndex.height:0,u=l&&r&&c?Number((100*Math.min(r/c,1)).toFixed(1)):0;return{isSynced:null===(n=o.data)||void 0===n?void 0:n.synced,isWalletSynced:(null===(s=o.data)||void 0===s?void 0:s.synced)&&(null===(a=d.data)||void 0===a?void 0:a.scanHeight)>=r-5,nodeBlockHeight:r,estimatedBlockHeight:c,percent:u,moreThan100BlocksToSync:!!r&&!!c&&c-r>100,firstTimeSyncing:!!r&&!!c&&c-r>5e4}}},39117:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return h}});var t=s(52322),i=s(46731),a=s(13369),l=s(2784),o=s(34581),d=s(74881),c=s(6391),r=s.n(c),u=s(39031),m=s(92522),x=s(41491);function f(){let e=(0,a.Qq)({params:{limit:50,offset:0}}),n=(0,a.a0)(),{openDialog:s}=(0,o.Rh)(),c=(0,a.Os)(),f=(0,l.useMemo)(()=>[...(n.data||[]).map(e=>({type:"transaction",txType:(0,i.fWj)(e.transaction,e.source),hash:e.ID,timestamp:new Date(e.timestamp).getTime(),sc:new(r())(e.inflow).minus(e.outflow),unconfirmed:!0})),...(e.data||[]).map(e=>({type:"transaction",txType:(0,i.fWj)(e.transaction,e.source),hash:e.ID,timestamp:new Date(e.timestamp).getTime(),onClick:()=>s("transactionDetails",e.ID),sc:new(r())(e.inflow).minus(e.outflow)})).sort((e,n)=>e.timestamp<n.timestamp?1:-1)],[n,e,s]),h=(0,l.useMemo)(()=>{let e=new Date().getTime(),n=(0,i.NrH)(30);return new Date(e-n).toISOString()},[]),v=(0,a.KU)({params:{period:"daily",start:h,periods:30}}),p=(0,l.useMemo)(()=>(v.data||[]).map(e=>({sc:Number(e.balance),timestamp:new Date(e.timestamp).getTime()})).sort((e,n)=>e.timestamp>=n.timestamp?1:-1),[v.data]),{isWalletSynced:j}=(0,x.n)();return(0,t.jsx)(m.q,{routes:d._,sidenav:(0,t.jsx)(u.N,{}),openSettings:()=>s("settings"),title:"Wallet",actions:(0,t.jsx)(i.QUh,{isSynced:j,sc:c.data?new(r())(c.data.spendable).plus(c.data.unconfirmed):void 0,receiveSiacoin:()=>s("addressDetails"),sendSiacoin:()=>s("sendSiacoin")}),stats:!j&&(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)(i.xvT,{color:"amber",children:(0,t.jsx)(i.qdM,{})}),(0,t.jsx)(i.xvT,{size:"14",children:"Blockchain is syncing, transaction data may be incomplete."})]}),children:(0,t.jsxs)("div",{className:"p-6 flex flex-col gap-5",children:[(0,t.jsx)(i.Z58,{balances:p,isLoading:v.isValidating}),(0,t.jsx)(i.xUn,{title:"Transactions",entities:f.slice(0,100)})]})})}function h(){return(0,t.jsx)(f,{})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=69171)}),_N_E=e.O()}]);