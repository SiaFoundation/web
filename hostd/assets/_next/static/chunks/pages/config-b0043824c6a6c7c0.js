(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[490],{57344:function(e,i,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/config",function(){return s(92250)}])},92250:function(e,i,s){"use strict";s.r(i),s.d(i,{default:function(){return P}});var n=s(52322),l=s(85387),r=s(29703),a=s(63862);function t(){let{revalidateAndResetForm:e}=(0,r.ZR)();return(0,n.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px] cursor-pointer",children:[(0,n.jsx)(l.xvT,{children:(0,n.jsx)(a.gFQ,{className:"scale-[200%]"})}),(0,n.jsxs)("div",{className:"flex flex-col gap-3 items-center",children:[(0,n.jsx)(l.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:"Error retrieving settings from daemon. Please check your connection and try again."}),(0,n.jsx)(l.zxk,{onClick:()=>e(),children:"Reload"})]})]})}function c(){let{fields:e,form:i,remoteError:s,configRef:a}=(0,r.ZR)(),c=i.watch("shouldPinStoragePrice"),o=i.watch("shouldPinEgressPrice"),d=i.watch("shouldPinIngressPrice"),x=i.watch("shouldPinMaxCollateral"),f=i.watch("pinnedCurrency");return s?(0,n.jsx)(t,{}):(0,n.jsxs)("div",{ref:a,className:"px-5 py-6 flex flex-col gap-16",children:[(0,n.jsx)(l.vRO,{title:"Host",category:"host",fields:e,form:i}),(0,n.jsxs)(l.M9k,{title:"Pricing",children:[(0,n.jsx)(l.CN9,{autoVisibility:!0,name:"pinnedCurrency",form:i,fields:e}),(0,n.jsx)(l.CN9,{autoVisibility:!0,form:i,fields:e,name:"pinnedThreshold"}),(0,n.jsx)(l.VXA,{id:"storagePriceGroup",title:"Storage price",description:e.storagePrice.description,control:(0,n.jsxs)("div",{className:"flex flex-col gap-1 w-[250px]",children:[(0,l.f5n)({form:i,fields:e,name:"shouldPinStoragePrice"})&&(0,n.jsx)(l.ua7,{align:"end",content:"Pin the value to a fixed fiat amount. The daemon will automatically keep the value in sync.",children:(0,n.jsxs)("div",{className:"flex w-full justify-between",children:[(0,n.jsx)(l.xvT,{weight:"medium",color:"verySubtle",size:"14",children:"Pin"}),(0,n.jsx)(l.QBj,{name:"shouldPinStoragePrice",form:i,fields:e,size:"small",group:!1})]})}),(0,l.f5n)({form:i,fields:e,name:"shouldPinStoragePrice"})&&c?(0,n.jsx)(l.npL,{name:"storagePricePinned",form:i,fields:e,currency:f||void 0}):(0,n.jsx)(l.ckm,{name:"storagePrice",form:i,fields:e})]})}),(0,n.jsx)(l.VXA,{id:"egressPriceGroup",title:"Egress price",description:e.egressPrice.description,control:(0,n.jsxs)("div",{className:"flex flex-col gap-1 w-[250px]",children:[(0,l.f5n)({form:i,fields:e,name:"shouldPinEgressPrice"})&&(0,n.jsx)(l.ua7,{align:"end",content:"Pin the value to a fixed fiat amount. The daemon will automatically keep the value in sync.",children:(0,n.jsxs)("div",{className:"flex w-full justify-between",children:[(0,n.jsx)(l.xvT,{weight:"medium",color:"verySubtle",size:"14",children:"Pin"}),(0,n.jsx)(l.QBj,{name:"shouldPinEgressPrice",form:i,fields:e,size:"small",group:!1})]})}),(0,l.f5n)({form:i,fields:e,name:"shouldPinEgressPrice"})&&o?(0,n.jsx)(l.npL,{name:"egressPricePinned",form:i,fields:e,currency:f}):(0,n.jsx)(l.ckm,{name:"egressPrice",form:i,fields:e})]})}),(0,n.jsx)(l.VXA,{id:"ingressPriceGroup",title:"Ingress price",description:e.ingressPrice.description,control:(0,n.jsxs)("div",{className:"flex flex-col gap-1 w-[250px]",children:[(0,l.f5n)({form:i,fields:e,name:"shouldPinIngressPrice"})&&(0,n.jsx)(l.ua7,{align:"end",content:"Pin the value to a fixed fiat amount. The daemon will automatically keep the value in sync.",children:(0,n.jsxs)("div",{className:"flex w-full justify-between",children:[(0,n.jsx)(l.xvT,{weight:"medium",color:"verySubtle",size:"14",children:"Pin"}),(0,n.jsx)(l.QBj,{name:"shouldPinIngressPrice",form:i,fields:e,size:"small",group:!1})]})}),(0,l.f5n)({form:i,fields:e,name:"shouldPinIngressPrice"})&&d?(0,n.jsx)(l.npL,{name:"ingressPricePinned",form:i,fields:e,currency:f}):(0,n.jsx)(l.ckm,{name:"ingressPrice",form:i,fields:e})]})}),(0,n.jsx)(l.CN9,{name:"collateralMultiplier",form:i,fields:e}),(0,l.f5n)({form:i,fields:e,name:"maxCollateral"})&&(0,n.jsx)(l.VXA,{id:"maxCollateralGroup",title:"Max collateral",description:e.maxCollateral.description,control:(0,n.jsxs)("div",{className:"flex flex-col gap-1 w-[250px]",children:[(0,l.f5n)({form:i,fields:e,name:"shouldPinMaxCollateral"})&&(0,n.jsx)(l.ua7,{align:"end",content:"Pin the value to a fixed fiat amount. The daemon will automatically keep the value in sync.",children:(0,n.jsxs)("div",{className:"flex w-full justify-between",children:[(0,n.jsx)(l.xvT,{weight:"medium",color:"verySubtle",size:"14",children:"Pin"}),(0,n.jsx)(l.QBj,{name:"shouldPinMaxCollateral",form:i,fields:e,size:"small",group:!1})]})}),(0,l.f5n)({form:i,fields:e,name:"shouldPinMaxCollateral"})&&x?(0,n.jsx)(l.npL,{name:"maxCollateralPinned",form:i,fields:e,currency:f}):(0,n.jsx)(l.ckm,{name:"maxCollateral",form:i,fields:e})]})}),(0,n.jsx)(l.CN9,{autoVisibility:!0,form:i,fields:e,name:"contractPrice"}),(0,n.jsx)(l.CN9,{autoVisibility:!0,form:i,fields:e,name:"baseRPCPrice"}),(0,n.jsx)(l.CN9,{autoVisibility:!0,form:i,fields:e,name:"sectorAccessPrice"}),(0,n.jsx)(l.CN9,{autoVisibility:!0,form:i,fields:e,name:"priceTableValidity"})]}),(0,n.jsx)(l.vRO,{title:"DNS",category:"DNS",fields:e,form:i}),(0,n.jsx)(l.vRO,{title:"Bandwidth",category:"bandwidth",fields:e,form:i}),(0,n.jsx)(l.vRO,{title:"Registry",category:"registry",fields:e,form:i}),(0,n.jsx)(l.vRO,{title:"Accounts",category:"RHP3",fields:e,form:i})]})}var o=s(13779),d=s(4300),x=s(7451),f=s(41941);function u(){return(0,n.jsx)("div",{className:"pl-1"})}function m(){let{takeScreenshot:e}=(0,r.ZR)();return(0,n.jsxs)(l.h_2,{trigger:(0,n.jsx)(l.zxk,{children:(0,n.jsx)(a.jH8,{})}),contentProps:{align:"end"},children:[(0,n.jsx)(l.Juw,{children:"Actions"}),(0,n.jsxs)(l.Xiv,{onSelect:()=>{e({name:"config image",copy:!0})},children:[(0,n.jsx)(l.KpP,{children:(0,n.jsx)(a.olJ,{})}),"Copy image of configuration"]}),(0,n.jsxs)(l.Xiv,{onSelect:()=>{e({name:"config",download:!0})},children:[(0,n.jsx)(l.KpP,{children:(0,n.jsx)(a.vzB,{})}),"Download image of configuration"]})]})}function h(){let{configViewMode:e,setConfigViewMode:i}=(0,r.ZR)();return(0,n.jsx)("div",{className:"pl-1",children:(0,n.jsx)(l.ua7,{content:"advanced"===e?"Show advanced settings":"Hide advanced settings",children:(0,n.jsx)("div",{children:(0,n.jsx)(l.rsf,{"aria-label":"configViewMode",checked:"advanced"===e,onCheckedChange:e=>i(e?"advanced":"basic")})})})})}function j(){return(0,n.jsx)(l.J2e,{trigger:(0,n.jsxs)(l.zxk,{size:"small",tip:"Configure view",tipAlign:"end",children:[(0,n.jsx)(a.hiv,{}),"View",(0,n.jsx)(a.EMN,{})]}),contentProps:{align:"end",className:"max-w-[300px]"},children:(0,n.jsxs)(l.WVB,{children:[(0,n.jsx)(l.__J,{children:"Show advanced settings"}),(0,n.jsx)(l.kFS,{children:(0,n.jsx)(h,{})})]})})}var g=s(60470);function p(){let{changeCount:e,revalidateAndResetForm:i,form:s,onSubmit:t}=(0,r.ZR)();return(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[!!e&&(0,n.jsx)(l.xvT,{size:"12",color:"subtle",children:(0,g._6)(e,"change","changes")}),(0,n.jsx)(l.zxk,{tip:"Reset all changes",icon:"contrast",disabled:!e,onClick:i,children:(0,n.jsx)(a.Wet,{})}),(0,n.jsxs)(l.zxk,{tip:"Save all changes",variant:"accent",disabled:!s.formState.isDirty||s.formState.isSubmitting,onClick:t,children:[(0,n.jsx)(a.ZEk,{}),"Save changes"]}),(0,n.jsx)(m,{}),(0,n.jsx)(j,{})]})}let v=f.q;function P(){return(0,n.jsx)(c,{})}P.Layout=v,P.useLayoutProps=function(){var e;let{openDialog:i}=(0,x.Rh)(),{settings:s,dynDNSCheck:t}=(0,r.ZR)();return{title:"Configuration",routes:d._,nav:(0,n.jsx)(u,{}),sidenav:(0,n.jsx)(o.N,{}),stats:(null===(e=s.data)||void 0===e?void 0:e.ddns.provider)&&!t.isValidating?t.error?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.xvT,{color:"amber",children:(0,n.jsx)(a.qdM,{})}),(0,n.jsxs)(l.xvT,{size:"14",children:["Error with dynamic DNS configuration: ",t.error.message]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.xvT,{color:"green",children:(0,n.jsx)(a.Y3p,{})}),(0,n.jsx)(l.xvT,{children:"Dynamic DNS enabled"})]}):null,actions:(0,n.jsx)(p,{}),openSettings:()=>i("settings"),size:"3"}}}},function(e){e.O(0,[546,888,774,179],function(){return e(e.s=57344)}),_N_E=e.O()}]);