(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[954],{21966:(e,i,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/config",function(){return s(31691)}])},31691:(e,i,s)=>{"use strict";s.r(i),s.d(i,{default:()=>P});var n=s(6029),l=s(93657),r=s(82367),a=s(53361);function t(){let{revalidateAndResetForm:e}=(0,r.UK)();return(0,n.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px] cursor-pointer",children:[(0,n.jsx)(l.EYj,{children:(0,n.jsx)(a.OTI,{className:"scale-[200%]"})}),(0,n.jsxs)("div",{className:"flex flex-col gap-3 items-center",children:[(0,n.jsx)(l.EYj,{color:"subtle",className:"text-center max-w-[500px]",children:"Error retrieving settings from daemon. Please check your connection and try again."}),(0,n.jsx)(l.$nd,{onClick:()=>e(),children:"Reload"})]})]})}function c(){let{fields:e,form:i,remoteError:s,configRef:a}=(0,r.UK)(),c=i.watch("shouldPinStoragePrice"),o=i.watch("shouldPinEgressPrice"),d=i.watch("shouldPinIngressPrice"),x=i.watch("shouldPinMaxCollateral"),j=i.watch("pinnedCurrency");return s?(0,n.jsx)(t,{}):(0,n.jsxs)("div",{ref:a,className:"px-5 py-6 flex flex-col gap-16",children:[(0,n.jsx)(l.lai,{title:"Host",category:"host",fields:e,form:i}),(0,n.jsxs)(l.f39,{title:"Pricing",children:[(0,n.jsx)(l.F9t,{autoVisibility:!0,name:"pinnedCurrency",form:i,fields:e}),(0,n.jsx)(l.F9t,{autoVisibility:!0,form:i,fields:e,name:"pinnedThreshold"}),(0,n.jsx)(l.sqA,{id:"storagePriceGroup",title:"Storage price",description:e.storagePrice.description,control:(0,n.jsxs)("div",{className:"flex flex-col gap-1 w-[250px]",children:[(0,l.xIj)({form:i,fields:e,name:"shouldPinStoragePrice"})&&(0,n.jsx)(l.m_M,{align:"end",content:"Pin the value to a fixed fiat amount. The daemon will automatically keep the value in sync.",children:(0,n.jsxs)("div",{className:"flex w-full justify-between",children:[(0,n.jsx)(l.EYj,{weight:"medium",color:"verySubtle",size:"14",children:"Pin"}),(0,n.jsx)(l.rMA,{name:"shouldPinStoragePrice",form:i,fields:e,size:"small",group:!1})]})}),(0,l.xIj)({form:i,fields:e,name:"shouldPinStoragePrice"})&&c?(0,n.jsx)(l.pQW,{name:"storagePricePinned",form:i,fields:e,currency:j||void 0}):(0,n.jsx)(l.jly,{name:"storagePrice",form:i,fields:e})]})}),(0,n.jsx)(l.sqA,{id:"egressPriceGroup",title:"Egress price",description:e.egressPrice.description,control:(0,n.jsxs)("div",{className:"flex flex-col gap-1 w-[250px]",children:[(0,l.xIj)({form:i,fields:e,name:"shouldPinEgressPrice"})&&(0,n.jsx)(l.m_M,{align:"end",content:"Pin the value to a fixed fiat amount. The daemon will automatically keep the value in sync.",children:(0,n.jsxs)("div",{className:"flex w-full justify-between",children:[(0,n.jsx)(l.EYj,{weight:"medium",color:"verySubtle",size:"14",children:"Pin"}),(0,n.jsx)(l.rMA,{name:"shouldPinEgressPrice",form:i,fields:e,size:"small",group:!1})]})}),(0,l.xIj)({form:i,fields:e,name:"shouldPinEgressPrice"})&&o?(0,n.jsx)(l.pQW,{name:"egressPricePinned",form:i,fields:e,currency:j}):(0,n.jsx)(l.jly,{name:"egressPrice",form:i,fields:e})]})}),(0,n.jsx)(l.sqA,{id:"ingressPriceGroup",title:"Ingress price",description:e.ingressPrice.description,control:(0,n.jsxs)("div",{className:"flex flex-col gap-1 w-[250px]",children:[(0,l.xIj)({form:i,fields:e,name:"shouldPinIngressPrice"})&&(0,n.jsx)(l.m_M,{align:"end",content:"Pin the value to a fixed fiat amount. The daemon will automatically keep the value in sync.",children:(0,n.jsxs)("div",{className:"flex w-full justify-between",children:[(0,n.jsx)(l.EYj,{weight:"medium",color:"verySubtle",size:"14",children:"Pin"}),(0,n.jsx)(l.rMA,{name:"shouldPinIngressPrice",form:i,fields:e,size:"small",group:!1})]})}),(0,l.xIj)({form:i,fields:e,name:"shouldPinIngressPrice"})&&d?(0,n.jsx)(l.pQW,{name:"ingressPricePinned",form:i,fields:e,currency:j}):(0,n.jsx)(l.jly,{name:"ingressPrice",form:i,fields:e})]})}),(0,n.jsx)(l.F9t,{name:"collateralMultiplier",form:i,fields:e}),(0,l.xIj)({form:i,fields:e,name:"maxCollateral"})&&(0,n.jsx)(l.sqA,{id:"maxCollateralGroup",title:"Max collateral",description:e.maxCollateral.description,control:(0,n.jsxs)("div",{className:"flex flex-col gap-1 w-[250px]",children:[(0,l.xIj)({form:i,fields:e,name:"shouldPinMaxCollateral"})&&(0,n.jsx)(l.m_M,{align:"end",content:"Pin the value to a fixed fiat amount. The daemon will automatically keep the value in sync.",children:(0,n.jsxs)("div",{className:"flex w-full justify-between",children:[(0,n.jsx)(l.EYj,{weight:"medium",color:"verySubtle",size:"14",children:"Pin"}),(0,n.jsx)(l.rMA,{name:"shouldPinMaxCollateral",form:i,fields:e,size:"small",group:!1})]})}),(0,l.xIj)({form:i,fields:e,name:"shouldPinMaxCollateral"})&&x?(0,n.jsx)(l.pQW,{name:"maxCollateralPinned",form:i,fields:e,currency:j}):(0,n.jsx)(l.jly,{name:"maxCollateral",form:i,fields:e})]})}),(0,n.jsx)(l.F9t,{autoVisibility:!0,form:i,fields:e,name:"contractPrice"}),(0,n.jsx)(l.F9t,{autoVisibility:!0,form:i,fields:e,name:"baseRPCPrice"}),(0,n.jsx)(l.F9t,{autoVisibility:!0,form:i,fields:e,name:"sectorAccessPrice"}),(0,n.jsx)(l.F9t,{autoVisibility:!0,form:i,fields:e,name:"priceTableValidity"})]}),(0,n.jsx)(l.lai,{title:"DNS",category:"DNS",fields:e,form:i}),(0,n.jsx)(l.lai,{title:"Bandwidth",category:"bandwidth",fields:e,form:i}),(0,n.jsx)(l.lai,{title:"Registry",category:"registry",fields:e,form:i}),(0,n.jsx)(l.lai,{title:"Accounts",category:"RHP3",fields:e,form:i})]})}var o=s(51006),d=s(80698),x=s(61191),j=s(26438);function m(){return(0,n.jsx)("div",{className:"pl-1"})}function f(){let{takeScreenshot:e}=(0,r.UK)();return(0,n.jsxs)(l.rId,{trigger:(0,n.jsx)(l.$nd,{children:(0,n.jsx)(a.FJA,{})}),contentProps:{align:"end"},children:[(0,n.jsx)(l.lpj,{children:"Actions"}),(0,n.jsxs)(l._26,{onSelect:()=>{e({name:"config image",copy:!0})},children:[(0,n.jsx)(l.wO3,{children:(0,n.jsx)(a.vA0,{})}),"Copy image of configuration"]}),(0,n.jsxs)(l._26,{onSelect:()=>{e({name:"config",download:!0})},children:[(0,n.jsx)(l.wO3,{children:(0,n.jsx)(a.afm,{})}),"Download image of configuration"]})]})}function u(){let{configViewMode:e,setConfigViewMode:i}=(0,r.UK)();return(0,n.jsx)("div",{className:"pl-1",children:(0,n.jsx)(l.m_M,{content:"advanced"===e?"Show advanced settings":"Hide advanced settings",children:(0,n.jsx)("div",{children:(0,n.jsx)(l.dOG,{"aria-label":"configViewMode",checked:"advanced"===e,onCheckedChange:e=>i(e?"advanced":"basic")})})})})}function h(){return(0,n.jsx)(l.AMh,{trigger:(0,n.jsxs)(l.$nd,{size:"small",tip:"Configure view",tipAlign:"end",children:[(0,n.jsx)(a.s7Y,{}),"View",(0,n.jsx)(a.NNJ,{})]}),contentProps:{align:"end",className:"max-w-[300px]"},children:(0,n.jsxs)(l.iy7,{children:[(0,n.jsx)(l.JU7,{children:"Show advanced settings"}),(0,n.jsx)(l.DF3,{children:(0,n.jsx)(u,{})})]})})}var g=s(32708);function p(){let{changeCount:e,revalidateAndResetForm:i,form:s,onSubmit:t}=(0,r.UK)();return(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[!!e&&(0,n.jsx)(l.EYj,{size:"12",color:"subtle",children:(0,g.td)(e,"change","changes")}),(0,n.jsx)(l.$nd,{tip:"Reset all changes",icon:"contrast",disabled:!e,onClick:i,children:(0,n.jsx)(a.ZxO,{})}),(0,n.jsxs)(l.$nd,{tip:"Save all changes",variant:"accent",disabled:!s.formState.isDirty||s.formState.isSubmitting,onClick:t,children:[(0,n.jsx)(a.xfD,{}),"Save changes"]}),(0,n.jsx)(f,{}),(0,n.jsx)(h,{})]})}function P(){return(0,n.jsx)(c,{})}P.Layout=j.Y,P.useLayoutProps=function(){var e;let{openDialog:i}=(0,x.sp)(),{settings:s,dynDNSCheck:t}=(0,r.UK)();return{title:"Configuration",routes:d.J,nav:(0,n.jsx)(m,{}),sidenav:(0,n.jsx)(o.F,{}),stats:(null==(e=s.data)?void 0:e.ddns.provider)&&!t.isValidating?t.error?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.EYj,{color:"amber",children:(0,n.jsx)(a.UvW,{})}),(0,n.jsxs)(l.EYj,{size:"14",children:["Error with dynamic DNS configuration: ",t.error.message]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.EYj,{color:"green",children:(0,n.jsx)(a.Voo,{})}),(0,n.jsx)(l.EYj,{children:"Dynamic DNS enabled"})]}):null,actions:(0,n.jsx)(p,{}),openSettings:()=>i("settings"),size:"3"}}}},e=>{e.O(0,[907,636,593,792],()=>e(e.s=21966)),_N_E=e.O()}]);