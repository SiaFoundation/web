(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[348],{77441:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/contracts",function(){return n(18706)}])},18706:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return w}});var l=n(52322),t=n(89130),a=n(65717),c=n(35138);function i(){return(0,l.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px]",children:[(0,l.jsx)(t.xvT,{children:(0,l.jsx)(c.Hb6,{className:"scale-[200%]"})}),(0,l.jsx)(t.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:"No active contracts matching filters."})]})}function r(){return(0,l.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px]",children:[(0,l.jsx)(t.xvT,{children:(0,l.jsx)(c.VBo,{className:"scale-[200%]"})}),(0,l.jsx)(t.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:"There are currently no active contracts. Configure and announce host to start forming contracts."})]})}function o(){return(0,l.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px]",children:[(0,l.jsx)(t.xvT,{children:(0,l.jsx)(c.Ckx,{className:"scale-[200%]"})}),(0,l.jsx)(t.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:"Error fetching contracts."})]})}function u(){let{columns:e,dataset:s,sortField:n,sortDirection:c,sortableColumns:u,toggleSort:x,limit:d,dataState:j,cellContext:h}=(0,a.G)();return(0,l.jsx)("div",{className:"p-6 min-w-fit",children:(0,l.jsx)(t.iA_,{context:h,isLoading:"loading"===j,emptyState:"noneMatchingFilters"===j?(0,l.jsx)(i,{}):"noneYet"===j?(0,l.jsx)(r,{}):"error"===j?(0,l.jsx)(o,{}):null,pageSize:d,data:s,columns:e,sortableColumns:u,sortDirection:c,sortField:n,toggleSort:x})})}var x=n(13779),d=n(4300),j=n(54494),h=n(41941),m=n(46850),f=n(83894);function p(){let{configurableColumns:e,toggleColumnVisibility:s,resetDefaultColumnVisibility:n,setColumnsVisible:i,setColumnsHidden:r,sortField:o,setSortField:u,sortDirection:x,setSortDirection:d,enabledColumns:j}=(0,a.G)(),h=e.filter(e=>"general"===e.category).map(e=>({label:e.label,value:e.id})),p=e.filter(e=>"time"===e.category).map(e=>({label:e.label,value:e.id})),g=e.filter(e=>"financial"===e.category).map(e=>({label:e.label,value:e.id}));return(0,l.jsxs)(t.J2e,{trigger:(0,l.jsxs)(t.zxk,{size:"small",tip:"Configure view",tipAlign:"end",children:[(0,l.jsx)(c.hiv,{}),"View",(0,l.jsx)(c.EMN,{})]}),contentProps:{align:"end",className:"max-w-[300px]"},children:[(0,l.jsxs)(t.WVB,{children:[(0,l.jsx)(t.__J,{children:"Order by"}),(0,l.jsx)(t.kFS,{children:(0,l.jsx)(t.PhF,{value:o,onChange:e=>{u(e.currentTarget.value)},children:Object.entries((0,f.Z)(m.Fo,"category")).map(e=>{let[s,n]=e;return(0,l.jsx)("optgroup",{label:s,children:n.map(e=>(0,l.jsx)(t.Wxm,{value:e.id,children:e.label},e.id))},s)})})})]}),(0,l.jsxs)(t.WVB,{children:[(0,l.jsx)(t.__J,{children:"Direction"}),(0,l.jsx)(t.kFS,{children:(0,l.jsxs)(t.PhF,{value:x,onClick:e=>{e.stopPropagation()},onChange:e=>{d(e.currentTarget.value)},children:[(0,l.jsx)(t.Wxm,{value:"desc",children:"descending"},"desc"),(0,l.jsx)(t.Wxm,{value:"asc",children:"ascending"},"asc")]})})]}),(0,l.jsx)(t.Clw,{}),(0,l.jsxs)(t.WVB,{children:[(0,l.jsx)(t.__J,{children:"Display properties"}),(0,l.jsx)(t.kFS,{children:(0,l.jsx)(t.zxk,{tip:"Reset all to defaults",variant:"ghost",onClick:e=>{e.stopPropagation(),n()},children:(0,l.jsx)(c.Wet,{})})})]}),(0,l.jsx)(t.FzK,{label:"General",columns:h.map(e=>e.value),enabled:j,setColumnsVisible:i,setColumnsHidden:r}),(0,l.jsx)(t.WVB,{children:(0,l.jsx)(t.j4H,{options:h,values:j,onChange:e=>s(e)})}),(0,l.jsx)(t.FzK,{label:"Time",columns:p.map(e=>e.value),enabled:j,setColumnsVisible:i,setColumnsHidden:r}),(0,l.jsx)(t.WVB,{children:(0,l.jsx)(t.j4H,{options:p,values:j,onChange:e=>s(e)})}),(0,l.jsx)(t.FzK,{label:"Usage",columns:g.map(e=>e.value),enabled:j,setColumnsVisible:i,setColumnsHidden:r}),(0,l.jsx)(t.WVB,{children:(0,l.jsx)(t.j4H,{options:g,values:j,onChange:e=>s(e)})})]})}function g(){return(0,l.jsx)("div",{className:"flex gap-2",children:(0,l.jsx)(p,{})})}var v=n(65304),b=n(2784),C=n(63328);function k(){let{filters:e,removeFilter:s,removeLastFilter:n}=(0,a.G)(),[i,r]=(0,b.useState)(!1),[o,u]=(0,b.useState)(""),[x,d]=(0,b.useState)([]),j=x[x.length-1],h=(x.length,(0,b.useRef)(null)),m=(0,b.useRef)(null),f=(0,b.useCallback)(e=>{d(s=>[...s,e])},[d]),p=(0,b.useCallback)(()=>{d([])},[d]);(0,b.useEffect)(()=>{let e=e=>{h.current&&!h.current.contains(e.target)&&r(!1)};return document.addEventListener("click",e,!0),()=>{document.removeEventListener("click",e,!0)}},[]);let g=(0,b.useCallback)(()=>{var e;null===(e=m.current)||void 0===e||e.focus()},[m]),k=(0,b.useCallback)(()=>{u(""),p()},[p]);return(0,l.jsxs)("div",{className:"flex gap-1",children:[e.map(e=>(0,l.jsxs)(t.eQh,{children:[(0,l.jsx)(t.zxk,{variant:"active",state:"waiting",children:(0,t.$Gg)(e.label,30)}),(0,l.jsx)(t.zxk,{variant:"active",size:"small",onClick:()=>s(e.id),children:(0,l.jsx)(c.PcV,{})})]},e.id)),(0,l.jsxs)(v.mY,{ref:h,label:"Command Menu",onFocus:()=>r(!0),onKeyDown:e=>{if(x.length>0)"Escape"!==e.key&&("Backspace"!==e.key||o)||(e.preventDefault(),d(e=>e.slice(0,-1)));else if(0===x.length&&("Backspace"!==e.key||o||n(),"Escape"===e.key&&!o)){var s;r(!1),null===(s=m.current)||void 0===s||s.blur()}},children:[(0,l.jsx)(v.mY.Input,{ref:m,value:o,onValueChange:u,className:(0,t.cEb)({variant:"ghost",focus:"none"}),placeholder:"Filter contracts"}),i&&(0,l.jsx)(t.s_4,{className:"absolute z-20 min-w-[200px] max-h-[400px] overflow-auto p-1",children:(0,l.jsxs)(t.xrM,{children:[j&&(0,l.jsx)(t.__J,{className:"px-1.5 py-1",children:j.label}),(0,l.jsx)(v.mY.List,{children:(0,l.jsx)(C.F,{currentPage:j,beforeSelect:g,afterSelect:k,pushPage:f})})]})})]})]})}function N(){let{offset:e,limit:s,totalCount:n,pageCount:c,dataState:i}=(0,a.G)();return(0,l.jsxs)("div",{className:"flex gap-2 justify-between w-full",children:[(0,l.jsx)(k,{}),(0,l.jsx)(t.uDJ,{offset:e,limit:s,isLoading:"loading"===i,datasetTotal:n,pageTotal:c})]})}let _=h.q;function w(){return(0,l.jsx)(u,{})}w.Layout=_,w.useLayoutProps=function(){let{openDialog:e}=(0,j.Rh)();return{title:"Contracts",routes:d._,sidenav:(0,l.jsx)(x.N,{}),openSettings:()=>e("settings"),actions:(0,l.jsx)(g,{}),stats:(0,l.jsx)(N,{}),size:"full"}}}},function(e){e.O(0,[546,888,774,179],function(){return e(e.s=77441)}),_N_E=e.O()}]);