(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,64402,e=>{"use strict";var i=e.i(91398);e.i(86663);var n=e.i(929),s=e.i(78776),t=e.i(39270),l=e.i(28601),o=e.i(53031),a=e.i(89016),r=e.i(86411),c=e.i(26069),d=e.i(81357),u=e.i(96557),x=e.i(58021),f=e.i(14044),h=e.i(54413);e.i(71487);var g=e.i(76993);function m(){let{revalidateAndResetForm:e}=(0,f.useConfig)();return(0,i.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px] cursor-pointer",children:[(0,i.jsx)(n.Text,{children:(0,i.jsx)(g.Warning32,{className:"scale-[200%]"})}),(0,i.jsxs)("div",{className:"flex flex-col gap-3 items-center",children:[(0,i.jsx)(n.Text,{color:"subtle",className:"text-center max-w-[500px]",children:"Error retrieving settings from daemon. Please check your connection and try again."}),(0,i.jsx)(h.Button,{onClick:()=>e(),children:"Reload"})]})]})}function j(){let{fields:e,form:h,remoteError:g,configRef:j}=(0,f.useConfig)(),P=(0,x.useWatch)({control:h.control,name:"shouldPinStoragePrice"}),p=(0,x.useWatch)({control:h.control,name:"shouldPinEgressPrice"}),w=(0,x.useWatch)({control:h.control,name:"shouldPinIngressPrice"}),S=(0,x.useWatch)({control:h.control,name:"shouldPinMaxCollateral"}),v=(0,x.useWatch)({control:h.control,name:"pinnedCurrency"});return g?(0,i.jsx)(m,{}):(0,i.jsxs)("div",{ref:j,className:"px-5 py-6 flex flex-col gap-16",children:[(0,i.jsx)(s.ConfigurationPanel,{title:"Host",category:"host",fields:e,form:h}),(0,i.jsxs)(t.PanelMenuSection,{title:"Pricing",children:[(0,i.jsx)(a.ConfigurationPanelSetting,{autoVisibility:!0,name:"pinnedCurrency",form:h,fields:e}),(0,i.jsx)(a.ConfigurationPanelSetting,{autoVisibility:!0,form:h,fields:e,name:"pinnedThreshold"}),(0,i.jsx)(l.PanelMenuSetting,{id:"storagePriceGroup",title:"Storage price",description:e.storagePrice.description,control:(0,i.jsxs)("div",{className:"flex flex-col gap-1 w-[250px]",children:[(0,r.shouldShowField)({form:h,fields:e,name:"shouldPinStoragePrice"})&&(0,i.jsx)(c.Tooltip,{align:"end",content:"Pin the value to a fixed fiat amount. The daemon will automatically keep the value in sync.",children:(0,i.jsxs)("div",{className:"flex w-full justify-between",children:[(0,i.jsx)(n.Text,{weight:"medium",color:"verySubtle",size:"14",children:"Pin"}),(0,i.jsx)(o.FieldSwitch,{name:"shouldPinStoragePrice",form:h,fields:e,size:"small",group:!1})]})}),(0,r.shouldShowField)({form:h,fields:e,name:"shouldPinStoragePrice"})&&P?(0,i.jsx)(u.ConfigurationFiat,{name:"storagePricePinned",form:h,fields:e,currency:v||void 0}):(0,i.jsx)(d.ConfigurationSiacoin,{name:"storagePrice",form:h,fields:e})]})}),(0,i.jsx)(l.PanelMenuSetting,{id:"egressPriceGroup",title:"Egress price",description:e.egressPrice.description,control:(0,i.jsxs)("div",{className:"flex flex-col gap-1 w-[250px]",children:[(0,r.shouldShowField)({form:h,fields:e,name:"shouldPinEgressPrice"})&&(0,i.jsx)(c.Tooltip,{align:"end",content:"Pin the value to a fixed fiat amount. The daemon will automatically keep the value in sync.",children:(0,i.jsxs)("div",{className:"flex w-full justify-between",children:[(0,i.jsx)(n.Text,{weight:"medium",color:"verySubtle",size:"14",children:"Pin"}),(0,i.jsx)(o.FieldSwitch,{name:"shouldPinEgressPrice",form:h,fields:e,size:"small",group:!1})]})}),(0,r.shouldShowField)({form:h,fields:e,name:"shouldPinEgressPrice"})&&p?(0,i.jsx)(u.ConfigurationFiat,{name:"egressPricePinned",form:h,fields:e,currency:v}):(0,i.jsx)(d.ConfigurationSiacoin,{name:"egressPrice",form:h,fields:e})]})}),(0,i.jsx)(l.PanelMenuSetting,{id:"ingressPriceGroup",title:"Ingress price",description:e.ingressPrice.description,control:(0,i.jsxs)("div",{className:"flex flex-col gap-1 w-[250px]",children:[(0,r.shouldShowField)({form:h,fields:e,name:"shouldPinIngressPrice"})&&(0,i.jsx)(c.Tooltip,{align:"end",content:"Pin the value to a fixed fiat amount. The daemon will automatically keep the value in sync.",children:(0,i.jsxs)("div",{className:"flex w-full justify-between",children:[(0,i.jsx)(n.Text,{weight:"medium",color:"verySubtle",size:"14",children:"Pin"}),(0,i.jsx)(o.FieldSwitch,{name:"shouldPinIngressPrice",form:h,fields:e,size:"small",group:!1})]})}),(0,r.shouldShowField)({form:h,fields:e,name:"shouldPinIngressPrice"})&&w?(0,i.jsx)(u.ConfigurationFiat,{name:"ingressPricePinned",form:h,fields:e,currency:v}):(0,i.jsx)(d.ConfigurationSiacoin,{name:"ingressPrice",form:h,fields:e})]})}),(0,i.jsx)(a.ConfigurationPanelSetting,{name:"collateralMultiplier",form:h,fields:e}),(0,r.shouldShowField)({form:h,fields:e,name:"maxCollateral"})&&(0,i.jsx)(l.PanelMenuSetting,{id:"maxCollateralGroup",title:"Max collateral",description:e.maxCollateral.description,control:(0,i.jsxs)("div",{className:"flex flex-col gap-1 w-[250px]",children:[(0,r.shouldShowField)({form:h,fields:e,name:"shouldPinMaxCollateral"})&&(0,i.jsx)(c.Tooltip,{align:"end",content:"Pin the value to a fixed fiat amount. The daemon will automatically keep the value in sync.",children:(0,i.jsxs)("div",{className:"flex w-full justify-between",children:[(0,i.jsx)(n.Text,{weight:"medium",color:"verySubtle",size:"14",children:"Pin"}),(0,i.jsx)(o.FieldSwitch,{name:"shouldPinMaxCollateral",form:h,fields:e,size:"small",group:!1})]})}),(0,r.shouldShowField)({form:h,fields:e,name:"shouldPinMaxCollateral"})&&S?(0,i.jsx)(u.ConfigurationFiat,{name:"maxCollateralPinned",form:h,fields:e,currency:v}):(0,i.jsx)(d.ConfigurationSiacoin,{name:"maxCollateral",form:h,fields:e})]})}),(0,i.jsx)(a.ConfigurationPanelSetting,{autoVisibility:!0,form:h,fields:e,name:"contractPrice"}),(0,i.jsx)(a.ConfigurationPanelSetting,{autoVisibility:!0,form:h,fields:e,name:"baseRPCPrice"}),(0,i.jsx)(a.ConfigurationPanelSetting,{autoVisibility:!0,form:h,fields:e,name:"sectorAccessPrice"}),(0,i.jsx)(a.ConfigurationPanelSetting,{autoVisibility:!0,form:h,fields:e,name:"priceTableValidity"})]}),(0,i.jsx)(s.ConfigurationPanel,{title:"DNS",category:"DNS",fields:e,form:h}),(0,i.jsx)(s.ConfigurationPanel,{title:"Bandwidth",category:"bandwidth",fields:e,form:h}),(0,i.jsx)(s.ConfigurationPanel,{title:"Registry",category:"registry",fields:e,form:h}),(0,i.jsx)(s.ConfigurationPanel,{title:"Accounts",category:"RHP3",fields:e,form:h})]})}var P=e.i(88384),p=e.i(51600),w=e.i(75109),S=e.i(51189);function v(){return(0,i.jsx)("div",{className:"pl-1"})}var C=e.i(57184);function y(){let{takeScreenshot:e}=(0,f.useConfig)();return(0,i.jsxs)(C.DropdownMenu,{trigger:(0,i.jsx)(h.Button,{children:(0,i.jsx)(g.OverflowMenuHorizontal16,{})}),contentProps:{align:"end"},children:[(0,i.jsx)(C.DropdownMenuLabel,{children:"Actions"}),(0,i.jsxs)(C.DropdownMenuItem,{onSelect:()=>{e({name:"config image",copy:!0})},children:[(0,i.jsx)(C.DropdownMenuLeftSlot,{children:(0,i.jsx)(g.Copy16,{})}),"Copy image of configuration"]}),(0,i.jsxs)(C.DropdownMenuItem,{onSelect:()=>{e({name:"config",download:!0})},children:[(0,i.jsx)(C.DropdownMenuLeftSlot,{children:(0,i.jsx)(g.Download16,{})}),"Download image of configuration"]})]})}var b=e.i(34530),T=e.i(33124),N=e.i(7880),M=e.i(37622);function F(){let{configViewMode:e,setConfigViewMode:n}=(0,f.useConfig)();return(0,i.jsx)("div",{className:"pl-1",children:(0,i.jsx)(c.Tooltip,{content:"advanced"===e?"Show advanced settings":"Hide advanced settings",children:(0,i.jsx)("div",{children:(0,i.jsx)(M.Switch,{"aria-label":"configViewMode",checked:"advanced"===e,onCheckedChange:e=>n(e?"advanced":"basic")})})})})}function D(){return(0,i.jsx)(T.Popover,{trigger:(0,i.jsxs)(h.Button,{size:"small",tip:"Configure view",tipAlign:"end",children:[(0,i.jsx)(g.SettingsAdjust16,{}),"View",(0,i.jsx)(g.CaretDown16,{})]}),contentProps:{align:"end",className:"max-w-[300px]"},children:(0,i.jsxs)(N.BaseMenuItem,{children:[(0,i.jsx)(b.Label,{children:"Show advanced settings"}),(0,i.jsx)(N.MenuItemRightSlot,{children:(0,i.jsx)(F,{})})]})})}e.i(37869);var k=e.i(93936);function z(){let{changeCount:e,revalidateAndResetForm:s,form:t,onSubmit:l}=(0,f.useConfig)();return(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[!!e&&(0,i.jsx)(n.Text,{size:"12",color:"subtle",children:(0,k.pluralize)(e,"change","changes")}),(0,i.jsx)(h.Button,{tip:"Reset all changes",icon:"contrast",disabled:!e,onClick:s,children:(0,i.jsx)(g.Reset16,{})}),(0,i.jsxs)(h.Button,{tip:"Save all changes",variant:"accent",disabled:!t.formState.isDirty||t.formState.isSubmitting,onClick:l,children:[(0,i.jsx)(g.Save16,{}),"Save changes"]}),(0,i.jsx)(y,{}),(0,i.jsx)(D,{})]})}function E(){return(0,i.jsx)(j,{})}E.Layout=S.HostdAuthedLayout,E.useLayoutProps=function(){let{openDialog:e}=(0,w.useDialog)(),{settings:s,dynDNSCheck:t}=(0,f.useConfig)();return{title:"Configuration",routes:p.routes,nav:(0,i.jsx)(v,{}),sidenav:(0,i.jsx)(P.HostdSidenav,{}),stats:s.data?.ddns.provider&&!t.isValidating?t.error?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.Text,{color:"amber",children:(0,i.jsx)(g.Warning16,{})}),(0,i.jsxs)(n.Text,{size:"14",children:["Error with dynamic DNS configuration: ",t.error.message]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.Text,{color:"green",children:(0,i.jsx)(g.CheckmarkFilled16,{})}),(0,i.jsx)(n.Text,{children:"Dynamic DNS enabled"})]}):null,actions:(0,i.jsx)(z,{}),openSettings:()=>e("settings"),size:"3"}},e.s(["default",()=>E],64402)},48312,(e,i,n)=>{let s="/config";(window.__NEXT_P=window.__NEXT_P||[]).push([s,()=>e.r(64402)]),i.hot&&i.hot.dispose(function(){window.__NEXT_P.push([s])})},48761,e=>{e.v(i=>Promise.all(["static/chunks/6fa0d1f0c7a6e42e.js"].map(i=>e.l(i))).then(()=>i(93594)))},28805,e=>{e.v(i=>Promise.all(["static/chunks/700022329b1c82af.js"].map(i=>e.l(i))).then(()=>i(79466)))},69796,e=>{e.v(i=>Promise.all(["static/chunks/c0a88d8f93bce614.js"].map(i=>e.l(i))).then(()=>i(41159)))}]);