(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,993710,e=>{"use strict";var n=e.i(843476);e.i(387020);var i=e.i(720187),r=e.i(129307),s=e.i(914431),a=e.i(387115),o=e.i(836323),t=e.i(599303),l=e.i(652345),c=e.i(653145),x=e.i(920653),d=e.i(339173),f=e.i(1206);e.i(587154);var u=e.i(699221);function m(){let{revalidateAndResetForm:e}=(0,x.useConfig)();return(0,n.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px] cursor-pointer",children:[(0,n.jsx)(f.Text,{children:(0,n.jsx)(u.Warning32,{className:"scale-[200%]"})}),(0,n.jsxs)("div",{className:"flex flex-col gap-3 items-center",children:[(0,n.jsx)(f.Text,{color:"subtle",className:"text-center max-w-[500px]",children:"Error retrieving settings from daemon. Please check your connection and try again."}),(0,n.jsx)(d.Button,{onClick:()=>e(),children:"Reload"})]})]})}var g=e.i(896967),h=e.i(812247);function p({name:e,form:i,fields:r}){return(0,n.jsx)(h.Tooltip,{align:"end",content:"Pin the value to a fixed fiat amount. The daemon will automatically keep the value in sync.",children:(0,n.jsxs)("div",{className:"flex w-full justify-between",children:[(0,n.jsx)(f.Text,{weight:"medium",color:"verySubtle",size:"14",children:"Pin"}),(0,n.jsx)(g.FieldSwitch,{name:e,form:i,fields:r,size:"small",group:!1})]})})}var j=e.i(267433),P=e.i(22550),C=e.i(515366);function S({canUseExchangeRates:e,pinnedCurrency:i}){return(0,n.jsxs)(P.Panel,{className:"px-2 pt-1 pb-2",children:[(0,n.jsx)(f.Text,{size:"12",color:"subtle",children:"To pin this field:"}),(0,n.jsxs)("div",{className:"flex flex-col",children:[!e&&!!i&&(0,n.jsx)(j.Link,{size:"12",href:C.routes.config.pricing,underline:"hover",children:"- Enable an exchange rate API"}),!i&&(0,n.jsx)(j.Link,{size:"12",href:C.routes.config.pricing,underline:"hover",children:"- Select a pinned currency"})]})]})}function T(){let{form:e,fields:d,remoteError:f,configRef:u}=(0,x.useConfig)(),g=(0,c.useWatch)({control:e.control,name:"pinnedCurrency"}),h=(0,c.useWatch)({control:e.control,name:"shouldPinMaxStoragePrice"}),j=(0,c.useWatch)({control:e.control,name:"shouldPinMaxIngressPrice"}),P=(0,c.useWatch)({control:e.control,name:"shouldPinMaxEgressPrice"}),C=(0,c.useWatch)({control:e.control,name:"shouldPinMinCollateral"}),{rate:T}=(0,l.useDaemonExplorerExchangeRate)({currency:g||void 0}),v=!!T;return f?(0,n.jsx)(m,{}):(0,n.jsxs)("div",{ref:u,className:"px-5 pt-10 pb-6 flex flex-col gap-16",children:[(0,n.jsxs)(o.PanelMenuSection,{title:"Contracts",children:[(0,n.jsx)(s.ConfigurationPanelSetting,{name:"wantedContracts",form:e,fields:d}),(0,n.jsx)(s.ConfigurationPanelSetting,{name:"periodWeeks",form:e,fields:d}),(0,n.jsx)(s.ConfigurationPanelSetting,{name:"renewWindowWeeks",form:e,fields:d})]}),(0,n.jsxs)(o.PanelMenuSection,{title:"Pricing",children:[(0,n.jsx)(s.ConfigurationPanelSetting,{name:"pinnedCurrency",form:e,fields:d}),(0,n.jsx)(t.PanelMenuSetting,{id:"maxStoragePriceTBMonthGroup",title:"Max storage price",description:d.maxStoragePriceTBMonth.description,control:(0,n.jsxs)("div",{className:"flex flex-col gap-1 w-[260px]",children:[(0,n.jsx)(p,{name:"shouldPinMaxStoragePrice",form:e,fields:d}),h?v?(0,n.jsx)(i.ConfigurationFiat,{name:"maxStoragePriceTBMonthPinned",form:e,fields:d,currency:g||""}):(0,n.jsx)(S,{canUseExchangeRates:v,pinnedCurrency:g}):(0,n.jsx)(a.ConfigurationSiacoin,{name:"maxStoragePriceTBMonth",form:e,fields:d})]})}),(0,n.jsx)(t.PanelMenuSetting,{id:"maxIngressPriceTBGroup",title:"Max ingress price",description:d.maxIngressPriceTB.description,control:(0,n.jsxs)("div",{className:"flex flex-col gap-1 w-[260px]",children:[(0,n.jsx)(p,{name:"shouldPinMaxIngressPrice",form:e,fields:d}),j?v?(0,n.jsx)(i.ConfigurationFiat,{name:"maxIngressPriceTBPinned",form:e,fields:d,currency:g||""}):(0,n.jsx)(S,{canUseExchangeRates:v,pinnedCurrency:g}):(0,n.jsx)(a.ConfigurationSiacoin,{name:"maxIngressPriceTB",form:e,fields:d})]})}),(0,n.jsx)(t.PanelMenuSetting,{id:"maxEgressPriceTBGroup",title:"Max egress price",description:d.maxEgressPriceTB.description,control:(0,n.jsxs)("div",{className:"flex flex-col gap-1 w-[260px]",children:[(0,n.jsx)(p,{name:"shouldPinMaxEgressPrice",form:e,fields:d}),P?v?(0,n.jsx)(i.ConfigurationFiat,{name:"maxEgressPriceTBPinned",form:e,fields:d,currency:g||""}):(0,n.jsx)(S,{canUseExchangeRates:v,pinnedCurrency:g}):(0,n.jsx)(a.ConfigurationSiacoin,{name:"maxEgressPriceTB",form:e,fields:d})]})}),(0,n.jsx)(t.PanelMenuSetting,{id:"minCollateralGroup",title:"Min collateral",description:d.minCollateral.description,control:(0,n.jsxs)("div",{className:"flex flex-col gap-1 w-[260px]",children:[(0,n.jsx)(p,{name:"shouldPinMinCollateral",form:e,fields:d}),C?v?(0,n.jsx)(i.ConfigurationFiat,{name:"minCollateralPinned",form:e,fields:d,currency:g||""}):(0,n.jsx)(S,{canUseExchangeRates:v,pinnedCurrency:g}):(0,n.jsx)(a.ConfigurationSiacoin,{name:"minCollateral",form:e,fields:d})]})})]}),(0,n.jsx)(r.ConfigurationPanel,{title:"Pinning",category:"pinning",fields:d,form:e}),(0,n.jsx)(r.ConfigurationPanel,{title:"Other",category:"other",fields:d,form:e})]})}function v(){return(0,n.jsx)(T,{})}e.s(["default",()=>v],993710)}]);