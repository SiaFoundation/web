"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3051],{6756:(e,t,n)=>{n.d(t,{f0:()=>s,gH:()=>o,jA:()=>l,ww:()=>c,yq:()=>i});var a=n(43416),r=n(48432);function s(e){return{id:e.key,key:e.key,description:e.description,maxPinnedData:e.maxPinnedData,pinnedData:e.pinnedData,totalUses:e.totalUses,remainingUses:e.remainingUses,dateCreated:e.dateCreated,lastUpdated:e.lastUpdated,lastUsed:e.lastUsed,displayFields:{totalUses:e.totalUses.toString(),maxPinnedData:(0,r.p6)(e.maxPinnedData),pinnedData:(0,r.p6)(e.pinnedData),dateCreated:Intl.DateTimeFormat("en-US",{dateStyle:"short",timeStyle:"short"}).format(new Date(e.dateCreated)),lastUpdated:Intl.DateTimeFormat("en-US",{dateStyle:"short",timeStyle:"short"}).format(new Date(e.lastUpdated)),lastUsed:e.lastUsed?Intl.DateTimeFormat("en-US",{dateStyle:"short",timeStyle:"short"}).format(new Date(e.lastUsed)):void 0}}}function i(e){return{description:e.description,maxPinnedData:(0,r._S)(e.maxPinnedDataGB).toNumber(),remainingUses:e.remainingUses.toNumber()}}function l(e){let t=s(e),n={description:t.description,maxPinnedDataGB:(0,r.wb)(t.maxPinnedData),remainingUses:new a.A(t.remainingUses)};return{connectKey:t,values:n}}let o={description:"",maxPinnedDataGB:new a.A(1e3),remainingUses:new a.A(1e3)};function c(){return{description:{type:"text",title:"Description",placeholder:"Description",validation:{required:"required"}},maxPinnedDataGB:{type:"number",title:"Max pinned data",placeholder:"Max pinned data",units:"GB",validation:{required:"required",validate:{number:e=>!(!e||e.isNaN())||"Must be a number"}}},remainingUses:{type:"number",title:"Remaining uses",placeholder:"Remaining uses",validation:{required:"required",validate:{max:e=>!(e&&e.gt(1e3))||"Max value is 1,000",min:e=>!(e&&e.lt(1))||"Min value is 1"}}}}}},19137:(e,t,n)=>{n.d(t,{M:()=>r});var a=n(2720);function r(){let e=(0,a.i$h)("accountList"),[t,n]=(0,a.QPA)("accountsPanelId");return{...e,panelId:t,setPanelId:n}}},23051:(e,t,n)=>{n.d(t,{Co:()=>et,Yu:()=>en,sp:()=>ee});var a=n(54568),r=n(7620),s=n(2720),i=n(84684),l=n(30650),o=n(54616),c=n(71893),d=n(27541),u=n(45614),m=n(61242);let g={namespace:"wallet",label:"Wallet"};function h(e){var t;let{currentPage:n,parentPage:r,pushPage:i}=e,{openDialog:o,closeDialog:c}=ee(),h=(0,d.useRouter)(),p=(0,m.t$)();return(0,a.jsxs)(u.L$,{currentPage:n,commandPage:g,children:[(0,a.jsx)(u.Iu,{currentPage:n,parentPage:r,commandPage:g,onSelect:()=>{i(g)},children:g.label}),(0,a.jsx)(u.n7,{currentPage:n,commandPage:g,onSelect:()=>{h.push(l.J.wallet.view),c()},children:"View wallet transactions"}),(0,a.jsx)(u.n7,{currentPage:n,commandPage:g,onSelect:()=>{o("sendSiacoin")},children:"Send siacoin"}),(0,a.jsx)(u.n7,{currentPage:n,commandPage:g,onSelect:()=>{o("addressDetails")},children:"Receive siacoin"}),(0,a.jsx)(u.n7,{currentPage:n,commandPage:g,onSelect:()=>{o("addressDetails")},children:"View wallet address"}),(0,a.jsx)(u.n7,{currentPage:n,commandPage:g,disabled:!(null==(t=p.data)?void 0:t.address),onSelect:()=>{var e;(null==(e=p.data)?void 0:e.address)&&((0,s.lWL)(p.data.address,"wallet address"),c())},children:"Copy wallet address to clipboard"})]})}var p=n(56641);let x={namespace:"settings",label:"Settings"};function f(e){let{currentPage:t,parentPage:n}=e,{openDialog:r,closeDialog:s}=ee(),{setTheme:l}=(0,p.D)(),{lock:o,currencyOptions:c,setCurrency:d}=(0,i.IQ)();return(0,a.jsxs)(u.L$,{currentPage:t,commandPage:x,children:[(0,a.jsx)(u.Iu,{currentPage:t,parentPage:n,commandPage:x,onSelect:()=>{r("settings")},children:"Open settings"}),(0,a.jsx)(u.KJ,{currentPage:t,commandPage:x,onSelect:()=>{o(),s()},children:"Lock indexd"}),(0,a.jsx)(u.n7,{currentPage:t,commandPage:x,onSelect:()=>{r("settings")},children:"Open interface theme menu"}),(0,a.jsx)(u.n7,{currentPage:t,commandPage:x,onSelect:()=>{l("system"),s()},children:"Set theme to system preference"}),(0,a.jsx)(u.n7,{currentPage:t,commandPage:x,onSelect:()=>{l("dark"),s()},children:"Set theme to dark"}),(0,a.jsx)(u.n7,{currentPage:t,commandPage:x,onSelect:()=>{l("light"),s()},children:"Set theme to light"}),(0,a.jsx)(u.n7,{currentPage:t,commandPage:x,onSelect:()=>{r("bugReport")},children:"Generate a bug report"}),(0,a.jsx)(u.n7,{currentPage:t,commandPage:x,onSelect:()=>{r("settings")},children:"Open currency settings menu"}),(0,a.jsx)(u.n7,{currentPage:t,commandPage:x,onSelect:()=>{r("settings")},children:"Open security settings menu"}),(0,a.jsx)(u.n7,{currentPage:t,commandPage:x,onSelect:()=>{r("settings")},children:"Open privacy settings menu"}),c.map(e=>{let{id:n,label:r}=e;return(0,a.jsx)(u.n7,{currentPage:t,commandPage:x,onSelect:()=>{d(n),s()},children:"Set currency to ".concat(r)},n)})]})}let y={namespace:"node",label:"Blockchain node"};function v(e){let{currentPage:t,parentPage:n,pushPage:r}=e,{openDialog:s,closeDialog:i}=ee(),o=(0,d.useRouter)();return(0,a.jsxs)(u.L$,{currentPage:t,commandPage:y,children:[(0,a.jsx)(u.Iu,{currentPage:t,parentPage:n,commandPage:y,onSelect:()=>{r(y)},children:y.label}),(0,a.jsx)(u.n7,{currentPage:t,commandPage:y,onSelect:()=>{s("connectPeer")},children:"Connect to a peer"}),(0,a.jsx)(u.n7,{currentPage:t,commandPage:y,onSelect:()=>{o.push(l.J.node.index),i()},children:"View peers"}),(0,a.jsx)(u.n7,{currentPage:t,commandPage:y,onSelect:()=>{o.push(l.J.node.index),i()},children:"View transaction pool"})]})}let j={namespace:"configuration",label:"Configuration"};function b(e){let{currentPage:t,parentPage:n,pushPage:r}=e,s=(0,d.useRouter)(),{closeDialog:i}=ee();return(0,a.jsxs)(u.L$,{currentPage:t,commandPage:j,children:[(0,a.jsx)(u.Iu,{currentPage:t,parentPage:n,commandPage:j,onSelect:()=>{r(j)},children:j.label}),(0,a.jsx)(u.n7,{currentPage:t,commandPage:j,onSelect:()=>{s.push(l.J.config.index),i()},children:"Open configuration"}),(0,a.jsx)(u.n7,{currentPage:t,commandPage:j,onSelect:()=>{s.push(l.J.config.contracts),i()},children:"Configure contracts"}),(0,a.jsx)(u.n7,{currentPage:t,commandPage:j,onSelect:()=>{s.push(l.J.config.hosts),i()},children:"Configure hosts"}),(0,a.jsx)(u.n7,{currentPage:t,commandPage:j,onSelect:()=>{s.push(l.J.config.pricing),i()},children:"Configure price pinning"})]})}var P=n(34160),S=n(79423);function w(e){let{search:t}=e;return(0,a.jsxs)(s.EYj,{color:"verySubtle",className:"flex flex-col gap-2 justify-center items-center mt-5 mb-3",children:[(0,a.jsx)(s.EYj,{color:"verySubtle",className:"flex gap-2 justify-center items-center",children:(0,a.jsx)(S.otB,{})}),(0,a.jsx)(s.EYj,{size:"12",color:"verySubtle",className:"flex justify-center",children:t?"No results matching query.":"Type a query to get started."})]})}function k(e){let{panel:t}=e,[n,i]=(0,r.useState)(""),[l]=(0,P.d7)(n,500),[d,u]=(0,r.useState)([]),m=d[d.length-1],g=0===d.length,p=(0,r.useCallback)(e=>{u(t=>[...t,e])},[u]),x=(null==m?void 0:m.empty)||w;return(0,a.jsxs)(c.uB,{label:"Command Menu",loop:!0,className:(0,o.cx)(t&&(0,s.zwO)()),onKeyDown:e=>{(d.length>0&&"Escape"===e.key||"Backspace"===e.key&&!n)&&(e.preventDefault(),u(e=>e.slice(0,-1)))},children:[!!m&&(0,a.jsxs)(s.JU7,{className:"px-2 flex justify-between items-center",children:[m.label,m.tag?(0,a.jsx)(s.$nd,{variant:"inactive",state:"waiting",tabIndex:-1,size:"small",children:m.tag}):null]}),(0,a.jsx)(c.uB.Input,{"aria-label":"search commands",name:"cmdk-input",value:n,onValueChange:i,className:(0,s.uS8)({variant:"ghost",focus:"none"}),placeholder:(null==m?void 0:m.prompt)||(g?"Search for commands, eg: theme, redundancy":"Search commands")}),(0,a.jsx)(s.wvv,{className:"my-2"}),(0,a.jsxs)(c.uB.List,{children:[(0,a.jsx)(c.uB.Empty,{children:(0,a.jsx)(x,{search:n,debouncedSearch:l})}),(0,a.jsx)(f,{currentPage:m,pushPage:p}),(0,a.jsx)(h,{currentPage:m,pushPage:p}),(0,a.jsx)(b,{currentPage:m,pushPage:p}),(0,a.jsx)(v,{currentPage:m,pushPage:p})]})]})}function C(e){let{open:t,onOpenChange:n,setOpen:o}=e,{isUnlockedAndAuthedRoute:c}=(0,i.IQ)(),{isConnected:d}=(0,s.Fx6)({route:l.b});return(0,r.useEffect)(()=>{if(!c||!d)return;let e=e=>{"k"===e.key&&(e.metaKey||e.ctrlKey)&&o()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[c,d,o]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(s.lGe,{open:t,title:"Command palette",titleVisuallyHidden:!0,onOpenChange:n,contentVariants:{className:"!absolute !p-1 w-[450px] top-[200px]"},bodyClassName:"!px-1 !py-1",closeClassName:"hidden",children:(0,a.jsx)(k,{})})})}var N=n(43416);function A(){let{dialog:e,onOpenChange:t}=ee(),n=(0,m.t$)(),i=(0,m.NN)(),l=(0,r.useMemo)(()=>i.data?new N.A(i.data).times(1200):new N.A(0),[i.data]),o=(0,m.AZ)(),c=(0,r.useCallback)(async e=>{let{address:t,hastings:n,includeFee:a}=e,r=await o.post({payload:{address:t,amount:n.toString(),subtractMinerFee:a,useUnconfirmed:!1}});return r.error?{error:r.error}:{transactionId:r.data}},[o]);return(0,a.jsx)(s.U1e,{balance:n.data?new N.A(n.data.spendable):void 0,send:c,fee:l,open:"sendSiacoin"===e,onOpenChange:t})}var z=n(38999);function D(){let{id:e,dialog:t,onOpenChange:n}=ee(),{dataset:r}=(0,z.x)(),i=(0,s.mpY)({dataset:r},t=>{let{dataset:n}=t;return n.find(t=>t.id===e)});return(0,a.jsx)(s.XIx,{id:e,transaction:i.data,open:"transactionDetails"===t,onOpenChange:n})}var E=n(83631),O=n(52313),U=n.n(O),I=n(52290);function M(e){let{trigger:t,open:n,onOpenChange:i}=e,l=(0,r.useMemo)(()=>({contracts:!0,contractSettings:!0,hostSettings:!0,pricePinningSettings:!0,openGithub:!0}),[]),o=(0,m.Kd)(),c=(0,m.XT)(),d=(0,m.$P)(),u=(0,m.Ij)(),g=(0,E.mN)({mode:"all",defaultValues:l}),{handleOpenChange:h}=(0,s.FTl)({form:g,onOpenChange:i,defaultValues:l,initKey:[name]}),p=(0,r.useCallback)(async e=>{let t=new(U());e.contractSettings&&t.file("contractSettings.json",JSON.stringify(c.data,null,2)),e.hostSettings&&t.file("hostSettings.json",JSON.stringify(d.data,null,2)),e.pricePinningSettings&&t.file("pricePinningSettings.json",JSON.stringify(u.data,null,2)),e.contracts&&t.file("contracts.json",JSON.stringify(o.data,null,2));let n=await t.generateAsync({type:"blob"});(0,I.saveAs)(n,"indexd-debug-report.zip"),e.openGithub&&window.open("https://github.com/SiaFoundation/indexd/issues/new?template=bug_report.yml","_blank")},[o.data,c.data,d.data,u.data]),x=(0,r.useMemo)(()=>({contracts:{type:"boolean",title:"Contracts",validation:{}},contractSettings:{type:"boolean",title:"Contract Settings",validation:{}},hostSettings:{type:"boolean",title:"Host Settings",validation:{}},pricePinningSettings:{type:"boolean",title:"Price Pinning Settings",validation:{}},openGithub:{type:"boolean",title:"Open GitHub bug report submission page",validation:{}}}),[]),f=(0,s._2E)(x),y=g.watch("openGithub");return(0,a.jsx)(s.lGe,{title:"Generate a bug report",descriptionVisuallyHidden:!0,description:"Select which metadata files to include in the generated report.",trigger:t,open:n,onOpenChange:h,contentVariants:{className:"w-[400px]"},onSubmit:g.handleSubmit(p,f),children:(0,a.jsxs)("div",{className:"flex flex-col gap-4 pt-4",children:[(0,a.jsx)(s.fzL,{size:"14",children:"Select which metadata files to include in the debug report, generate the report file (ZIP), and attach it to a GitHub bug report."}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)(s.wvv,{className:"mb-2"}),(0,a.jsx)(s.JU7,{size:"14",color:"subtle",children:"General"}),(0,a.jsx)("div",{className:"flex gap-4",children:(0,a.jsx)(s.rMA,{size:"small",form:g,fields:x,name:"contracts"})})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)(s.JU7,{size:"14",color:"subtle",children:"Configuration"}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)(s.rMA,{size:"small",form:g,fields:x,name:"contractSettings"}),(0,a.jsx)(s.rMA,{size:"small",form:g,fields:x,name:"hostSettings"}),(0,a.jsx)(s.rMA,{size:"small",form:g,fields:x,name:"pricePinningSettings"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)(s.wvv,{}),(0,a.jsx)(s.rMA,{size:"small",form:g,fields:x,name:"openGithub"})]}),(0,a.jsxs)(s.Jhq,{form:g,children:["Generate ",y?"and open":""]})]})})}var B=n(19137);let q={name:""};function G(e){let{id:t,trigger:n,open:i,onOpenChange:l}=e,{closeDialog:o}=ee(),{panelId:c,setPanelId:d}=(0,B.M)(),u=(0,m.vP)(),g=(0,E.mN)({mode:"all",defaultValues:q}),h=(0,r.useCallback)(async()=>{if(!t)return;let e=await u.delete({params:{accountkey:t}});e.error?(0,s.el3)({title:"Error deleting account",body:e.error}):((0,s.VE1)({title:"Account permanently deleted"}),g.reset(),o(),c===t&&d(void 0))},[g,t,u,o,c,d]),p=(0,r.useMemo)(()=>({name:{type:"text",title:"Confirmation",placeholder:"delete the account and all its data",validation:{required:"required",validate:{equals:e=>"delete the account and all its data"===e||"does not match"}}}}),[]),x=(0,s._2E)(p);return(0,a.jsx)(s.lGe,{title:"Delete account",trigger:n,open:i,onOpenChange:e=>{e||g.reset(q),l(e)},contentVariants:{className:"w-[400px]"},onSubmit:g.handleSubmit(h,x),children:(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)(s.fzL,{size:"14",children:"Are you sure you would like to permanently delete the following account?"}),(0,a.jsx)(s.CyN,{className:"overflow-hidden",children:t}),(0,a.jsx)(s.FcD,{className:"!p-2",children:(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)(s.EYj,{color:"red",children:(0,a.jsx)(S.UvW,{})}),(0,a.jsx)(s.EYj,{weight:"medium",children:"Warning"})]}),(0,a.jsx)(s.EYj,{size:"14",color:"subtle",children:"This action cannot be undone. All data associated with the account will be permanently deleted."})]})}),(0,a.jsx)(s.fzL,{size:"14",children:'Enter "delete the account and all its data" to confirm the removal.'}),(0,a.jsx)(s.cvq,{name:"name",form:g,fields:p}),(0,a.jsx)(s.Jhq,{variant:"red",form:g,children:"Delete account"})]})})}var V=n(46505),L=n(45027);let J={name:""};function T(e){let{id:t,trigger:n,open:l,onOpenChange:o}=e,{closeDialog:c}=ee(),{panelId:d,setPanelId:u}=(0,V.s)(),g=(0,m.XR)(),h=(0,E.mN)({mode:"all",defaultValues:J}),p=(0,i.ej)(),x=(0,r.useCallback)(async()=>{if(!t)return;let e=await g.delete({params:{key:t}});e.error?(0,s.el3)({title:"Error deleting connect key",body:e.error}):((0,s.VE1)({title:"Connect key permanently deleted"}),p(e=>e.startsWith(L.Pg)),h.reset(),c(),d===t&&u(void 0))},[h,t,g,c,d,u,p]),f=(0,r.useMemo)(()=>({name:{type:"text",title:"Confirmation",placeholder:"delete the key",validation:{required:"required",validate:{equals:e=>"delete the key"===e||"does not match"}}}}),[]),y=(0,s._2E)(f);return(0,a.jsx)(s.lGe,{title:"Delete connect key",trigger:n,open:l,onOpenChange:e=>{e||h.reset(J),o(e)},contentVariants:{className:"w-[400px]"},onSubmit:h.handleSubmit(x,y),children:(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)(s.fzL,{size:"14",children:"Are you sure you would like to permanently delete the following connect key?"}),(0,a.jsx)(s.CyN,{className:"overflow-hidden",children:t}),(0,a.jsx)(s.fzL,{size:"14",children:'Enter "delete the key" to confirm the removal.'}),(0,a.jsx)(s.cvq,{name:"name",form:h,fields:f}),(0,a.jsx)(s.Jhq,{variant:"red",form:h,children:"Delete connect key"})]})})}var F=n(6756);let K=(0,F.ww)();function _(e){let{trigger:t,open:n,onOpenChange:l}=e,{closeDialog:o}=ee(),{setPanelId:c}=(0,V.s)(),d=(0,m.Zc)(),u=(0,E.mN)({mode:"all",defaultValues:F.gH}),g=(0,i.ej)(),h=(0,r.useCallback)(async e=>{let t=await d.post({payload:(0,F.yq)(e)});if(t.error)(0,s.el3)({title:"Error creating connect key",body:t.error});else{var n,a;(0,s.VE1)({title:"Connect key created"}),g(e=>e.startsWith(L.Pg)),u.reset(),o(),c(null!=(a=null==(n=t.data)?void 0:n.key)?a:void 0)}},[u,d,o,c,g]),p=(0,s._2E)(K);return(0,a.jsx)(s.lGe,{title:"Create connect key",trigger:t,open:n,onOpenChange:e=>{e||u.reset(F.gH),l(e)},contentVariants:{className:"w-[400px]"},onSubmit:u.handleSubmit(h,p),children:(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)(s.fzL,{size:"14",children:"Create a new connect key."}),(0,a.jsx)(s.cvq,{name:"description",form:u,fields:K}),(0,a.jsx)(s.i3t,{name:"maxPinnedDataGB",form:u,fields:K}),(0,a.jsx)(s.i3t,{name:"remainingUses",form:u,fields:K}),(0,a.jsx)(s.Jhq,{form:u,children:"Create connect key"})]})})}var H=n(48432);let $={reason:""},W=["insufficient funds","failing proofs","out of storage","internal errors","network issues","poor uptime","high prices"];function Y(e){let{hosts:t,open:n,onOpenChange:l}=e,{closeDialog:o}=ee(),c=(0,m.Aq)(),d=(0,i.ej)(),[u,g]=(0,r.useState)([]),h=(0,E.mN)({mode:"all",defaultValues:$}),p=(0,r.useMemo)(()=>({reason:{type:"text",title:"Custom (comma separated)",placeholder:"e.g. bad version, poor location",validation:{}}}),[]),x=(0,s._2E)(p),f=(null==t?void 0:t.length)||0,y=(0,r.useCallback)(async()=>{if(!(null==t?void 0:t.length))return;let{reason:e}=h.getValues(),n=[...u,...e.split(",").map(e=>e.trim()).filter(Boolean)],{error:a}=await c.put({payload:{hostKeys:t.map(e=>e.publicKey),reasons:n}});if(a)return void(0,s.el3)({title:"Error blocking hosts",body:a});(0,s.VE1)({title:"Blocked ".concat((0,H.td)(t.length,"host"))}),await d(e=>e.startsWith(L.qQ)),await Promise.all(t.map(e=>d(t=>t.startsWith(L.GF.replace(":hostkey",e.publicKey))))),h.reset($),g([]),o()},[c,o,h,t,d,u]),{handleOpenChange:v}=(0,s.FTl)({form:h,onOpenChange:l,defaultValues:$,initKey:[null==t?void 0:t.map(e=>e.id).join(",")]});return(0,r.useEffect)(()=>{n||g([])},[n]),(0,a.jsx)(s.lGe,{title:1===f?"Block host":"Block hosts",open:n,onOpenChange:v,contentVariants:{className:"w-[400px]"},onSubmit:h.handleSubmit(y,x),children:(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)(s.fzL,{size:"14",children:1===f?"Why block this host? (optional)":"Why block these hosts? (optional)"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:W.map(e=>{let t=u.includes(e);return(0,a.jsx)(s.Exy,{size:"small",interactive:!0,variant:t?"red":"gray",className:"cursor-pointer",onClick:()=>g(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]),children:e},e)})}),(0,a.jsx)(s.nTy,{form:h,fields:p,name:"reason"}),(0,a.jsx)(s.Jhq,{variant:"red",form:h,children:1===f?"Block host":"Block ".concat(f," hosts")})]})})}let Q={connectKey:""},Z={connectKey:{type:"text",title:"Connect key",placeholder:"Enter connect key",validation:{required:"required"}}};function R(e){let{trigger:t,open:n,onOpenChange:i}=e,{addColumnFilter:l}=(0,B.M)(),o=(0,E.mN)({mode:"all",defaultValues:Q}),{closeAndReset:c,handleOpenChange:d}=(0,s.FTl)({form:o,onOpenChange:i,defaultValues:Q}),u=(0,r.useCallback)(async e=>{l({id:"connectkey",value:e.connectKey}),c()},[l,c]),m=(0,s._2E)(Z);return(0,a.jsx)(s.lGe,{title:"Filter accounts by connect key",trigger:t,open:n,onOpenChange:d,contentVariants:{className:"w-[400px]"},onSubmit:o.handleSubmit(u,m),children:(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)(s.cvq,{name:"connectKey",form:o,fields:Z}),(0,a.jsx)(s.Jhq,{form:o,children:"Apply filter"})]})})}let X=(0,r.createContext)({}),ee=()=>(0,r.useContext)(X);function et(e){let{children:t}=e,n=function(){let[e,t]=(0,r.useState)(),[n,a]=(0,r.useState)(),[s,i]=(0,r.useState)(),l=(0,r.useCallback)((e,n,r)=>{t(e),a(n),i(r)},[t,a,i]),[o,c]=(0,r.useState)(),d=(0,r.useCallback)(e=>{t("confirm"),c(e)},[t,c]),u=(0,r.useCallback)(()=>{t(void 0),a(void 0),i(void 0),c(void 0)},[t,a,i,c]),m=(0,r.useCallback)(e=>{e||u()},[u]);return{dialog:e,id:n,data:s,openDialog:l,confirm:o,openConfirmDialog:d,closeDialog:u,onOpenChange:m}}();return(0,a.jsx)(X.Provider,{value:n,children:t})}function en(){var e,t;let{id:n,dialog:r,data:i,openDialog:l,onOpenChange:o,closeDialog:c,confirm:d,openConfirmDialog:u}=ee(),g=(0,m.lB)(),h=(0,m.t$)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C,{open:"cmdk"===r,onOpenChange:o,setOpen:()=>l("cmdk")}),(0,a.jsx)(s.gZj,{open:"settings"===r,onOpenChange:o,showGpuSetting:!0}),(0,a.jsx)(A,{}),(0,a.jsx)(s.AyE,{address:null==(e=h.data)?void 0:e.address,isValidating:h.isValidating,open:"addressDetails"===r,onOpenChange:o}),(0,a.jsx)(D,{}),(0,a.jsx)(s.teg,{open:"connectPeer"===r,connect:async e=>{try{return await g.post({payload:{addr:e}}),{error:void 0,status:200}}catch(e){return{error:e.message,status:500}}},onOpenChange:o}),(0,a.jsx)(M,{open:"bugReport"===r,onOpenChange:o}),(0,a.jsx)(s.TM3,{open:"confirm"===r,params:d,onOpenChange:e=>e&&d?u(d):c()}),(0,a.jsx)(G,{id:n,open:"accountDelete"===r,onOpenChange:o}),(0,a.jsx)(T,{id:n,open:"connectKeyDelete"===r,onOpenChange:o}),(0,a.jsx)(_,{open:"connectKeyCreate"===r,onOpenChange:o}),(0,a.jsx)(Y,{hosts:"hostBlocklistAdd"===r?null==i||null==(t=i.hostBlocklistAdd)?void 0:t.hosts:void 0,open:"hostBlocklistAdd"===r,onOpenChange:o}),(0,a.jsx)(R,{open:"accountFilterConnectKey"===r,onOpenChange:o})]})}},30650:(e,t,n)=>{n.d(t,{J:()=>r,b:()=>s});var a=n(45027);let r={home:"/",hosts:{index:"/hosts"},contracts:{index:"/contracts"},keys:{index:"/keys"},accounts:{index:"/accounts"},alerts:{index:"/alerts"},config:{index:"/config",hosts:"/config#hosts",contracts:"/config#contracts",pricing:"/config#pricing"},wallet:{view:"/wallet"},node:{index:"/node"},metrics:{index:"/metrics"},login:"/login"},s=a.sI},38999:(e,t,n)=>{n.d(t,{D:()=>y,x:()=>f});var a=n(54568),r=n(2720),s=n(61242),i=n(7620),l=n(27541),o=n(48432);let c=(0,o.DM)(15);var d=n(47258),u=n(79423);let m=[{id:"transactionId",label:"transaction ID",category:"general",render:e=>{let{data:{id:t},context:n}=e;return t?(0,a.jsx)(r.Zjd,{size:"12",value:t,label:"transaction ID",type:"transaction",siascanUrl:n.siascanUrl}):null}},{id:"type",label:"type",category:"general",fixed:!0,render:e=>{let{data:{txType:t}}=e;return(0,a.jsx)(r.Exy,{size:"small",children:(0,o.XK)(t)})}},{id:"height",label:"height",category:"general",contentClassName:"justify-end",render:e=>{let{data:{height:t,pending:n,maturityHeight:s,isMature:i}}=e;return n?(0,a.jsx)(r.EYj,{size:"12",ellipsis:!0,children:(0,a.jsx)(r.XC,{})}):t?t&&s&&s>t?(0,a.jsx)(r.m_M,{content:i?"The maturity height has been reached.":"The maturity height has not been reached, therefore the output is still locked.",children:(0,a.jsxs)("div",{className:"flex flex-col gap-[5px]",children:[(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsxs)(r.EYj,{size:"12",font:"mono",ellipsis:!0,color:i?"green":"red",className:"flex gap-1 items-center",children:[i?(0,a.jsx)(u.rSJ,{}):(0,a.jsx)(u.B0O,{}),s.toLocaleString()]})}),(0,a.jsxs)("div",{className:"flex justify-between items-end gap-1",children:[(0,a.jsx)("div",{className:"pl-[8px] pb-[6px]",children:(0,a.jsx)("div",{className:"border-l border-b border-gray-800 dark:border-graydark-800 h-[20px] w-[7px]"})}),(0,a.jsx)(r.EYj,{size:"12",font:"mono",color:"subtle",ellipsis:!0,children:t.toLocaleString()})]})]})}):(0,a.jsx)(r.EYj,{size:"12",font:"mono",ellipsis:!0,children:t.toLocaleString()}):null}},{id:"timestamp",label:"timestamp",category:"general",contentClassName:"justify-end",render:e=>{let{data:{timestamp:t,pending:n}}=e;return n?(0,a.jsx)(r.EYj,{size:"12",ellipsis:!0,children:(0,a.jsx)(r.XC,{})}):(0,a.jsx)(r.EYj,{size:"12",ellipsis:!0,children:(0,o.OZ)(t,{timeStyle:"short"})})}},{id:"amount",label:"amount",category:"general",contentClassName:"w-[120px] justify-end",render:e=>{let{data:{amountSc:t,amountSf:n}}=e;return t?(0,a.jsxs)("div",{className:"flex flex-col gap-2 items-end",children:[!t.isZero()&&(0,a.jsx)(r.TnG,{displayBoth:!0,size:"12",value:t}),!!n&&(0,a.jsx)(r.lVH,{size:"12",value:n})]}):null}},{id:"fee",label:"fee",category:"general",contentClassName:"w-[120px] justify-end",render:e=>{let{data:{fee:t}}=e;return t?(0,a.jsx)(r.TnG,{displayBoth:!0,size:"12",variant:"value",value:t}):null}},{id:"contractId",label:"contract ID",category:"general",render:e=>{let{data:{contractId:t},context:n}=e;return t?(0,a.jsx)(r.Zjd,{size:"12",value:t,label:"contract ID",siascanUrl:n.siascanUrl}):null}}],g=["transactionId","type","height","timestamp","amount","fee"],h=[],p=[],x=(0,i.createContext)({}),f=()=>(0,i.useContext)(x);function y(e){let{children:t}=e,n=function(){var e,t;let n=(0,l.useSearchParams)(),a=Number(n.get("limit")||50),u=Number(n.get("offset")||0),x=(0,s.lz)({params:{limit:a,offset:u},config:{swr:{refreshInterval:c}}}),f=(0,s.r7)({config:{swr:{refreshInterval:c}}}),y=(0,d.d)(),v=(0,r.sEt)({events:x,pending:f},e=>{let{events:t,pending:n}=e;if(!t||!n)return[];let a=n.map(e=>{let t=(0,o.Sl)(e),n=(0,o.dH)(e);return{id:e.id,timestamp:0,pending:!0,type:e.type,txType:(0,o.Bi)(e),isMature:!1,amountSc:t,fee:n}}),r=t.map(e=>{let t=(0,o.Sl)(e),n=(0,o.dH)(e),a=(0,o.EY)(e),r=e.maturityHeight<=y.nodeBlockHeight;return{id:e.id,type:e.type,txType:(0,o.Bi)(e),timestamp:new Date(e.timestamp).getTime(),maturityHeight:e.maturityHeight,isMature:r,height:e.index.height,pending:!1,amountSc:t,fee:n,contractId:a}});return 0===u?[...a.reverse(),...r]:[...r]},{offset:u,filters:p}),{configurableColumns:j,visibleColumnIds:b,visibleColumns:P,sortableColumns:S,toggleColumnVisibility:w,setColumnsVisible:k,setColumnsHidden:C,toggleSort:N,setSortDirection:A,setSortField:z,sortField:D,sortDirection:E,resetDefaultColumnVisibility:O}=(0,r.jn_)("indexd/v0/events",{columns:m,columnsDefaultVisible:g,sortOptions:h,defaultSortField:"id"}),U=(null==(t=(0,s.GU)().data)?void 0:t.network)==="zen"?r.EeH.explore.testnetZen:r.EeH.explore.mainnet,I=(0,i.useMemo)(()=>({siascanUrl:U}),[U]);return{dataset:v,offset:u,limit:a,datasetPageTotal:(null==(e=v.data)?void 0:e.length)||0,defaultPageSize:50,cellContext:I,configurableColumns:j,visibleColumnIds:b,sortableColumns:S,toggleColumnVisibility:w,setColumnsVisible:k,setColumnsHidden:C,toggleSort:N,setSortDirection:A,setSortField:z,sortField:D,sortDirection:E,resetDefaultColumnVisibility:O,filters:p,visibleColumns:P}}();return(0,a.jsx)(x.Provider,{value:n,children:t})}},45027:(e,t,n)=>{n.d(t,{$x:()=>C,Cx:()=>j,F:()=>P,FL:()=>A,GF:()=>d,JQ:()=>b,KQ:()=>S,L1:()=>h,MP:()=>c,OD:()=>f,Pg:()=>k,Ps:()=>v,Q_:()=>m,S2:()=>z,Tk:()=>r,Ve:()=>N,XX:()=>x,_L:()=>p,bM:()=>D,bw:()=>I,gr:()=>y,i4:()=>s,lR:()=>o,ny:()=>O,qQ:()=>u,sI:()=>a,sk:()=>E,u_:()=>U,wN:()=>g,wy:()=>w,xe:()=>i,yO:()=>l});let a="/state",r="/syncer/connect",s="/txpool/recommendedfee",i="/accounts",l="/account/:accountkey",o="/contract/:contractid",c="/contracts",d="/host/:hostkey",u="/hosts",m="/hosts/blocklist",g="/hosts/blocklist/:hostkey",h="/settings/contracts",p="/settings/contracts",x="/settings/hosts",f="/settings/hosts",y="/settings/pricepinning",v="/settings/pricepinning",j="/wallet",b="/wallet/events",P="/wallet/pending",S="/wallet/send",w="/apps/connect/keys/:key",k="/apps/connect/keys",C="/apps/connect/keys",N="/apps/connect/keys",A="/apps/connect/keys/:key",z="/alerts",D="/alerts/:id",E="/alerts/dismiss",O="/stats/sectors",U="/stats/accounts",I="/stats/contracts"},45614:(e,t,n)=>{n.d(t,{Iu:()=>l,KJ:()=>c,L$:()=>d,n7:()=>o});var a=n(54568),r=n(2720),s=n(54616),i=n(71893);function l(e){var t;let{currentPage:n,parentPage:l,commandPage:o,className:c,...d}=e,u=(0,i.wo)(e=>e.search);if((null==l?void 0:l.namespace)===(null==n?void 0:n.namespace)&&!u)return(0,a.jsx)(i.uB.Item,{className:(0,s.cx)((0,r.Ccv)(),"group",c),value:"".concat(null==o?void 0:o.label," ").concat((null==(t=d.children)?void 0:t.toString())||""),...d})}function o(e){var t;let{currentPage:n,commandPage:l,className:o,...c}=e,d=(0,i.wo)(e=>e.search),u=l.namespace.startsWith((null==n?void 0:n.namespace)||"");if(d&&u||l.namespace===(null==n?void 0:n.namespace))return(0,a.jsx)(i.uB.Item,{className:(0,s.cx)((0,r.Ccv)(),"group",o),value:"".concat(l.label," ").concat((null==(t=c.children)?void 0:t.toString())||""),...c})}function c(e){var t;let{currentPage:n,commandPage:l,className:o,...c}=e,d=(0,i.wo)(e=>e.search),u=l.namespace.startsWith((null==n?void 0:n.namespace)||"");if(d&&u||!n||l.namespace===(null==n?void 0:n.namespace))return(0,a.jsx)(i.uB.Item,{className:(0,s.cx)((0,r.Ccv)(),"group",o),value:"".concat(l.label," ").concat((null==(t=c.children)?void 0:t.toString())||""),...c})}function d(e){let{heading:t,currentPage:n,commandPage:s,...l}=e,o=(0,i.wo)(e=>e.search);return(0,a.jsx)(i.uB.Group,{heading:o&&(null==n?void 0:n.namespace)!==s.namespace&&(0,a.jsx)(r.JU7,{className:"px-1",size:"12",children:s.label}),...l})}n(7620)},46505:(e,t,n)=>{n.d(t,{s:()=>r});var a=n(2720);function r(){let e=(0,a.i$h)("keyList"),[t,n]=(0,a.QPA)("keysPanelId");return{...e,panelId:t,setPanelId:n}}},47258:(e,t,n)=>{n.d(t,{d:()=>i});var a=n(48432),r=n(84684),s=n(61242);function i(){var e,t,n,i,l;let{isUnlockedAndAuthedRoute:o}=(0,r.IQ)(),c=(0,s.GU)({config:{swr:{refreshInterval:e=>(null==e?void 0:e.synced)?(0,a.DM)(60):(0,a.DM)(10)}}}),d=(0,s.NV)(),u=c.data?null==(e=c.data)?void 0:e.syncHeight:0,m=c.data?null==(t=c.data)?void 0:t.scanHeight:0,g=o&&u&&d?Number((100*Math.min(u/d,1)).toFixed(1)):0,h=o&&u&&m?Number((100*Math.min(null!=m?m:0/d,1)).toFixed(1)):0;return{isSynced:!!(null==(n=c.data)?void 0:n.synced),isWalletSynced:!!((null==(i=c.data)?void 0:i.synced)&&m&&m>=u-1),blockHeight:(null==(l=c.data)?void 0:l.synced)?u:d,nodeBlockHeight:u,estimatedBlockHeight:d,walletScanHeight:m,syncPercent:g,walletScanPercent:h,moreThan100BlocksToSync:!!u&&!!d&&d-u>100,firstTimeSyncing:!!u&&!!d&&d-u>5e4}}},61242:(e,t,n)=>{n.d(t,{Mw:()=>u,vP:()=>g,TK:()=>m,d$:()=>M,Al:()=>B,Y9:()=>q,IW:()=>D,Zc:()=>O,XR:()=>I,PM:()=>U,P2:()=>E,Lx:()=>h,Kd:()=>p,NV:()=>o,qA:()=>x,As:()=>f,SK:()=>v,Aq:()=>y,XT:()=>j,s3:()=>b,$P:()=>P,QT:()=>S,Ij:()=>w,tC:()=>k,GU:()=>l,_z:()=>V,bv:()=>L,fP:()=>G,lB:()=>c,t$:()=>C,lz:()=>N,r7:()=>A,AZ:()=>z,NN:()=>d});var a=n(84684),r=n(45027),s=n(78227),i=n(48432);function l(e){return(0,a.Av)({...e,route:r.sI})}function o(){let e=l({config:{swr:{revalidateOnFocus:!1}}});return(0,s.Ay)(e,()=>{var t;return(null==(t=e.data)?void 0:t.network)==="zen"?(0,i.Py)():(0,i.Nm)()},{refreshInterval:6e4,keepPreviousData:!0}).data||0}function c(e){return(0,a.yW)({...e,route:r.Tk})}function d(e){return(0,a.Av)({...e,route:r.i4})}function u(e){return(0,a.Av)({...e,route:r.yO})}function m(e){return(0,a.Av)({...e,route:r.xe})}function g(e){return(0,a.$Z)({...e,route:r.yO})}function h(e){return(0,a.Av)({...e,route:r.lR})}function p(e){return(0,a.Av)({...e,route:r.MP})}function x(e){return(0,a.Av)({...e,route:r.GF})}function f(e){return(0,a.Av)({...e,route:r.qQ})}function y(e){return(0,a.hz)({...e,route:r.Q_})}function v(e){return(0,a.$Z)({...e,route:r.wN})}function j(e){return(0,a.Av)({...e,route:r.L1})}function b(e){return(0,a.hz)({...e,route:r._L})}function P(e){return(0,a.Av)({...e,route:r.XX})}function S(e){return(0,a.hz)({...e,route:r.OD})}function w(e){return(0,a.Av)({...e,route:r.gr})}function k(e){return(0,a.hz)({...e,route:r.Ps})}function C(e){return(0,a.Av)({...e,route:r.Cx})}function N(e){return(0,a.Av)({...e,route:r.JQ})}function A(e){return(0,a.Av)({...e,route:r.F})}function z(e){return(0,a.yW)({...e,route:r.KQ})}function D(e){return(0,a.Av)({...e,route:r.wy})}function E(e){return(0,a.Av)({...e,route:r.Pg})}function O(e){return(0,a.yW)({...e,route:r.$x})}function U(e){return(0,a.hz)({...e,route:r.Ve})}function I(e){return(0,a.$Z)({...e,route:r.FL})}function M(e){return(0,a.Av)({...e,route:r.bM})}function B(e){return(0,a.Av)({...e,route:r.S2})}function q(e){return(0,a.yW)({...e,route:r.sk})}function G(e){return(0,a.Av)({...e,route:r.ny})}function V(e){return(0,a.Av)({...e,route:r.u_})}function L(e){return(0,a.Av)({...e,route:r.bw})}}}]);