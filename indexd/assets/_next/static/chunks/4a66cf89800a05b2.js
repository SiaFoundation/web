(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,942717,e=>{"use strict";var t=e.i(618566),i=e.i(271645);function s(e,t){return`${e}?${new URLSearchParams(t).toString()}`}function n(){let e=(0,t.useRouter)();return(0,i.useCallback)((t,i)=>{e.push(s(t,i))},[e])}e.s(["routeWithParams",()=>s,"useNavigateWithParams",()=>n])},249928,e=>{"use strict";e.i(519977);var t=e.i(219474),i=e.i(271645);function s(){let e=(0,t.useAdminSettingsContractsUpdate)(),s=(0,t.useAdminSettingsContracts)();return{toggleEnabled:(0,i.useCallback)(async()=>{s.data&&(await e.put({payload:{...s.data,enabled:!s.data?.enabled}}),s.mutate(e=>e?{...e,enabled:!e.enabled}:e))},[s,e]),enabled:!!s.data?.enabled}}e.s(["useConfigEnabled",()=>s])},2805,e=>{"use strict";var t=e.i(843476),i=e.i(828073);e.i(519977);var s=e.i(219474);e.i(387020);var n=e.i(953619),a=e.i(251247),r=e.i(184214),l=e.i(267433),o=e.i(1206),c=e.i(865085),d=e.i(673213),u=e.i(423836);e.i(913272);var x=e.i(608970);function h(){let{openDialog:e}=(0,u.useDialog)(),i=(0,s.useAdminState)({config:{swr:{revalidateOnFocus:!1}}}),n=(0,s.useAdminWallet)({config:{swr:{revalidateOnFocus:!1}}}),h=(0,d.useSyncStatus)(),m=i.data?.version,j="?"===m?"https://github.com/SiaFoundation/indexd/commits/":m?.match(/^v\d+\.\d+\.\d+/)?`https://github.com/SiaFoundation/indexd/releases/${m}`:`https://github.com/SiaFoundation/indexd/tree/${m}`,f=i.data?new Date().getTime()-new Date(i.data?.startTime).getTime():0;return(0,t.jsxs)(a.DaemonProfile,{name:"indexd",peerCount:0,connectPeer:()=>e("connectPeer"),isSynced:h.isSynced,syncPercent:h.syncPercent,nodeBlockHeight:h.nodeBlockHeight,estimatedBlockHeight:h.estimatedBlockHeight,moreThan100BlocksToSync:h.moreThan100BlocksToSync,children:[(0,t.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,t.jsx)(r.Label,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Wallet address"}),(0,t.jsx)("div",{className:"flex-1 flex justify-end overflow-hidden -mr-0.5 pr-0.5",children:(0,t.jsx)(c.ValueCopyable,{size:"14",maxLength:20,value:n.data?.address||"",type:"address"})})]}),i.data&&(0,t.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,t.jsx)(r.Label,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Uptime"}),(0,t.jsx)("div",{className:"flex-1 flex justify-end overflow-hidden -mr-0.5 pr-0.5",children:(0,t.jsx)(o.Text,{size:"14",children:(0,x.humanTime)(f,{format:"long"})})})]}),(0,t.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,t.jsx)(r.Label,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Network"}),(0,t.jsx)("div",{className:"flex-1 flex justify-end overflow-hidden -mr-0.5 pr-0.5",children:(0,t.jsx)(o.Text,{size:"14",children:i.data?.network})})]}),(0,t.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,t.jsx)(r.Label,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Version"}),(0,t.jsx)(l.Link,{size:"14",href:j,underline:"hover",target:"_blank",ellipsis:!0,children:i.data?.version})]})]})}var m=e.i(515366),j=e.i(599748),f=e.i(339173),g=e.i(937842),p=e.i(22550),b=e.i(393128),v=e.i(812247),y=e.i(530875);e.i(587154);var w=e.i(699221);e.i(563386);var k=e.i(165158),S=e.i(985069);function C(){let e,n,{isUnlockedAndAuthedRoute:a}=(0,k.useAppSettings)(),{openDialog:r}=(0,u.useDialog)(),c=(0,s.useAdminWallet)(),[x,h]=(0,S.default)("v0/indexd/onboarding/maximized",{defaultValue:!0}),C=(0,d.useSyncStatus)(),T=(e=(0,s.useAdminSettingsContracts)(),n=(0,s.useAdminContracts)(),{active:e.data&&n.data&&n.data.length<e.data.wantedContracts,count:n.data?.length||0,required:e.data?.wantedContracts||0}),z=(0,y.useRemoteData)({wallet:c},({wallet:e})=>({wallet:e}));if(!a||"loaded"!==z.state)return null;let P=new i.default(z.data.wallet?z.data.wallet.confirmed+z.data.wallet.unconfirmed:0),W=C.isSynced,A=P.gt(0),B=!T.active,F=[!0,W,A,B],I=F.length,L=F.filter(e=>e).length;return I===L?(0,t.jsx)(j.AppDockedControl,{}):x?(0,t.jsx)(j.AppDockedControl,{children:(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(p.Panel,{className:"w-[400px] flex flex-col max-h-[600px]",children:(0,t.jsxs)(b.ScrollArea,{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center px-3 py-2 border-b border-gray-200 dark:border-graydark-300",children:[(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)(g.Logo,{}),(0,t.jsx)(o.Text,{size:"20",weight:"semibold",children:"Welcome to Sia"})]}),(0,t.jsx)(f.Button,{"aria-label":"minimize onboarding wizard",variant:"ghost",onClick:()=>h(!1),children:(0,t.jsx)(w.Subtract24,{})})]}),(0,t.jsx)("div",{className:"flex justify-between items-center px-3 py-2 border-b border-gray-200 dark:border-graydark-300",children:(0,t.jsx)(o.Text,{size:"14",children:"Get set up by completing the following steps. Once they are complete, the daemon can start storing data."})}),(0,t.jsx)(N,{title:(0,t.jsx)(l.Link,{href:m.routes.config.index,ellipsis:!0,size:"14",underline:"hover",children:"Step 1: Configure your storage settings"}),description:"Specify your maximum pricing values and other settings.",action:(0,t.jsx)(l.Link,{href:m.routes.config.index,children:(0,t.jsx)(w.Launch16,{})})}),(0,t.jsx)(N,{title:(0,t.jsx)(l.Link,{href:m.routes.node.index,underline:"hover",ellipsis:!0,size:"14",children:"Step 2: Wait for the blockchain to sync"}),description:"The blockchain will sync in the background, this takes some time. No user action required.",action:W?(0,t.jsx)(o.Text,{color:"green",children:(0,t.jsx)(w.CheckmarkFilled16,{})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(o.Text,{ellipsis:!0,size:"14",children:[C.syncPercent,"%"]}),(0,t.jsx)(o.Text,{color:"amber",children:(0,t.jsx)(w.PendingFilled16,{})})]})}),(0,t.jsx)(N,{title:(0,t.jsx)(l.Link,{href:m.routes.wallet.view,onClick:()=>r("addressDetails"),ellipsis:!0,size:"14",underline:"hover",children:"Step 3: Fund your wallet"}),description:`Fund your wallet to cover spending on storage.${C.isWalletSynced?"":" Balance will not be accurate until wallet is finished scanning."}`,action:A?(0,t.jsx)(o.Text,{color:"green",children:(0,t.jsx)(w.CheckmarkFilled16,{})}):(0,t.jsxs)(t.Fragment,{children:[!C.isWalletSynced&&(0,t.jsx)(v.Tooltip,{content:`Wallet scanning progress ${C.walletScanPercent}%`,children:(0,t.jsxs)(o.Text,{size:"14",children:[C.walletScanPercent,"%"]})}),(0,t.jsx)(l.Link,{href:m.routes.wallet.view,onClick:()=>r("addressDetails"),children:(0,t.jsx)(w.Launch16,{})}),(0,t.jsx)(o.Text,{color:"amber",children:(0,t.jsx)(w.RadioButton16,{})})]})}),(0,t.jsx)(N,{title:(0,t.jsx)(l.Link,{href:m.routes.home,ellipsis:!0,size:"14",underline:"hover",children:"Step 4: Wait for storage contracts to form"}),description:"Once all other steps are complete, contracts will automatically form. No user action required.",action:B?(0,t.jsx)(o.Text,{color:"green",children:(0,t.jsx)(w.CheckmarkFilled16,{})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(o.Text,{ellipsis:!0,size:"14",children:[T.count,"/",T.required]}),(0,t.jsx)(o.Text,{color:"amber",children:(0,t.jsx)(w.PendingFilled16,{})})]})})]})})})}):(0,t.jsx)(j.AppDockedControl,{children:(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(f.Button,{onClick:()=>h(!0),size:"large",className:"flex gap-3 !px-3",children:(0,t.jsxs)(o.Text,{size:"14",className:"flex items-center gap-2",children:[(0,t.jsx)(g.Logo,{}),"Setup: ",L,"/",I," steps complete"]})})})})}function N({title:e,action:i,description:s}){return(0,t.jsx)("div",{className:"border-t first:border-t-0 border-gray-200 dark:border-graydark-300 px-3 py-2",children:(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)("div",{className:"flex-1 flex items-center",children:e}),i]}),(0,t.jsx)("div",{className:"pr-5",children:(0,t.jsx)(o.Text,{size:"12",color:"subtle",children:s})})]})})}var T=e.i(681574),z=e.i(249928);function P({size:e}){let{toggleEnabled:i,enabled:s}=(0,z.useConfigEnabled)();return(0,t.jsx)(v.Tooltip,{content:"Enable or disable forming contracts and maintaining data.",children:(0,t.jsx)("div",{children:(0,t.jsx)(T.Switch,{size:e,checked:s,onCheckedChange:i})})})}function W(){let e=(0,s.useAdminSettingsContracts)();return!e.data||e.data.enabled?(0,t.jsx)(j.AppDockedControl,{}):(0,t.jsx)(j.AppDockedControl,{children:(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsxs)(p.Panel,{className:"w-[400px] flex flex-col gap-2 max-h-[600px] p-3",children:[(0,t.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,t.jsx)(o.Text,{size:"18",weight:"medium",color:"contrast",children:(0,t.jsx)(w.Warning24,{})}),(0,t.jsx)(o.Text,{size:"18",weight:"medium",color:"contrast",children:"System is currently disabled"}),(0,t.jsx)("div",{className:"flex-1"}),(0,t.jsx)(P,{size:"medium"})]}),(0,t.jsx)(o.Text,{size:"12",color:"subtle",children:"Enable the system to form contracts and maintain files. Make sure to configure your desired settings before enabling."})]})})})}function A({children:e}){return(0,t.jsxs)("div",{"data-testid":"docked-controls",className:"flex flex-col gap-2",children:[e,(0,t.jsx)(C,{}),(0,t.jsx)(W,{})]})}var B=e.i(939486);function F(){let e=(0,s.useAdminState)({config:{swr:{revalidateOnFocus:!1}}});return e.data&&"mainnet"!==e.data.network?(0,t.jsx)(B.TestnetWarningBanner,{testnetName:e.data.network}):null}var I=e.i(448639),L=e.i(107225),D=e.i(182937),R=e.i(245910),O=e.i(110388),U=e.i(97596),$=e.i(57293),q=e.i(668044),E=e.i(331182),H=e.i(486378),K=e.i(618566),V=e.i(942717);function G(){let{openDialog:e}=(0,u.useDialog)(),i=(0,K.useSearchParams)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(I.SidenavItem,{title:"Hosts",route:(0,V.routeWithParams)(m.routes.hosts.index,i),children:(0,t.jsx)(O.DatabaseIcon,{})}),(0,t.jsx)(I.SidenavItem,{title:"Contracts",route:(0,V.routeWithParams)(m.routes.contracts.index,i),children:(0,t.jsx)(U.FileContractIcon,{})}),(0,t.jsx)(I.SidenavItem,{title:"Connect keys",route:(0,V.routeWithParams)(m.routes.keys.index,i),children:(0,t.jsx)($.KeyIcon,{})}),(0,t.jsx)(I.SidenavItem,{title:"Quotas",route:(0,V.routeWithParams)(m.routes.quotas.index,i),children:(0,t.jsx)(H.GaugeIcon,{})}),(0,t.jsx)(I.SidenavItem,{title:"Accounts",route:(0,V.routeWithParams)(m.routes.accounts.index,i),children:(0,t.jsx)(E.UsersIcon,{})}),(0,t.jsx)(I.SidenavItem,{title:"Alerts",route:(0,V.routeWithParams)(m.routes.alerts.index,i),children:(0,t.jsx)(q.BellIcon,{})}),(0,t.jsx)(I.SidenavItem,{title:"Configuration",route:(0,V.routeWithParams)(m.routes.config.index,i),children:(0,t.jsx)(L.BarsProgressIcon,{})}),(0,t.jsx)(I.SidenavItem,{title:"Metrics",route:(0,V.routeWithParams)(m.routes.metrics.index,i),children:(0,t.jsx)(D.ChartIcon,{})}),(0,t.jsx)(I.SidenavItem,{title:"Bug report",onClick:()=>e("bugReport"),children:(0,t.jsx)(R.BugIcon,{})})]})}function M({children:e}){let{isSynced:a}=(0,d.useSyncStatus)(),{openDialog:r}=(0,u.useDialog)(),l=(0,s.useAdminWallet)();return(0,t.jsx)(n.AppRouterAppAuthedLayout,{profile:(0,t.jsx)(h,{}),routes:m.routes,isSynced:a,dockedControls:(0,t.jsx)(A,{}),connectivityRoute:m.connectivityRoute,openSettings:()=>r("settings"),banner:(0,t.jsx)(F,{}),sidenav:(0,t.jsx)(G,{}),walletBalanceSc:l.data&&{spendable:new i.default(l.data.spendable),confirmed:new i.default(l.data.confirmed),immature:new i.default(l.data.immature),unconfirmed:new i.default(l.data.unconfirmed)},children:e})}e.s(["default",()=>M],2805)}]);