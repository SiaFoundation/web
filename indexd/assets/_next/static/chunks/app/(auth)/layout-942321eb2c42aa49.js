(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9097],{1022:(e,s,i)=>{"use strict";i.r(s),i.d(s,{default:()=>y});var n=i(54568),t=i(37653),r=i(67814),l=i(12655),a=i(89565),d=i(6713),c=i(93727);function o(){var e,s,i,t,o;let{openDialog:x}=(0,d.sp)(),j=(0,r.GU)({config:{swr:{revalidateOnFocus:!1}}}),h=(0,r.Mw)({config:{swr:{revalidateOnFocus:!1}}}),m=(0,a.d)(),u=null==(e=j.data)?void 0:e.version,f="?"===u?"https://github.com/SiaFoundation/indexd/commits/":(null==u?void 0:u.match(/^v\d+\.\d+\.\d+/))?"https://github.com/SiaFoundation/indexd/releases/".concat(u):"https://github.com/SiaFoundation/indexd/tree/".concat(u),p=j.data?new Date().getTime()-new Date(null==(s=j.data)?void 0:s.startTime).getTime():0;return(0,n.jsxs)(l.qNN,{name:"indexd",peerCount:0,connectPeer:()=>x("connectPeer"),isSynced:m.isSynced,syncPercent:m.syncPercent,nodeBlockHeight:m.nodeBlockHeight,estimatedBlockHeight:m.estimatedBlockHeight,firstTimeSyncing:m.firstTimeSyncing,moreThan100BlocksToSync:m.moreThan100BlocksToSync,children:[(0,n.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,n.jsx)(l.JU7,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Wallet address"}),(0,n.jsx)("div",{className:"flex-1 flex justify-end overflow-hidden -mr-0.5 pr-0.5",children:(0,n.jsx)(l.Zjd,{size:"14",maxLength:20,value:(null==(i=h.data)?void 0:i.address)||"",type:"address"})})]}),j.data&&(0,n.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,n.jsx)(l.JU7,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Uptime"}),(0,n.jsx)("div",{className:"flex-1 flex justify-end overflow-hidden -mr-0.5 pr-0.5",children:(0,n.jsx)(l.EYj,{size:"14",children:(0,c.zK)(p,{format:"long"})})})]}),(0,n.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,n.jsx)(l.JU7,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Network"}),(0,n.jsx)("div",{className:"flex-1 flex justify-end overflow-hidden -mr-0.5 pr-0.5",children:(0,n.jsx)(l.EYj,{size:"14",children:null==(t=j.data)?void 0:t.network})})]}),(0,n.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,n.jsx)(l.JU7,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Version"}),(0,n.jsx)(l.N_E,{size:"14",href:f,underline:"hover",target:"_blank",ellipsis:!0,children:null==(o=j.data)?void 0:o.version})]})]})}var x=i(16433);i(7620);var j=i(3813),h=i(26109),m=i(82257);function u(){let{isUnlockedAndAuthedRoute:e}=(0,h.IQ)(),{openDialog:s}=(0,d.sp)(),i=(0,r.Mw)(),[c,o]=(0,m.A)("v0/indexd/onboarding/maximized",{defaultValue:!0}),u=(0,a.d)(),p=function(){var e,s;let i=(0,r.XT)(),n=(0,r.Kd)();return{active:i.data&&n.data&&n.data.length<i.data.wantedContracts,count:(null==(e=n.data)?void 0:e.length)||0,required:(null==(s=i.data)?void 0:s.wantedContracts)||0}}();if(!e)return null;let g=new t.A(i.data?i.data.confirmed+i.data.unconfirmed:0),v=u.isSynced,b=g.gt(0),w=!p.active,y=[!0,v,b,w],N=y.length,k=y.filter(e=>e).length;return N===k?(0,n.jsx)(l.Di0,{}):c?(0,n.jsx)(l.Di0,{children:(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)(l.Zkm,{className:"w-[400px] flex flex-col max-h-[600px]",children:(0,n.jsxs)(l.FKN,{children:[(0,n.jsxs)("div",{className:"flex justify-between items-center px-3 py-2 border-b border-gray-200 dark:border-graydark-300",children:[(0,n.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,n.jsx)(l.guG,{}),(0,n.jsx)(l.EYj,{size:"20",weight:"semibold",children:"Welcome to Sia"})]}),(0,n.jsx)(l.$nd,{"aria-label":"minimize onboarding wizard",variant:"ghost",onClick:()=>o(!1),children:(0,n.jsx)(j.pz,{})})]}),(0,n.jsx)("div",{className:"flex justify-between items-center px-3 py-2 border-b border-gray-200 dark:border-graydark-300",children:(0,n.jsx)(l.EYj,{size:"14",children:"Get set up by completing the following steps. Once they are complete, the daemon can start storing data."})}),(0,n.jsx)(f,{title:(0,n.jsx)(l.N_E,{href:x.J.config.index,ellipsis:!0,size:"14",underline:"hover",children:"Step 1: Configure your storage settings"}),description:"Specify your maximum pricing values and other settings.",action:(0,n.jsx)(l.N_E,{href:x.J.config.index,children:(0,n.jsx)(j.dm2,{})})}),(0,n.jsx)(f,{title:(0,n.jsx)(l.N_E,{href:x.J.node.index,underline:"hover",ellipsis:!0,size:"14",children:"Step 2: Wait for the blockchain to sync"}),description:"The blockchain will sync in the background, this takes some time. No user action required.",action:v?(0,n.jsx)(l.EYj,{color:"green",children:(0,n.jsx)(j.Voo,{})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(l.EYj,{ellipsis:!0,size:"14",children:[u.syncPercent,"%"]}),(0,n.jsx)(l.EYj,{color:"amber",children:(0,n.jsx)(j.RDb,{})})]})}),(0,n.jsx)(f,{title:(0,n.jsx)(l.N_E,{href:x.J.wallet.view,onClick:()=>s("addressDetails"),ellipsis:!0,size:"14",underline:"hover",children:"Step 3: Fund your wallet"}),description:"Fund your wallet to cover spending on storage.".concat(u.isWalletSynced?"":" Balance will not be accurate until wallet is finished scanning."),action:b?(0,n.jsx)(l.EYj,{color:"green",children:(0,n.jsx)(j.Voo,{})}):(0,n.jsxs)(n.Fragment,{children:[!u.isWalletSynced&&(0,n.jsx)(l.m_M,{content:"Wallet scanning progress ".concat(u.walletScanPercent,"%"),children:(0,n.jsxs)(l.EYj,{size:"14",children:[u.walletScanPercent,"%"]})}),(0,n.jsx)(l.N_E,{href:x.J.wallet.view,onClick:()=>s("addressDetails"),children:(0,n.jsx)(j.dm2,{})}),(0,n.jsx)(l.EYj,{color:"amber",children:(0,n.jsx)(j.vmK,{})})]})}),(0,n.jsx)(f,{title:(0,n.jsx)(l.N_E,{href:x.J.home,ellipsis:!0,size:"14",underline:"hover",children:"Step 4: Wait for storage contracts to form"}),description:"Once all other steps are complete, contracts will automatically form. No user action required.",action:w?(0,n.jsx)(l.EYj,{color:"green",children:(0,n.jsx)(j.Voo,{})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(l.EYj,{ellipsis:!0,size:"14",children:[p.count,"/",p.required]}),(0,n.jsx)(l.EYj,{color:"amber",children:(0,n.jsx)(j.RDb,{})})]})})]})})})}):(0,n.jsx)(l.Di0,{children:(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)(l.$nd,{onClick:()=>o(!0),size:"large",className:"flex gap-3 !px-3",children:(0,n.jsxs)(l.EYj,{size:"14",className:"flex items-center gap-2",children:[(0,n.jsx)(l.guG,{}),"Setup: ",k,"/",N," steps complete"]})})})})}function f(e){let{title:s,action:i,description:t}=e;return(0,n.jsx)("div",{className:"border-t first:border-t-0 border-gray-200 dark:border-graydark-300 px-3 py-2",children:(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,n.jsx)("div",{className:"flex-1 flex items-center",children:s}),i]}),(0,n.jsx)("div",{className:"pr-5",children:(0,n.jsx)(l.EYj,{size:"12",color:"subtle",children:t})})]})})}var p=i(48230);function g(){let e=(0,r.XT)();return!e.data||e.data.enabled?(0,n.jsx)(l.Di0,{}):(0,n.jsx)(l.Di0,{children:(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsxs)(l.Zkm,{className:"w-[400px] flex flex-col gap-2 max-h-[600px] p-3",children:[(0,n.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,n.jsx)(l.EYj,{size:"18",weight:"medium",color:"contrast",children:(0,n.jsx)(j.D9c,{})}),(0,n.jsx)(l.EYj,{size:"18",weight:"medium",color:"contrast",children:"System is currently disabled"}),(0,n.jsx)("div",{className:"flex-1"}),(0,n.jsx)(p.i,{size:"medium"})]}),(0,n.jsx)(l.EYj,{size:"12",color:"subtle",children:"Enable the system to form contracts and maintain files. Make sure to configure your desired settings before enabling."})]})})})}function v(e){let{children:s}=e;return(0,n.jsxs)("div",{"data-testid":"docked-controls",className:"flex flex-col gap-2",children:[s,(0,n.jsx)(u,{}),(0,n.jsx)(g,{})]})}function b(){let e=(0,r.GU)({config:{swr:{revalidateOnFocus:!1}}});return e.data&&"mainnet"!==e.data.network?(0,n.jsx)(l.eFU,{testnetName:e.data.network}):null}function w(){let{openDialog:e}=(0,d.sp)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.U3R,{title:"Data",route:x.J.home,children:(0,n.jsx)(j.bN0,{})}),(0,n.jsx)(l.U3R,{title:"Configuration",route:x.J.config.index,children:(0,n.jsx)(j.x8D,{})}),(0,n.jsx)(l.U3R,{title:"Metrics",route:x.J.metrics.index,children:(0,n.jsx)(j.KxP,{})}),(0,n.jsx)(l.U3R,{title:"Bug report",onClick:()=>e("bugReport"),children:(0,n.jsx)(j.Q5O,{})})]})}function y(e){let{children:s}=e,{isSynced:i}=(0,a.d)(),{openDialog:c}=(0,d.sp)(),j=(0,r.Mw)();return(0,n.jsx)(l.tM8,{profile:(0,n.jsx)(o,{}),routes:x.J,isSynced:i,dockedControls:(0,n.jsx)(v,{}),connectivityRoute:x.b,openSettings:()=>c("settings"),banner:(0,n.jsx)(b,{}),sidenav:(0,n.jsx)(w,{}),walletBalanceSc:j.data&&{spendable:new t.A(j.data.spendable),confirmed:new t.A(j.data.confirmed),immature:new t.A(j.data.immature),unconfirmed:new t.A(j.data.unconfirmed)},children:s})}},33296:(e,s,i)=>{Promise.resolve().then(i.bind(i,1022))},48230:(e,s,i)=>{"use strict";i.d(s,{i:()=>a});var n=i(54568),t=i(12655),r=i(67814),l=i(7620);function a(e){var s;let{size:i}=e,a=(0,r.s3)(),d=(0,r.XT)(),c=(0,l.useCallback)(()=>{var e;d.data&&a.put({payload:{...d.data,enabled:!(null==(e=d.data)?void 0:e.enabled)}})},[d.data,a]);return(0,n.jsx)(t.m_M,{content:"Enable or disable forming contracts and maintaining data.",children:(0,n.jsx)("div",{children:(0,n.jsx)(t.dOG,{size:i,checked:!!(null==(s=d.data)?void 0:s.enabled),onCheckedChange:c})})})}}},e=>{e.O(0,[9085,9030,5764,6017,2826,7421,8820,224,2550,5465,9589,751,7722,1144,4082,6712,1551,2273,9557,4114,7939,5312,1213,947,2991,8900,7164,9800,2655,6713,587,1902,7358],()=>e(e.s=33296)),_N_E=e.O()}]);