(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3531],{16326:(e,s,l)=>{"use strict";l.d(s,{A:()=>o});var a=l(54568),t=l(2720),n=l(79423),i=l(7620);function r(e){let{columnId:s,table:l,children:r}=e,[c,d]=(0,i.useState)(!1),o=l.getColumn(s),u=null==o?void 0:o.getIsFiltered();return(null==o?void 0:o.getCanFilter())?(0,a.jsx)(t.AMh,{trigger:(0,a.jsx)(t.$nd,{variant:"ghost",size:"none",icon:u?"contrast":"verySubtle",children:(0,a.jsx)(n.uG0,{})}),rootProps:{open:c,onOpenChange:d},contentProps:{align:"end",className:"w-64"},children:(0,a.jsxs)("div",{className:"p-3 space-y-3",children:[r,u&&(0,a.jsx)(t.$nd,{variant:"ghost",size:"small",onClick:()=>{o.setFilterValue(void 0),d(!1)},className:"w-full",children:"Clear Filter"})]})}):null}var c=l(89964);function d(e){var s;let{columnId:l,table:i}=e,r=i.getColumn(l),d=null==r?void 0:r.getIsSorted(),o=null==r?void 0:r.columnDef,u=null==o?void 0:o.sortKey,x=i.getState().sorting,m=null!=(s=null==r?void 0:r.getSortIndex())?s:-1,h=x.length>1;if(!u)return null;let j=e=>{e.stopPropagation(),"asc"===d?null==r||r.toggleSorting(!0,!0):"desc"===d||x.length>0&&e.shiftKey?null==r||r.toggleSorting(!1,!0):null==r||r.toggleSorting(!1,!1)};return(0,a.jsxs)("div",{className:"flex items-center gap-0.5 group",children:[d?(0,a.jsx)(t.m_M,{content:"Remove this sort",side:"bottom",delayDuration:1200,children:(0,a.jsx)(t.$nd,{size:"none",onClick:e=>{e.stopPropagation(),null==r||r.clearSorting()},className:"p-1 text-xxs",children:h?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-2.5 h-2.5 flex items-center justify-center group-hover:hidden",children:m>=0?m+1:null}),(0,a.jsx)(n.sn9,{className:"w-2.5 h-2.5 hidden group-hover:block"})]}):(0,a.jsx)(n.sn9,{className:"w-2.5 h-2.5"})})}):null,!d&&x.length>0?(0,a.jsx)(t.m_M,{content:"Shift click to apply additional sort",side:"bottom",children:(0,a.jsx)(t.$nd,{variant:"ghost",size:"none",icon:"verySubtle",onClick:j,className:"shrink-0",children:(0,a.jsx)(c.y,{direction:!1})})}):(0,a.jsx)(t.$nd,{variant:"ghost",size:"none",icon:d?"contrast":"verySubtle",onClick:j,className:"shrink-0",children:(0,a.jsx)(c.y,{direction:"asc"===d?"asc":"desc"===d&&"desc"})})]})}function o(e){var s;let{children:l,table:n,column:i,filter:c,className:o}=e,u=!!(null==i||null==(s=i.columnDef)?void 0:s.sortKey);return(0,a.jsxs)("div",{className:(0,t.cn)("flex items-center gap-1 justify-end min-w-0",o),children:[(0,a.jsx)(t.EYj,{className:"truncate",children:l}),(0,a.jsxs)("div",{className:"flex items-center gap-0.5 shrink-0",children:[n&&i&&c&&(0,a.jsx)(r,{columnId:i.id,table:n,children:c}),n&&i&&u&&(0,a.jsx)(d,{columnId:i.id,table:n})]})]})}},37968:(e,s,l)=>{"use strict";l.d(s,{w:()=>i});var a=l(54568),t=l(2720),n=l(79423);function i(e){let{customCloseAction:s,actions:l,onClose:i,children:r,heading:c,onSubmit:d}=e;return(0,a.jsx)(t.Zkm,{className:"relative h-full w-full",children:(0,a.jsxs)(d?"form":"div",{className:"relative h-full w-full overflow-hidden flex flex-col",onSubmit:d,children:[(0,a.jsxs)("div",{className:"h-[45px] z-10 flex items-center justify-between gap-2 bg-white dark:bg-graydark-200 py-2 px-2 border-b border-gray-200 dark:border-graydark-400",children:[c,s||(i?(0,a.jsx)(t.$nd,{className:"p-2 rounded hover:bg-neutral-100 dark:hover:bg-neutral-800 focus:outline-none focus:ring-2 focus:ring-blue-500 z-10",onClick:i,"aria-label":"Close drawer",variant:"ghost",icon:"hover",size:"none",children:(0,a.jsx)(n.sn9,{className:"w-5 h-5 text-neutral-500 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-neutral-100"})}):null)]}),l&&(0,a.jsx)("div",{className:"z-10 flex items-center justify-end gap-1 bg-white dark:bg-graydark-200 py-2 px-2 border-b border-gray-200 dark:border-graydark-400",children:l}),(0,a.jsx)(t.FKN,{className:"flex-1",children:(0,a.jsx)("div",{className:"p-4",children:r})})]})})}},50257:(e,s,l)=>{"use strict";l.d(s,{B:()=>n});var a=l(54568),t=l(2720);function n(e){let{label:s,value:l,variant:n="row"}=e;return"column"===n?(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)(t.EYj,{color:"verySubtle",size:"14",weight:"medium",className:"truncate",children:s}),(0,a.jsx)(t.EYj,{color:"contrast",children:l})]}):(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("div",{className:"flex-1 flex justify-start items-center",children:(0,a.jsx)(t.EYj,{color:"verySubtle",size:"14",weight:"medium",className:"truncate",children:s})}),(0,a.jsx)("div",{className:"flex-1 flex justify-end items-center",children:"string"==typeof l?l?(0,a.jsx)(t.EYj,{className:"truncate",children:l}):(0,a.jsx)(t.EYj,{color:"verySubtle",children:"-"}):l||(0,a.jsx)(t.EYj,{color:"verySubtle",children:"-"})})]})}},65702:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>F});var a=l(54568),t=l(2720),n=l(7620),i=l(16326),r=l(68340),c=l(71564);let d=[(0,r.p)(),{id:"key",header:e=>{let{table:s,column:l}=e;return(0,a.jsx)(i.A,{table:s,column:l,className:"justify-start",children:"Key"})},cell:e=>{let{row:s}=e;return(0,a.jsx)(t.Zjd,{maxLength:100,value:s.original.key,label:"key"})},meta:{className:"justify-start",...c.pC}},{id:"description",header:e=>{let{table:s,column:l}=e;return(0,a.jsx)(i.A,{table:s,column:l,className:"justify-start",children:"Description"})},cell:e=>{let{row:s}=e;return(0,a.jsx)(t.EYj,{children:s.original.description})},meta:{className:"justify-start",...c.pC}},{id:"totalUses",header:e=>{let{table:s,column:l}=e;return(0,a.jsx)(i.A,{table:s,column:l,className:"justify-end",children:"Total uses"})},cell:e=>{let{row:s}=e;return(0,a.jsx)(t.EYj,{children:s.original.totalUses})},meta:{className:"justify-end",...c.E}},{id:"remainingUses",header:e=>{let{table:s,column:l}=e;return(0,a.jsx)(i.A,{table:s,column:l,className:"justify-end",children:"Remaining uses"})},cell:e=>{let{row:s}=e;return(0,a.jsx)(t.EYj,{children:s.original.remainingUses})},meta:{className:"justify-end",...c.E}},{id:"pinnedData",header:e=>{let{table:s,column:l}=e;return(0,a.jsx)(i.A,{table:s,column:l,className:"justify-end",children:"Pinned data"})},cell:e=>{let{row:s}=e;return(0,a.jsx)(t.EYj,{children:s.original.displayFields.pinnedData})},meta:{className:"justify-end",...c.E}},{id:"maxPinnedData",header:e=>{let{table:s,column:l}=e;return(0,a.jsx)(i.A,{table:s,column:l,className:"justify-end",children:"Max pinned data"})},cell:e=>{let{row:s}=e;return(0,a.jsx)(t.EYj,{children:s.original.displayFields.maxPinnedData})},meta:{className:"justify-end",...c.E}},{id:"dateCreated",header:e=>{let{table:s,column:l}=e;return(0,a.jsx)(i.A,{table:s,column:l,className:"justify-end",children:"Date created"})},cell:e=>{let{row:s}=e;return(0,a.jsx)(t.EYj,{children:s.original.displayFields.dateCreated})},meta:{className:"justify-end",...c.XK}},{id:"lastUpdated",header:e=>{let{table:s,column:l}=e;return(0,a.jsx)(i.A,{table:s,column:l,className:"justify-end",children:"Last updated"})},cell:e=>{let{row:s}=e;return(0,a.jsx)(t.EYj,{children:s.original.displayFields.lastUpdated})},meta:{className:"justify-end",...c.XK}},{id:"lastUsed",header:e=>{let{table:s,column:l}=e;return(0,a.jsx)(i.A,{table:s,column:l,className:"justify-end",children:"Last used"})},cell:e=>{let{row:s}=e;return(0,a.jsx)(t.EYj,{children:s.original.displayFields.lastUsed||"-"})},meta:{className:"justify-end",...c.XK}}];var o=l(37968);function u(e){let{table:s}=e,l=(0,n.useMemo)(()=>s.isSelection?s.selectedRows:s.rows,[s.isSelection,s.selectedRows,s.rows]);return(0,a.jsx)(o.w,{heading:(0,a.jsx)(t.EYj,{size:"18",weight:"medium",children:s.isSelection?"Selected keys (".concat(l.length,")"):s.isFiltered?"Filtered keys (".concat(l.length,")"):"All keys"}),customCloseAction:s.isSelection?(0,a.jsx)(t.$nd,{onClick:()=>s.setRowSelection({}),children:"Clear selection"}):null,children:(0,a.jsx)(t.EYj,{color:"subtle",className:"flex justify-center pt-[50px]",children:"No information on keys yet"})})}var x=l(23051),m=l(79423),h=l(46505),j=l(50257),f=l(78633),g=l(61242),p=l(84684),y=l(45027),v=l(83631);function N(e){let{heading:s,onClose:l,remoteValues:i,fields:r,onSave:c,actionsLeft:d,actionsRight:u,render:x}=e,h=(0,v.mN)({mode:"all"});(0,t.wdL)({form:h,remoteValues:i}),(0,t.TEy)({form:h,remoteValues:i});let{changeCount:j}=(0,t.xSy)({form:h}),f=j>0,g=(0,n.useCallback)(async e=>{await c(e),h.reset(e)},[c,h]),p=(0,t._2E)(r);return(0,a.jsx)(o.w,{onClose:l,heading:s,onSubmit:h.handleSubmit(g,p),actions:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2 w-full",children:[d,(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[f?(0,a.jsxs)(t.EYj,{color:"subtle",size:"12",children:[j," change",1===j?"":"s"]}):null,(0,a.jsx)(t.$nd,{onClick:()=>h.reset(i),variant:"ghost",disabled:!f,tip:"Reset all changes",children:(0,a.jsx)(m.ZxO,{})}),(0,a.jsx)(t.Jhq,{variant:h.formState.isDirty?"accent":"gray",size:"small",form:h,requireChanges:!0,children:(0,a.jsx)(m.xfD,{})})]}),u]}),children:x(h,r)})}var w=l(79513),b=l(6756),k=l(92517),E=l(19137),C=l(30650),S=l(78303);let A=(0,b.ww)();function D(){let{panelId:e,setPanelId:s}=(0,h.s)(),{buildAddColumnFilterParams:l}=(0,E.M)(),i=(0,S.l)(),{openDialog:r}=(0,x.sp)(),c=(0,g.PM)(),d=(0,p.ej)(),u=(0,g.IW)({disabled:!e,params:{key:e}}),v=(0,t.mpY)({connectKey:u},e=>{let{connectKey:s}=e;return(0,b.jA)(s)}),D=(0,n.useCallback)(async e=>{if(!v.data)return;let s=await c.put({payload:{...v.data.connectKey,...(0,b.yq)(e)}});s.error?(0,t.el3)({title:"Error saving key",body:s.error}):((0,t.VE1)({title:"Key updated"}),await d(e=>e.startsWith(y.Pg)))},[c,d,v.data]);return(0,a.jsx)(t.BQi,{data:v,loading:(0,a.jsx)(w.P,{withActions:!0,onClose:()=>s(void 0)}),notFound:(0,a.jsx)(o.w,{heading:null,children:(0,a.jsx)("div",{className:"flex justify-center pt-[50px]",children:(0,a.jsx)(t.EYj,{color:"subtle",children:"Key not found"})})}),loaded:e=>{let{connectKey:n,values:c}=e;return(0,a.jsx)(N,{heading:(0,a.jsx)(f.R,{heading:"Key",value:n.key,label:"key"}),onClose:()=>s(void 0),remoteValues:c,fields:A,onSave:D,actionsLeft:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(t.$nd,{onClick:()=>r("connectKeyDelete",n.key),children:(0,a.jsx)(m.o67,{})}),(0,a.jsxs)(t.$nd,{onClick:()=>{i(C.J.accounts.index,l({id:"connectkey",value:n.key}))},children:[(0,a.jsx)(m.uG0,{}),"Accounts"]})]}),render:(e,s)=>(0,a.jsx)(k.V,{heading:"Info",children:(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)(t.cvq,{name:"description",form:e,fields:s}),(0,a.jsx)(t.i3t,{name:"maxPinnedDataGB",form:e,fields:s}),(0,a.jsx)(t.i3t,{name:"remainingUses",form:e,fields:s}),(0,a.jsx)(j.B,{label:"Total uses",value:n.displayFields.totalUses}),(0,a.jsx)(j.B,{label:"Pinned data",value:n.displayFields.pinnedData}),(0,a.jsx)(j.B,{label:"Date created",value:n.displayFields.dateCreated}),(0,a.jsx)(j.B,{label:"Last updated",value:n.displayFields.lastUpdated}),(0,a.jsx)(j.B,{label:"Last used",value:n.displayFields.lastUsed})]})})},n.key)}})}var Y=l(81477);function z(){let{openDialog:e}=(0,x.sp)();return(0,a.jsxs)(t.$nd,{variant:"accent",onClick:()=>e("connectKeyCreate"),children:[(0,a.jsx)(m.X4t,{}),"Create key"]})}function P(){let{offset:e,limit:s,setOffset:l,setLimit:i,panelId:r,setPanelId:c,columnFilters:o,setColumnFilters:x,columnSorts:m,setColumnSorts:j}=(0,h.s)(),f=(0,n.useCallback)(e=>{c(e)},[c]),p=function(){let{limit:e,offset:s}=(0,h.s)(),l=(0,g.P2)({params:{limit:e,offset:s}});return(0,t.sEt)({keys:l},e=>{let{keys:s}=e;return s.map(b.f0)},{offset:s})}(),y=(0,t.uIQ)({dataset:p,columns:d,columnFilters:o,setColumnFilters:x,columnSorts:m,setColumnSorts:j,offset:e,limit:s,onRowClick:f,setOffset:l,setLimit:i});return(0,a.jsx)(Y.P,{table:(0,a.jsx)(t.bQt,{...y,localStorage:"indexd/keys",actions:(0,a.jsx)(z,{}),noneOnPage:(0,a.jsx)(t.GB$,{message:"No keys on this page, reset pagination to continue."}),noneYet:(0,a.jsx)(t.QOE,{message:"There are no keys yet."}),noneMatchingFilters:(0,a.jsx)(t.hpd,{message:"No keys matching filters."}),error:(0,a.jsx)(t.qq6,{message:"Error loading keys. Please try again later."})}),panel:r?(0,a.jsx)(D,{}):(0,a.jsx)(u,{table:y})})}function F(){return(0,a.jsx)(P,{})}},68340:(e,s,l)=>{"use strict";l.d(s,{p:()=>n});var a=l(54568),t=l(2720);let n=()=>({id:"select",header:e=>{let{table:s}=e;return(0,a.jsx)("div",{onClick:e=>e.stopPropagation(),className:"h-full flex items-center justify-start",children:(0,a.jsx)(t.Sc0,{checked:!!s.getIsAllRowsSelected()||!!s.getIsSomeRowsSelected()&&"indeterminate",onCheckedChange:e=>{s.getToggleAllRowsSelectedHandler()({target:{checked:!0===e}})}})})},cell:e=>{let{row:s}=e;return(0,a.jsx)("div",{onClick:e=>e.stopPropagation(),className:"flex items-center justify-center",children:(0,a.jsx)(t.Sc0,{checked:s.getIsSelected(),disabled:!s.getCanSelect(),onCheckedChange:e=>{s.getToggleSelectedHandler()({target:{checked:!0===e}})}})})},meta:{stopPropagation:!0,width:35}})},71564:(e,s,l)=>{"use strict";l.d(s,{E:()=>a,RQ:()=>r,XK:()=>t,pC:()=>i,xl:()=>n});let a={width:100},t={width:200},n={width:200},i={width:140},r={width:140}},78303:(e,s,l)=>{"use strict";l.d(s,{M:()=>n,l:()=>i});var a=l(27541),t=l(7620);function n(e,s){return"".concat(e,"?").concat(new URLSearchParams(s).toString())}function i(){let e=(0,a.useRouter)();return(0,t.useCallback)((s,l)=>{e.push(n(s,l))},[e])}},78633:(e,s,l)=>{"use strict";l.d(s,{R:()=>n});var a=l(54568),t=l(2720);function n(e){let{heading:s,label:l,value:n}=e;return(0,a.jsxs)("div",{className:"flex items-center gap-1 overflow-hidden",children:[(0,a.jsx)("div",{className:"flex-none flex items-center gap-1",children:"string"==typeof s?(0,a.jsx)(t.EYj,{size:"18",weight:"medium",ellipsis:!0,children:s}):s}),(0,a.jsx)(t.Zjd,{fitWidth:!0,size:"18",weight:"medium",maxLength:200,value:n,label:l})]})}},79513:(e,s,l)=>{"use strict";l.d(s,{P:()=>r});var a=l(54568),t=l(2720),n=l(37968),i=l(92517);function r(e){let{withMap:s,withActions:l,onClose:r}=e;return(0,a.jsxs)(n.w,{onClose:r,heading:(0,a.jsxs)("div",{className:"flex items-center gap-3 w-full",children:[(0,a.jsx)(t.EAD,{className:"h-5 w-[70%]"}),(0,a.jsx)("div",{className:"flex-1"}),(0,a.jsx)(t.EAD,{className:"h-5 w-5 rounded"})]}),actions:l?(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2 w-full",children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(t.EAD,{className:"h-4 w-24"})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(t.EAD,{className:"h-7 w-8 rounded"}),(0,a.jsx)(t.EAD,{className:"h-7 w-8 rounded"}),(0,a.jsx)(t.EAD,{className:"h-7 w-20 rounded"})]})]}):null,children:[s&&(0,a.jsx)(t.hz$,{hosts:[],activeHost:null,onHostMapClick:()=>null,scale:180,mapClassName:"-mt-[20px]"}),(0,a.jsx)(i.V,{heading:(0,a.jsx)("div",{className:"flex items-center gap-2 py-1",children:(0,a.jsx)(t.EAD,{className:"h-5 w-12"})}),children:(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)("div",{className:"hidden"}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)(t.EAD,{className:"h-4 w-24"}),(0,a.jsx)(t.EAD,{className:"h-9 w-full"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)(t.EAD,{className:"h-4 w-28"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(t.EAD,{className:"h-9 w-full"}),(0,a.jsx)(t.EAD,{className:"h-5 w-10"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)(t.EAD,{className:"h-4 w-28"}),(0,a.jsx)(t.EAD,{className:"h-9 w-full"})]}),(0,a.jsx)("div",{className:"mt-2 flex flex-col gap-3",children:[0,1,2,3].map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(t.EAD,{className:"h-4 w-28"}),(0,a.jsx)(t.EAD,{className:"h-4 w-36"})]},e))})]})})]})}},81477:(e,s,l)=>{"use strict";l.d(s,{P:()=>n});var a=l(54568),t=l(53995);function n(e){let{table:s,panel:l}=e;return(0,a.jsx)("div",{className:"w-full h-full overflow-hidden flex flex-col",children:(0,a.jsxs)(t.YZ,{autoSaveId:"data-layout",direction:"horizontal",children:[(0,a.jsx)(t.Zk,{maxSize:75,className:"py-4 pl-4 pr-2",children:s}),(0,a.jsx)(t.TW,{}),(0,a.jsx)(t.Zk,{defaultSize:25,minSize:25,maxSize:50,className:"py-4 pl-2 pr-4",children:l})]})})}},89964:(e,s,l)=>{"use strict";l.d(s,{y:()=>n});var a=l(54568),t=l(79423);function n(e){let{direction:s}=e;return"asc"===s?(0,a.jsxs)("div",{className:"relative w-4 h-4",children:[(0,a.jsx)(t.cgo,{className:"absolute inset-0"}),(0,a.jsx)(t.zYC,{className:"absolute inset-0 opacity-30"})]}):"desc"===s?(0,a.jsxs)("div",{className:"relative w-4 h-4",children:[(0,a.jsx)(t.cgo,{className:"absolute inset-0 opacity-30"}),(0,a.jsx)(t.zYC,{className:"absolute inset-0"})]}):(0,a.jsx)(t.nIb,{})}},90414:(e,s,l)=>{Promise.resolve().then(l.bind(l,65702))},92517:(e,s,l)=>{"use strict";l.d(s,{V:()=>n});var a=l(54568),t=l(2720);function n(e){let{heading:s,children:l}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.wvv,{className:"first-of-type:hidden mt-4 mb-2"}),"string"==typeof s?(0,a.jsx)(t.EYj,{size:"16",weight:"medium",className:"mb-2",children:s}):s,l]})}}},e=>{e.O(0,[9085,9030,5764,6017,2826,7421,8820,224,2550,5465,9589,751,7722,1144,4082,6712,1551,2273,9557,4114,7939,5312,1213,947,2991,8900,6322,2179,3995,2720,3051,587,18,7358],()=>e(e.s=90414)),_N_E=e.O()}]);