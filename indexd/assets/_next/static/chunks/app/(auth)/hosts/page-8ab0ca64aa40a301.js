(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3162],{14778:(e,s,l)=>{"use strict";l.d(s,{i:()=>c});var t=l(54568),a=l(2720),n=l(79423),i=l(7620),r=l(89964);function c(e){let{table:s,columns:l}=e,c=s.getState().sorting,o=(0,i.useMemo)(()=>c.map(e=>{var t;let a=s.getColumn(e.id),n=l.find(s=>s.id===e.id),i=e.id;return i=(null==n?void 0:n.header)&&"string"==typeof n.header?n.header:e.id.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase()).trim(),{id:e.id,header:i,direction:e.desc?"desc":"asc",sortIndex:null!=(t=null==a?void 0:a.getSortIndex())?t:-1}}),[c,s,l]);return 0===c.length?null:(0,t.jsx)(a.AMh,{trigger:(0,t.jsx)(a.$nd,{size:"small",children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(a.EYj,{size:"12",weight:"medium",color:"subtle",children:"Order by"}),(0,t.jsx)(a.EYj,{size:"12",weight:"medium",color:"contrast",children:1===c.length?o[0].header:"".concat(c.length," columns")})]})}),contentProps:{align:"end",side:"bottom",className:"w-auto z-30",onOpenAutoFocus:e=>e.preventDefault()},children:(0,t.jsx)("div",{className:"p-1",children:o.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-1 justify-end min-w-0 p-1.5 rounded",children:[(0,t.jsx)(a.EYj,{size:"12",className:"truncate min-w-0 flex-1 text-right",children:e.header}),(0,t.jsxs)("div",{className:"flex items-center gap-0.5 shrink-0",children:[(0,t.jsx)(a.m_M,{content:"Remove this sort",side:"bottom",delayDuration:1200,children:(0,t.jsxs)(a.$nd,{variant:"ghost",size:"none",onClick:()=>(e=>{let l=s.getColumn(e);null==l||l.clearSorting()})(e.id),className:"group shrink-0 w-3.5 h-3.5 p-0 relative flex items-center justify-center",children:[(0,t.jsx)("span",{className:"text-[10px] leading-none font-medium absolute inset-0 flex items-center justify-center group-hover:hidden",children:e.sortIndex+1}),(0,t.jsx)(n.sn9,{className:"w-2.5 h-2.5 hidden group-hover:block absolute inset-0 m-auto"})]})}),(0,t.jsx)(a.$nd,{variant:"ghost",size:"none",icon:"contrast",onClick:()=>((e,l)=>{let t=s.getColumn(e);null==t||t.toggleSorting(!l,!0)})(e.id,"desc"===e.direction),className:"shrink-0",children:(0,t.jsx)(r.y,{direction:e.direction})})]})]},e.id))})})}},16326:(e,s,l)=>{"use strict";l.d(s,{A:()=>d});var t=l(54568),a=l(2720),n=l(79423),i=l(7620);function r(e){let{columnId:s,table:l,children:r}=e,[c,o]=(0,i.useState)(!1),d=l.getColumn(s),u=null==d?void 0:d.getIsFiltered();return(null==d?void 0:d.getCanFilter())?(0,t.jsx)(a.AMh,{trigger:(0,t.jsx)(a.$nd,{variant:"ghost",size:"none",icon:u?"contrast":"verySubtle",children:(0,t.jsx)(n.uG0,{})}),rootProps:{open:c,onOpenChange:o},contentProps:{align:"end",className:"w-64"},children:(0,t.jsxs)("div",{className:"p-3 space-y-3",children:[r,u&&(0,t.jsx)(a.$nd,{variant:"ghost",size:"small",onClick:()=>{d.setFilterValue(void 0),o(!1)},className:"w-full",children:"Clear Filter"})]})}):null}var c=l(89964);function o(e){var s;let{columnId:l,table:i}=e,r=i.getColumn(l),o=null==r?void 0:r.getIsSorted(),d=null==r?void 0:r.columnDef,u=null==d?void 0:d.sortKey,x=i.getState().sorting,m=null!=(s=null==r?void 0:r.getSortIndex())?s:-1,h=x.length>1;if(!u)return null;let g=e=>{e.stopPropagation(),"asc"===o?null==r||r.toggleSorting(!0,!0):"desc"===o||x.length>0&&e.shiftKey?null==r||r.toggleSorting(!1,!0):null==r||r.toggleSorting(!1,!1)};return(0,t.jsxs)("div",{className:"flex items-center gap-0.5 group",children:[o?(0,t.jsx)(a.m_M,{content:"Remove this sort",side:"bottom",delayDuration:1200,children:(0,t.jsx)(a.$nd,{size:"none",onClick:e=>{e.stopPropagation(),null==r||r.clearSorting()},className:"p-1 text-xxs",children:h?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-2.5 h-2.5 flex items-center justify-center group-hover:hidden",children:m>=0?m+1:null}),(0,t.jsx)(n.sn9,{className:"w-2.5 h-2.5 hidden group-hover:block"})]}):(0,t.jsx)(n.sn9,{className:"w-2.5 h-2.5"})})}):null,!o&&x.length>0?(0,t.jsx)(a.m_M,{content:"Shift click to apply additional sort",side:"bottom",children:(0,t.jsx)(a.$nd,{variant:"ghost",size:"none",icon:"verySubtle",onClick:g,className:"shrink-0",children:(0,t.jsx)(c.y,{direction:!1})})}):(0,t.jsx)(a.$nd,{variant:"ghost",size:"none",icon:o?"contrast":"verySubtle",onClick:g,className:"shrink-0",children:(0,t.jsx)(c.y,{direction:"asc"===o?"asc":"desc"===o&&"desc"})})]})}function d(e){var s;let{children:l,table:n,column:i,filter:c,className:d}=e,u=!!(null==i||null==(s=i.columnDef)?void 0:s.sortKey);return(0,t.jsxs)("div",{className:(0,a.cn)("flex items-center gap-1 justify-end min-w-0",d),children:[(0,t.jsx)(a.EYj,{className:"truncate",children:l}),(0,t.jsxs)("div",{className:"flex items-center gap-0.5 shrink-0",children:[n&&i&&c&&(0,t.jsx)(r,{columnId:i.id,table:n,children:c}),n&&i&&u&&(0,t.jsx)(o,{columnId:i.id,table:n})]})]})}},37968:(e,s,l)=>{"use strict";l.d(s,{w:()=>i});var t=l(54568),a=l(2720),n=l(79423);function i(e){let{customCloseAction:s,actions:l,onClose:i,children:r,heading:c,onSubmit:o}=e;return(0,t.jsx)(a.Zkm,{className:"relative h-full w-full",children:(0,t.jsxs)(o?"form":"div",{className:"relative h-full w-full overflow-hidden flex flex-col",onSubmit:o,children:[(0,t.jsxs)("div",{className:"h-[45px] z-10 flex items-center justify-between gap-2 bg-white dark:bg-graydark-200 py-2 px-2 border-b border-gray-200 dark:border-graydark-400",children:[c,s||(i?(0,t.jsx)(a.$nd,{className:"p-2 rounded hover:bg-neutral-100 dark:hover:bg-neutral-800 focus:outline-none focus:ring-2 focus:ring-blue-500 z-10",onClick:i,"aria-label":"Close drawer",variant:"ghost",icon:"hover",size:"none",children:(0,t.jsx)(n.sn9,{className:"w-5 h-5 text-neutral-500 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-neutral-100"})}):null)]}),l&&(0,t.jsx)("div",{className:"z-10 flex items-center justify-end gap-1 bg-white dark:bg-graydark-200 py-2 px-2 border-b border-gray-200 dark:border-graydark-400",children:l}),(0,t.jsx)(a.FKN,{className:"flex-1",children:(0,t.jsx)("div",{className:"p-4",children:r})})]})})}},45711:(e,s,l)=>{"use strict";l.d(s,{Wd:()=>o,fz:()=>r});var t=l(54568),a=l(2720),n=l(79423),i=l(7620);function r(e){let{usable:s,usability:l,className:n,showExpanded:r=!1}=e,o=(0,i.useMemo)(()=>l&&Object.keys(l).filter(e=>!l[e]).map(e=>(0,t.jsx)(c,{status:"unusable",name:d(e)},e)),[l]),u=(0,i.useMemo)(()=>l&&Object.keys(l).filter(e=>l[e]).map(e=>(0,t.jsx)(c,{status:"usable",name:d(e)},e)),[l]);return(0,t.jsx)("div",{className:(0,a.cn)("flex gap-1",n),children:s&&!r?(0,t.jsx)(c,{status:"usable",name:"usable"}):(0,t.jsxs)(t.Fragment,{children:[o,u]})})}function c(e){let{status:s,name:l}=e;return(0,t.jsxs)(a.Exy,{size:"small",className:"flex items-center gap-0.5",children:[(0,t.jsx)(o,{status:s,name:l}),l]})}function o(e){let{status:s,name:l}=e,r=(0,i.useMemo)(()=>({usable:"".concat(l," is usable"),warning:"".concat(l," is almost unusable"),unusable:"".concat(l," is unusable")}),[l]);return(0,t.jsx)(a.m_M,{content:r[s],children:"usable"===s?(0,t.jsx)(n.d5v,{className:"text-green-600 scale-75"}):"warning"===s?(0,t.jsx)(n.UvW,{className:"text-amber-600 scale-75"}):(0,t.jsx)(n.mC5,{className:"text-red-600 scale-75"})})}function d(e){return e.replace(/([A-Z])/g," $1").toLowerCase()}},50257:(e,s,l)=>{"use strict";l.d(s,{B:()=>n});var t=l(54568),a=l(2720);function n(e){let{label:s,value:l,variant:n="row"}=e;return"column"===n?(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)(a.EYj,{color:"verySubtle",size:"14",weight:"medium",className:"truncate",children:s}),(0,t.jsx)(a.EYj,{color:"contrast",children:l})]}):(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("div",{className:"flex-1 flex justify-start items-center",children:(0,t.jsx)(a.EYj,{color:"verySubtle",size:"14",weight:"medium",className:"truncate",children:s})}),(0,t.jsx)("div",{className:"flex-1 flex justify-end items-center",children:"string"==typeof l?l?(0,t.jsx)(a.EYj,{className:"truncate",children:l}):(0,t.jsx)(a.EYj,{color:"verySubtle",children:"-"}):l||(0,t.jsx)(a.EYj,{color:"verySubtle",children:"-"})})]})}},65473:(e,s,l)=>{"use strict";l.d(s,{h:()=>n});var t=l(54568),a=l(2720);function n(e){var s,l;let{table:n,id:i,labelPositive:r,labelNegative:c,columnFilters:o,setColumnFilters:d}=e,u=null==n||null==(s=n.getColumn(i))?void 0:s.columnDef.meta,x=r||(null==u?void 0:u.filterLabelPositive)||"Yes",m=c||(null==u?void 0:u.filterLabelNegative)||"No",h=null==(l=o.find(e=>e.id===i))?void 0:l.value;return(0,t.jsx)("div",{className:"flex flex-col gap-1",children:(0,t.jsx)(a.l6P,{"aria-label":"".concat(i," filter"),value:void 0===h?"":String(h),onChange:e=>{if(""===e.target.value)return void d(e=>e.filter(e=>e.id!==i));let s="true"===e.target.value;d(e=>{let l=e.findIndex(e=>e.id===i);return -1!==l?e[l].value=s:e.push({id:i,value:s}),e})},children:[{value:"",label:"All"},{value:"true",label:x},{value:"false",label:m}].map(e=>(0,t.jsx)("option",{value:String(e.value),children:e.label},e.label))})})}},66743:(e,s,l)=>{Promise.resolve().then(l.bind(l,98481))},68340:(e,s,l)=>{"use strict";l.d(s,{p:()=>n});var t=l(54568),a=l(2720);let n=()=>({id:"select",header:e=>{let{table:s}=e;return(0,t.jsx)("div",{onClick:e=>e.stopPropagation(),className:"h-full flex items-center justify-start",children:(0,t.jsx)(a.Sc0,{checked:!!s.getIsAllRowsSelected()||!!s.getIsSomeRowsSelected()&&"indeterminate",onCheckedChange:e=>{s.getToggleAllRowsSelectedHandler()({target:{checked:!0===e}})}})})},cell:e=>{let{row:s}=e;return(0,t.jsx)("div",{onClick:e=>e.stopPropagation(),className:"flex items-center justify-center",children:(0,t.jsx)(a.Sc0,{checked:s.getIsSelected(),disabled:!s.getCanSelect(),onCheckedChange:e=>{s.getToggleSelectedHandler()({target:{checked:!0===e}})}})})},meta:{stopPropagation:!0,width:35}})},71564:(e,s,l)=>{"use strict";l.d(s,{E:()=>t,RQ:()=>r,XK:()=>a,pC:()=>i,xl:()=>n});let t={width:100},a={width:200},n={width:200},i={width:140},r={width:140}},78633:(e,s,l)=>{"use strict";l.d(s,{R:()=>n});var t=l(54568),a=l(2720);function n(e){let{heading:s,label:l,value:n}=e;return(0,t.jsxs)("div",{className:"flex items-center gap-1 overflow-hidden",children:[(0,t.jsx)("div",{className:"flex-none flex items-center gap-1",children:"string"==typeof s?(0,t.jsx)(a.EYj,{size:"18",weight:"medium",ellipsis:!0,children:s}):s}),(0,t.jsx)(a.Zjd,{fitWidth:!0,size:"18",weight:"medium",maxLength:200,value:n,label:l})]})}},79513:(e,s,l)=>{"use strict";l.d(s,{P:()=>r});var t=l(54568),a=l(2720),n=l(37968),i=l(92517);function r(e){let{withMap:s,withActions:l,onClose:r}=e;return(0,t.jsxs)(n.w,{onClose:r,heading:(0,t.jsxs)("div",{className:"flex items-center gap-3 w-full",children:[(0,t.jsx)(a.EAD,{className:"h-5 w-[70%]"}),(0,t.jsx)("div",{className:"flex-1"}),(0,t.jsx)(a.EAD,{className:"h-5 w-5 rounded"})]}),actions:l?(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2 w-full",children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)(a.EAD,{className:"h-4 w-24"})}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(a.EAD,{className:"h-7 w-8 rounded"}),(0,t.jsx)(a.EAD,{className:"h-7 w-8 rounded"}),(0,t.jsx)(a.EAD,{className:"h-7 w-20 rounded"})]})]}):null,children:[s&&(0,t.jsx)(a.hz$,{hosts:[],activeHost:null,onHostMapClick:()=>null,scale:180,mapClassName:"-mt-[20px]"}),(0,t.jsx)(i.V,{heading:(0,t.jsx)("div",{className:"flex items-center gap-2 py-1",children:(0,t.jsx)(a.EAD,{className:"h-5 w-12"})}),children:(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsx)("div",{className:"hidden"}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(a.EAD,{className:"h-4 w-24"}),(0,t.jsx)(a.EAD,{className:"h-9 w-full"})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(a.EAD,{className:"h-4 w-28"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(a.EAD,{className:"h-9 w-full"}),(0,t.jsx)(a.EAD,{className:"h-5 w-10"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(a.EAD,{className:"h-4 w-28"}),(0,t.jsx)(a.EAD,{className:"h-9 w-full"})]}),(0,t.jsx)("div",{className:"mt-2 flex flex-col gap-3",children:[0,1,2,3].map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(a.EAD,{className:"h-4 w-28"}),(0,t.jsx)(a.EAD,{className:"h-4 w-36"})]},e))})]})})]})}},80870:(e,s,l)=>{"use strict";l.d(s,{K:()=>r});var t=l(2720),a=l(61242),n=l(97944),i=l(84684);function r(e){let s=(0,a.qA)({disabled:!e,params:{hostkey:e||""}}),l=(0,t.sAn)(),{settings:r}=(0,i.IQ)();return(0,t.mpY)({host:s},e=>{let{host:s}=e;return function(e){let{host:s,exchangeRate:l,settings:t}=e;return(0,n.d)({host:s,currencyDisplay:t.currencyDisplay,exchange:l.currency&&l.rate&&{currency:l.currency,rate:l.rate}})}({host:s,exchangeRate:l,settings:r})})}},81477:(e,s,l)=>{"use strict";l.d(s,{P:()=>n});var t=l(54568),a=l(53995);function n(e){let{table:s,panel:l}=e;return(0,t.jsx)("div",{className:"w-full h-full overflow-hidden flex flex-col",children:(0,t.jsxs)(a.YZ,{autoSaveId:"data-layout",direction:"horizontal",children:[(0,t.jsx)(a.Zk,{maxSize:75,className:"py-4 pl-4 pr-2",children:s}),(0,t.jsx)(a.TW,{}),(0,t.jsx)(a.Zk,{defaultSize:25,minSize:25,maxSize:50,className:"py-4 pl-2 pr-4",children:l})]})})}},86151:(e,s,l)=>{"use strict";l.d(s,{W:()=>o});var t=l(54568),a=l(2720),n=l(79423),i=l(71893),r=l(7620),c=l(23051);function o(e){let{name:s,columnFilters:l,removeColumnFilter:o,removeLastColumnFilter:d,getFilterLabel:u,children:x}=e,[m,h]=(0,r.useState)(!1),[g,j]=(0,r.useState)(""),[p,v]=(0,r.useState)([]),f=p[p.length-1],b=(0,r.useRef)(null),y=(0,r.useRef)(null),N=(0,r.useCallback)(e=>{v(s=>[...s,e])},[v]),k=(0,r.useCallback)(()=>{v([])},[v]);(0,r.useEffect)(()=>{let e=e=>{b.current&&!b.current.contains(e.target)&&h(!1)};return document.addEventListener("click",e,!0),()=>{document.removeEventListener("click",e,!0)}},[]);let w=(0,r.useCallback)(()=>{var e;null==(e=y.current)||e.focus()},[y]),C=(0,r.useCallback)(()=>{j(""),k()},[k]),{dialog:P}=(0,c.sp)();return(0,r.useEffect)(()=>{P&&h(!1)},[P]),(0,t.jsxs)("div",{className:"flex gap-1",children:[l.map(e=>(0,t.jsxs)(a.tWD,{children:[(0,t.jsx)(a.$nd,{variant:"active",state:"waiting",children:u(e)}),(0,t.jsx)(a.$nd,{variant:"active",size:"small",onClick:()=>o(e.id),children:(0,t.jsx)(n.sn9,{})})]},e.id)),(0,t.jsxs)(i.uB,{ref:b,label:"Command Menu",onFocus:()=>h(!0),onKeyDown:e=>{if(p.length>0)"Escape"!==e.key&&("Backspace"!==e.key||g)||(e.preventDefault(),v(e=>e.slice(0,-1)));else if(0===p.length&&("Backspace"!==e.key||g||d(),"Escape"===e.key&&!g)){var s;h(!1),null==(s=y.current)||s.blur()}},children:[(0,t.jsx)(i.uB.Input,{"aria-label":"filter ".concat(s),name:"filter-".concat(s,"-menu-input"),ref:y,value:g,onValueChange:j,className:(0,a.uS8)({variant:"ghost",focus:"none"}),placeholder:"Filter ".concat(s)}),m&&(0,t.jsx)(a.Zkm,{className:"absolute z-10 min-w-[200px] max-h-[400px] overflow-auto p-1",children:(0,t.jsxs)(a.FKN,{children:[f&&(0,t.jsx)(a.JU7,{className:"px-1.5 py-1",children:f.label}),(0,t.jsx)(i.uB.List,{children:x({currentPage:f,beforeSelect:w,afterSelect:C,pushPage:N})})]})})]})]})}},89964:(e,s,l)=>{"use strict";l.d(s,{y:()=>n});var t=l(54568),a=l(79423);function n(e){let{direction:s}=e;return"asc"===s?(0,t.jsxs)("div",{className:"relative w-4 h-4",children:[(0,t.jsx)(a.cgo,{className:"absolute inset-0"}),(0,t.jsx)(a.zYC,{className:"absolute inset-0 opacity-30"})]}):"desc"===s?(0,t.jsxs)("div",{className:"relative w-4 h-4",children:[(0,t.jsx)(a.cgo,{className:"absolute inset-0 opacity-30"}),(0,t.jsx)(a.zYC,{className:"absolute inset-0"})]}):(0,t.jsx)(a.nIb,{})}},92517:(e,s,l)=>{"use strict";l.d(s,{V:()=>n});var t=l(54568),a=l(2720);function n(e){let{heading:s,children:l}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.wvv,{className:"first-of-type:hidden mt-4 mb-2"}),"string"==typeof s?(0,t.jsx)(a.EYj,{size:"16",weight:"medium",className:"mb-2",children:s}):s,l]})}},97944:(e,s,l)=>{"use strict";l.d(s,{d:()=>i});var t=l(43416),a=l(48432),n=l(2720);function i(e){let{host:s,currencyDisplay:l,exchange:i}=e,r={countryCode:s.countryCode,latitude:s.latitude,longitude:s.longitude};return{...s,id:s.publicKey,usable:Object.values(s.usability).every(e=>e),location:r,exchange:i,displayFields:function(e,s,l,i){var r;let c=(0,a.g9)(e.settings.remainingStorage),o=(0,a._S)(10),d=c.eq(0)?"unusable":c.lt(o)?"warning":"usable";return{uptime:"".concat((100*e.recentUptime).toFixed(1),"%"),totalStorage:(0,a.p6)((0,a.g9)(e.settings.totalStorage)),remainingStorage:(0,a.p6)(c),remainingStorageUsability:d,storagePrice:(0,n.vty)({sc:(0,a.Ri)({price:e.settings.prices.storagePrice}),currencyDisplay:l,exchange:i}),ingressPrice:(0,n.vty)({sc:(0,a.gW)({price:e.settings.prices.ingressPrice}),currencyDisplay:l,exchange:i}),egressPrice:(0,n.vty)({sc:(0,a.LT)({price:e.settings.prices.egressPrice}),currencyDisplay:l,exchange:i}),freeSectorPrice:(0,n.vty)({sc:new t.g(e.settings.prices.freeSectorPrice),currencyDisplay:l,exchange:i}),maxCollateral:(0,n.vty)({sc:new t.g(e.settings.prices.collateral),currencyDisplay:l,exchange:i}),maxContractDuration:"".concat((0,a.bu)(e.settings.maxContractDuration).toFixed(1)," weeks"),protocolVersion:"string"==typeof(r=e.settings).protocolVersion?r.protocolVersion.slice(1):"v".concat(r.protocolVersion[0],".").concat(r.protocolVersion[1],".").concat(r.protocolVersion[2]),priceValidity:new Date(e.settings.prices.validUntil).toLocaleString(),release:e.settings.release,countryName:(0,a.qQ)(null==s?void 0:s.countryCode),countryFlag:(0,a.y$)(null==s?void 0:s.countryCode)}}(s,r,l,i)}}},98481:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>X});var t=l(54568),a=l(2720),n=l(79423),i=l(7620),r=l(45711),c=l(50257),o=l(37968),d=l(23051);function u(e){let{hosts:s}=e,{openDialog:l}=(0,d.sp)(),r=(0,i.useMemo)(()=>s.map(e=>"publicKey"in e?e:e.original),[s]);return(0,t.jsxs)(a.$nd,{onClick:()=>l("hostBlocklistAdd",void 0,{hostBlocklistAdd:{hosts:r}}),children:[(0,t.jsx)(n.mC5,{}),"Block ",1===s.length?"host":"hosts"]})}var x=l(61242),m=l(48432),h=l(84684),g=l(45027);function j(e){let{hosts:s}=e,l=(0,x.SK)(),r=(0,h.ej)(),c=(0,i.useCallback)(async()=>{await (0,a.qBJ)(s.map(e=>l.delete({params:{hostkey:"publicKey"in e?e.publicKey:e.original.publicKey}})),{toastError:e=>{let{successCount:s,errorCount:l,totalCount:t}=e;return{title:"Unblocked ".concat((0,m.td)(s,"host")),body:"Error unblocking ".concat(l,"/").concat(t," of total hosts.")}},toastSuccess:e=>{let{totalCount:s}=e;return{title:"Unblocked ".concat((0,m.td)(s,"host"))}}}),await r(e=>e.startsWith(g.qQ)),await Promise.all(s.map(e=>r(s=>s.startsWith(g.GF.replace(":hostkey","publicKey"in e?e.publicKey:e.original.publicKey)))))},[s,l,r]);return(0,t.jsxs)(a.$nd,{onClick:c,children:[(0,t.jsx)(n.d5v,{}),"Unblock ",1===s.length?"host":"hosts"]})}var p=l(92517),v=l(80870);function f(){let e=(0,a.i$h)("hostList"),[s,l]=(0,a.QPA)("hostsPanelId");return{...e,panelId:s,setPanelId:l}}var b=l(78633),y=l(79513);function N(e){let{host:s}=e;return s.blocked&&s.blockedReasons&&0!==s.blockedReasons.length?(0,t.jsx)("div",{className:"flex items-center justify-start gap-1",children:s.blockedReasons.map(e=>(0,t.jsx)(a.m_M,{content:"block reason: ".concat(e),children:(0,t.jsx)(a.Exy,{size:"small",children:e},e)},e))}):null}function k(){let{panelId:e,setPanelId:s}=f(),l=(0,v.K)(e),d=(0,i.useMemo)(()=>{var e;return l.data&&(null==(e=l.data)?void 0:e.location.countryCode)!=="unknown"?{id:l.data.id,publicKey:l.data.publicKey,location:l.data.location,v2Settings:l.data.settings,usable:l.data.usable}:null},[l]);return(0,t.jsx)(a.BQi,{data:l,loading:(0,t.jsx)(y.P,{withMap:!0,withActions:!0,onClose:()=>s(void 0)}),notFound:(0,t.jsx)(o.w,{heading:null,children:(0,t.jsx)("div",{className:"flex justify-center pt-[50px]",children:(0,t.jsx)(a.EYj,{color:"subtle",children:"Host not found"})})}),loaded:l=>{var i,x;return(0,t.jsxs)(o.w,{onClose:()=>s(void 0),heading:l?(0,t.jsx)(b.R,{heading:(0,t.jsx)(a.EYj,{size:"18",weight:"medium",ellipsis:!0,children:(null==(i=l.location)?void 0:i.countryCode)?(0,t.jsx)("span",{className:"pr-1",children:(0,t.jsx)(a.J93,{countryCode:null==(x=l.location)?void 0:x.countryCode})}):null}),value:l.addresses[0].address,label:"host"}):null,actions:l?l.blocked?(0,t.jsx)(j,{hosts:[l]}):(0,t.jsx)(u,{hosts:[l]}):null,children:[(0,t.jsx)(a.hz$,{hosts:d?[d]:[],activeHost:d,onHostMapClick:()=>null,scale:180,mapClassName:"-mt-[20px]"},e),(0,t.jsx)(p.V,{heading:"Info",children:(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(c.B,{label:"Public Key",value:(0,t.jsx)(a.Zjd,{value:l.id,type:"hostPublicKey"})}),(0,t.jsx)(c.B,{label:"Location",value:"unknown"!==l.location.countryCode&&(0,t.jsxs)(a.EYj,{children:[l.displayFields.countryFlag," ",l.location.countryCode]})}),(0,t.jsx)(c.B,{label:"Uptime",value:l.displayFields.uptime}),(0,t.jsx)(c.B,{label:"Release",value:l.displayFields.release}),(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)(c.B,{label:"Blocked",value:(0,t.jsx)("div",{className:"flex items-center gap-1",children:(0,t.jsx)(a.m_M,{content:l.blocked?"host is blocked":"host is not blocked",children:l.blocked?(0,t.jsx)(n.g$$,{className:"text-red-500"}):(0,t.jsx)(n.Voo,{className:"text-neutral-300 dark:text-neutral-500"})})})}),(0,t.jsx)(N,{host:l})]})]})}),(0,t.jsx)(p.V,{heading:"Usability",children:(0,t.jsx)(r.fz,{usable:l.usable,usability:l.usability,className:"w-full overflow-hidden flex-wrap"})}),(0,t.jsx)(p.V,{heading:"Addresses",children:(0,t.jsx)("div",{className:"flex flex-col gap-2",children:l.addresses.map(e=>(0,t.jsx)(c.B,{label:e.protocol,value:(0,t.jsx)(a.Zjd,{value:e.address,maxLength:24})},e.address+e.protocol))})}),(0,t.jsx)(p.V,{heading:"Storage",children:(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(c.B,{label:"Total Storage",value:l.displayFields.totalStorage}),(0,t.jsx)(c.B,{label:"Remaining Storage",value:l.displayFields.remainingStorage})]})}),(0,t.jsx)(p.V,{heading:"Pricing & Limits",children:(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(c.B,{label:"Storage Price",value:(0,t.jsx)(a.Pni,{...l.displayFields.storagePrice})}),(0,t.jsx)(c.B,{label:"Ingress Price",value:(0,t.jsx)(a.Pni,{...l.displayFields.ingressPrice})}),(0,t.jsx)(c.B,{label:"Egress Price",value:(0,t.jsx)(a.Pni,{...l.displayFields.egressPrice})}),(0,t.jsx)(c.B,{label:"Free Sector Price",value:(0,t.jsx)(a.Pni,{...l.displayFields.freeSectorPrice})}),(0,t.jsx)(c.B,{label:"Max Collateral",value:(0,t.jsx)(a.Pni,{...l.displayFields.maxCollateral})}),(0,t.jsx)(c.B,{label:"Max Contract Duration",value:l.displayFields.maxContractDuration}),(0,t.jsx)(c.B,{label:"Protocol Version",value:l.displayFields.protocolVersion}),(0,t.jsx)(c.B,{label:"Price Validity",value:l.displayFields.priceValidity})]})})]})}})}function w(e){let{table:s}=e,{setPanelId:l}=f(),n=(0,i.useMemo)(()=>s.isSelection?s.selectedRows:s.rows,[s.isSelection,s.selectedRows,s.rows]),r=function(e){let{hosts:s}=e,l=(0,i.useDeferredValue)(s);return(0,i.useMemo)(()=>l.length>100?Object.values(l.reduce((e,s)=>{var l,t,a,n;let i=null==(l=s.location)?void 0:l.countryCode;return i&&"unknown"!==i&&s.location&&(e[i]?e[i].groupCount=(e[i].groupCount||0)+1:e[i]={type:"group",id:s.id,location:{latitude:null==(t=s.location)?void 0:t.latitude,longitude:null==(a=s.location)?void 0:a.longitude,countryCode:null==(n=s.location)?void 0:n.countryCode},groupCount:1}),e},{})):l.map(e=>e.location&&"unknown"!==e.location.countryCode?{id:e.id,publicKey:e.id,location:{latitude:e.location.latitude,longitude:e.location.longitude,countryCode:e.location.countryCode},v2Settings:e.settings,usable:e.usable}:null).filter(e=>null!==e),[l])}({hosts:n.map(e=>e.original)});return(0,t.jsx)(o.w,{customCloseAction:s.isSelection?(0,t.jsx)(a.$nd,{onClick:()=>s.setRowSelection({}),children:"Clear selection"}):null,actions:s.isSelection?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u,{hosts:n}),(0,t.jsx)(j,{hosts:n})]}):null,heading:(0,t.jsx)(a.EYj,{size:"18",weight:"medium",children:s.isSelection?"Selected hosts (".concat(n.length,")"):s.isFiltered?"Filtered hosts (".concat(n.length,")"):"All hosts"}),children:(0,t.jsx)(a.hz$,{hosts:r,activeHost:null,onHostMapClick:e=>l(e),scale:180,mapClassName:"-mt-[20px]"})})}var C=l(16326),P=l(65473);function S(){let{columnFilters:e,setColumnFilters:s}=f();return(0,t.jsx)(P.h,{id:"usable",labelPositive:"Usable",labelNegative:"Unusable",columnFilters:e,setColumnFilters:s})}function E(){let{columnFilters:e,setColumnFilters:s}=f();return(0,t.jsx)(P.h,{id:"blocked",labelPositive:"Blocked",labelNegative:"Not Blocked",columnFilters:e,setColumnFilters:s})}var F=l(68340),A=l(71564);let z=[(0,F.p)(),{id:"publicKey",header:e=>{let{table:s,column:l}=e;return(0,t.jsx)(C.A,{table:s,column:l,className:"justify-start",children:"Public Key"})},cell:e=>{let{row:s}=e;return(0,t.jsx)(a.Zjd,{maxLength:100,value:s.original.id,type:"hostPublicKey"})},meta:{...A.pC}},{id:"usable",header:e=>{let{table:s,column:l}=e;return(0,t.jsx)(C.A,{table:s,column:l,className:"justify-start",filter:(0,t.jsx)(S,{}),children:"Usable"})},cell:e=>{let{row:s}=e;return(0,t.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,t.jsx)(a.m_M,{content:s.original.usable?"host is usable":"host is unusable",children:s.original.usable?(0,t.jsx)(n.Voo,{className:"text-green-500"}):(0,t.jsx)(n.g$$,{className:"text-red-500"})}),(0,t.jsx)(r.fz,{usable:s.original.usable,usability:s.original.usability})]})},meta:{...A.xl,filterLabelPositive:"Usable",filterLabelNegative:"Unusable"}},{id:"blocked",header:e=>{let{table:s,column:l}=e;return(0,t.jsx)(C.A,{table:s,column:l,className:"justify-start",filter:(0,t.jsx)(E,{}),children:"Blocked"})},cell:e=>{let{row:s}=e,l=s.original.blocked;return(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(a.m_M,{content:l?"host is blocked":"host is not blocked",children:l?(0,t.jsx)(n.g$$,{className:"text-red-500"}):(0,t.jsx)(n.Voo,{className:"text-neutral-300 dark:text-neutral-500"})}),(0,t.jsx)(N,{host:s.original})]})},meta:{className:"justify-start",...A.RQ,filterLabelPositive:"Blocked",filterLabelNegative:"Not Blocked"}},{id:"acceptingContracts",sortKey:"settings.acceptingContracts",header:e=>{let{table:s,column:l}=e;return(0,t.jsx)(C.A,{table:s,column:l,children:"Accepting Contracts"})},cell:e=>{let{row:s}=e;return(0,t.jsx)("div",{className:"flex items-center justify-end gap-1",children:(0,t.jsx)(r.Wd,{status:s.original.usability.acceptingContracts?"usable":"unusable",name:"accepting contracts"})})},meta:{className:"justify-end",...A.E}},{id:"uptime",sortKey:"recentUptime",header:e=>{let{table:s,column:l}=e;return(0,t.jsx)(C.A,{table:s,column:l,children:"Uptime"})},cell:e=>{let{row:s}=e;return(0,t.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,t.jsx)(r.Wd,{status:s.original.usability.uptime?"usable":"unusable",name:"recent uptime"}),(0,t.jsx)(a.EYj,{children:s.original.displayFields.uptime})]})},meta:{className:"justify-end",...A.E}},{id:"location",header:e=>{let{table:s,column:l}=e;return(0,t.jsx)(C.A,{table:s,column:l,children:"Location"})},cell:e=>{let{row:s}=e;return"unknown"===s.original.location.countryCode?(0,t.jsx)("div",{className:"py-1",children:(0,t.jsx)(a.EYj,{color:"verySubtle",children:"-"})}):(0,t.jsxs)("div",{className:"py-1",children:[(0,t.jsx)("span",{role:"img","aria-label":s.original.displayFields.countryName,children:s.original.displayFields.countryFlag}),(0,t.jsx)(a.EYj,{className:"ml-1",children:s.original.location.countryCode})]})},meta:{className:"justify-end",...A.E}},{id:"totalStorage",sortKey:"settings.totalStorage",header:e=>{let{table:s,column:l}=e;return(0,t.jsx)(C.A,{table:s,column:l,children:"Total Storage"})},cell:e=>{let{row:s}=e;return(0,t.jsx)(a.EYj,{children:s.original.displayFields.totalStorage})},meta:{className:"justify-end",...A.E}},{id:"remainingStorage",sortKey:"settings.remainingStorage",header:e=>{let{table:s,column:l}=e;return(0,t.jsx)(C.A,{table:s,column:l,children:"Remaining Storage"})},cell:e=>{let{row:s}=e;return(0,t.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,t.jsx)(r.Wd,{status:s.original.displayFields.remainingStorageUsability,name:"storage"}),(0,t.jsx)(a.EYj,{children:s.original.displayFields.remainingStorage})]})},meta:{className:"justify-end",...A.E}},{id:"storagePrice",sortKey:"settings.prices.storagePrice",header:e=>{let{table:s,column:l}=e;return(0,t.jsx)(C.A,{table:s,column:l,children:"Price Storage"})},cell:e=>{let{row:s}=e;return(0,t.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,t.jsx)(r.Wd,{status:s.original.usability.storagePrice?"usable":"unusable",name:"storage price"}),(0,t.jsx)(a.Pni,{...s.original.displayFields.storagePrice})]})},meta:{className:"justify-end",...A.E}},{id:"ingressPrice",sortKey:"settings.prices.ingressPrice",header:e=>{let{table:s,column:l}=e;return(0,t.jsx)(C.A,{table:s,column:l,children:"Ingress/TB"})},cell:e=>{let{row:s}=e;return(0,t.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,t.jsx)(r.Wd,{status:s.original.usability.ingressPrice?"usable":"unusable",name:"ingress price"}),(0,t.jsx)(a.Pni,{...s.original.displayFields.ingressPrice})]})},meta:{className:"justify-end",...A.E}},{id:"egressPrice",sortKey:"settings.prices.egressPrice",header:e=>{let{table:s,column:l}=e;return(0,t.jsx)(C.A,{table:s,column:l,children:"Egress/TB"})},cell:e=>{let{row:s}=e;return(0,t.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,t.jsx)(r.Wd,{status:s.original.usability.egressPrice?"usable":"unusable",name:"egress price"}),(0,t.jsx)(a.Pni,{...s.original.displayFields.egressPrice})]})},meta:{className:"justify-end",...A.E}},{id:"release",header:e=>{let{table:s,column:l}=e;return(0,t.jsx)(C.A,{table:s,column:l,children:"Release"})},cell:e=>{let{row:s}=e;return(0,t.jsx)(a.EYj,{children:s.original.displayFields.release})},meta:{className:"justify-end",width:160}}];var B=l(97944),D=l(81477),K=l(45614);function $(e){switch(e.id){case"usable":return e.value?"Usable":"Unusable";case"blocked":return e.value?"Blocked":"Not Blocked";case"activecontracts":return e.value?"Active Contracts":"No Active Contracts";default:return""}}let M={namespace:"hosts/filterUsable",label:"Hosts filter by usable"},Y=[{id:"usable",value:!0},{id:"usable",value:!1}];function I(e){let{select:s,currentPage:l}=e;return(0,t.jsx)(K.L$,{currentPage:l,commandPage:M,children:Y.map(e=>(0,t.jsx)(K.n7,{currentPage:l,commandPage:M,onSelect:()=>{s(e)},children:$(e)},e.id+e.value))})}let L={namespace:"hosts/filterBlocked",label:"Hosts filter by blocked"},V=[{id:"blocked",value:!0},{id:"blocked",value:!1}];function R(e){let{select:s,currentPage:l}=e;return(0,t.jsx)(K.L$,{currentPage:l,commandPage:L,children:V.map(e=>(0,t.jsx)(K.n7,{currentPage:l,commandPage:L,onSelect:()=>{s(e)},children:$(e)},e.id+e.value))})}let U={namespace:"hosts/filterActiveContracts",label:"Hosts filter by active contracts"},W=[{id:"activecontracts",value:!0},{id:"activecontracts",value:!1}];function _(e){let{select:s,currentPage:l}=e;return(0,t.jsx)(K.L$,{currentPage:l,commandPage:U,children:W.map(e=>(0,t.jsx)(K.n7,{currentPage:l,commandPage:U,onSelect:()=>{s(e)},children:$(e)},e.id+e.value))})}function H(e){let{currentPage:s,select:l}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(I,{currentPage:s,select:l}),(0,t.jsx)(R,{currentPage:s,select:l}),(0,t.jsx)(_,{currentPage:s,select:l})]})}let O={namespace:"hosts",label:"Hosts"};function Q(e){let{currentPage:s,parentPage:l,pushPage:a}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(K.Iu,{currentPage:s,parentPage:l,commandPage:O,onSelect:()=>{a(M)},children:M.label}),(0,t.jsx)(K.Iu,{currentPage:s,parentPage:l,commandPage:O,onSelect:()=>{a(L)},children:L.label}),(0,t.jsx)(K.Iu,{currentPage:s,parentPage:l,commandPage:O,onSelect:()=>{a(U)},children:U.label})]})}function Z(e){let{currentPage:s,parentPage:l,pushPage:a,beforeSelect:n,afterSelect:r}=e,{addColumnFilter:c}=f(),o=(0,i.useCallback)(e=>{n&&n(),c(e),r&&r()},[c,n,r]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Q,{parentPage:l,currentPage:s,pushPage:a,select:o}),(0,t.jsx)(H,{currentPage:s,select:o})]})}var T=l(86151);function q(){let{columnFilters:e,removeColumnFilter:s,removeLastColumnFilter:l}=f();return(0,t.jsx)(T.W,{name:"hosts",columnFilters:e,removeColumnFilter:s,removeLastColumnFilter:l,getFilterLabel:$,children:e=>{let{currentPage:s,beforeSelect:l,afterSelect:a,pushPage:n}=e;return(0,t.jsx)(Z,{currentPage:s,beforeSelect:l,afterSelect:a,pushPage:n})}})}var G=l(14778);function J(){let{panelId:e,setPanelId:s,columnFilters:l,setColumnFilters:n,columnSorts:r,setColumnSorts:c,offset:o,limit:d,setOffset:u,setLimit:m}=f(),g=(0,i.useCallback)(e=>{s(e)},[s]),j=function(){let{columnFilters:e,columnSorts:s,offset:l,limit:t}=f(),n=(0,i.useMemo)(()=>{var a,n,i,r;let c={offset:l,limit:t},o=null==(a=e.find(e=>"usable"===e.id))?void 0:a.value;c.usable=void 0===o||o;let d=null==(n=e.find(e=>"blocked"===e.id))?void 0:n.value;void 0!==d&&(c.blocked=d);let u=null==(i=e.find(e=>"activecontracts"===e.id))?void 0:i.value;if(void 0!==u&&(c.activecontracts=u),s.length>0){let e=[],l=[];for(let t of s){let s=z.find(e=>e.id===t.id),a=null==s?void 0:s.sortKey;void 0!==a&&(e.push(a),l.push(null!=(r=t.desc)&&r))}e.length>0&&(c.sortby=e,c.desc=l)}return c},[e,s,l,t]),r=(0,x.As)({params:n}),c=(0,a.sAn)(),{settings:o}=(0,h.IQ)();return(0,a.sEt)({hosts:r},e=>{let{hosts:s}=e;return s.map(e=>(0,B.d)({host:e,currencyDisplay:o.currencyDisplay,exchange:c.currency&&c.rate&&{currency:c.currency,rate:c.rate}}))},{offset:l,filters:e})}(),p=(0,a.uIQ)({dataset:j,columns:z,columnFilters:l,columnSorts:r,setColumnFilters:n,setColumnSorts:c,enableMultiSort:!0,offset:o,limit:d,onRowClick:g,setOffset:u,setLimit:m});return(0,t.jsx)(D.P,{table:(0,t.jsx)(a.bQt,{...p,localStorage:"indexd/hosts",header:(0,t.jsx)(q,{}),actions:(0,t.jsx)(G.i,{table:p.table,columns:z}),noneOnPage:(0,t.jsx)(a.GB$,{message:"No hosts on this page, reset pagination to continue."}),noneYet:(0,t.jsx)(a.QOE,{message:"There are no hosts in the database."}),noneMatchingFilters:(0,t.jsx)(a.hpd,{message:"No hosts matching filters."}),error:(0,t.jsx)(a.qq6,{message:"Error loading hosts. Please try again later."})}),panel:e?(0,t.jsx)(k,{}):(0,t.jsx)(w,{table:p})})}function X(){return(0,t.jsx)(J,{})}}},e=>{e.O(0,[9085,9030,5764,6017,2826,7421,8820,224,2550,5465,9589,751,7722,1144,4082,6712,1551,2273,9557,4114,7939,5312,1213,947,2991,8900,6322,2179,3995,2720,3051,587,18,7358],()=>e(e.s=66743)),_N_E=e.O()}]);