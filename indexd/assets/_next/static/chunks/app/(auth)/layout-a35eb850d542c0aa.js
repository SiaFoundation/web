(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9097],{1022:(e,s,n)=>{"use strict";n.r(s),n.d(s,{default:()=>k});var i=n(54568),t=n(37653),r=n(67814),a=n(12655),l=n(89565),c=n(6713),d=n(93727);function o(){var e,s,n,t,o;let{openDialog:x}=(0,c.sp)(),j=(0,r.GU)({config:{swr:{revalidateOnFocus:!1}}}),h=(0,r.Mw)({config:{swr:{revalidateOnFocus:!1}}}),u=(0,l.d)(),m=null==(e=j.data)?void 0:e.version,f="?"===m?"https://github.com/SiaFoundation/indexd/commits/":(null==m?void 0:m.match(/^v\d+\.\d+\.\d+/))?"https://github.com/SiaFoundation/indexd/releases/".concat(m):"https://github.com/SiaFoundation/indexd/tree/".concat(m),g=j.data?new Date().getTime()-new Date(null==(s=j.data)?void 0:s.startTime).getTime():0;return(0,i.jsxs)(a.qNN,{name:"indexd",peerCount:0,connectPeer:()=>x("connectPeer"),isSynced:u.isSynced,syncPercent:u.syncPercent,nodeBlockHeight:u.nodeBlockHeight,estimatedBlockHeight:u.estimatedBlockHeight,firstTimeSyncing:u.firstTimeSyncing,moreThan100BlocksToSync:u.moreThan100BlocksToSync,children:[(0,i.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,i.jsx)(a.JU7,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Wallet address"}),(0,i.jsx)("div",{className:"flex-1 flex justify-end overflow-hidden -mr-0.5 pr-0.5",children:(0,i.jsx)(a.Zjd,{size:"14",maxLength:20,value:(null==(n=h.data)?void 0:n.address)||"",type:"address"})})]}),j.data&&(0,i.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,i.jsx)(a.JU7,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Uptime"}),(0,i.jsx)("div",{className:"flex-1 flex justify-end overflow-hidden -mr-0.5 pr-0.5",children:(0,i.jsx)(a.EYj,{size:"14",children:(0,d.zK)(g,{format:"long"})})})]}),(0,i.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,i.jsx)(a.JU7,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Network"}),(0,i.jsx)("div",{className:"flex-1 flex justify-end overflow-hidden -mr-0.5 pr-0.5",children:(0,i.jsx)(a.EYj,{size:"14",children:null==(t=j.data)?void 0:t.network})})]}),(0,i.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,i.jsx)(a.JU7,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Version"}),(0,i.jsx)(a.N_E,{size:"14",href:f,underline:"hover",target:"_blank",ellipsis:!0,children:null==(o=j.data)?void 0:o.version})]})]})}var x=n(16433);n(7620);var j=n(18876),h=n(26109),u=n(82257);function m(){let{isUnlockedAndAuthedRoute:e}=(0,h.IQ)(),{openDialog:s}=(0,c.sp)(),n=(0,r.Mw)(),[d,o]=(0,u.A)("v0/indexd/onboarding/maximized",{defaultValue:!0}),m=(0,l.d)(),g=function(){var e,s;let n=(0,r.XT)(),i=(0,r.Kd)();return{active:n.data&&i.data&&i.data.length<n.data.wantedContracts,count:(null==(e=i.data)?void 0:e.length)||0,required:(null==(s=n.data)?void 0:s.wantedContracts)||0}}();if(!e)return null;let p=new t.A(n.data?n.data.confirmed+n.data.unconfirmed:0),v=m.isSynced,b=p.gt(0),w=!g.active,y=[!0,v,b,w],N=y.length,k=y.filter(e=>e).length;return N===k?(0,i.jsx)(a.Di0,{}):d?(0,i.jsx)(a.Di0,{children:(0,i.jsx)("div",{className:"flex justify-center",children:(0,i.jsx)(a.Zkm,{className:"w-[400px] flex flex-col max-h-[600px]",children:(0,i.jsxs)(a.FKN,{children:[(0,i.jsxs)("div",{className:"flex justify-between items-center px-3 py-2 border-b border-gray-200 dark:border-graydark-300",children:[(0,i.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,i.jsx)(a.guG,{}),(0,i.jsx)(a.EYj,{size:"20",weight:"semibold",children:"Welcome to Sia"})]}),(0,i.jsx)(a.$nd,{"aria-label":"minimize onboarding wizard",variant:"ghost",onClick:()=>o(!1),children:(0,i.jsx)(j.pz,{})})]}),(0,i.jsx)("div",{className:"flex justify-between items-center px-3 py-2 border-b border-gray-200 dark:border-graydark-300",children:(0,i.jsx)(a.EYj,{size:"14",children:"Get set up by completing the following steps. Once they are complete, the daemon can start storing data."})}),(0,i.jsx)(f,{title:(0,i.jsx)(a.N_E,{href:x.J.config.index,ellipsis:!0,size:"14",underline:"hover",children:"Step 1: Configure your storage settings"}),description:"Specify your maximum pricing values and other settings.",action:(0,i.jsx)(a.N_E,{href:x.J.config.index,children:(0,i.jsx)(j.dm2,{})})}),(0,i.jsx)(f,{title:(0,i.jsx)(a.N_E,{href:x.J.node.index,underline:"hover",ellipsis:!0,size:"14",children:"Step 2: Wait for the blockchain to sync"}),description:"The blockchain will sync in the background, this takes some time. No user action required.",action:v?(0,i.jsx)(a.EYj,{color:"green",children:(0,i.jsx)(j.Voo,{})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a.EYj,{ellipsis:!0,size:"14",children:[m.syncPercent,"%"]}),(0,i.jsx)(a.EYj,{color:"amber",children:(0,i.jsx)(j.RDb,{})})]})}),(0,i.jsx)(f,{title:(0,i.jsx)(a.N_E,{href:x.J.wallet.view,onClick:()=>s("addressDetails"),ellipsis:!0,size:"14",underline:"hover",children:"Step 3: Fund your wallet"}),description:"Fund your wallet to cover spending on storage.".concat(m.isWalletSynced?"":" Balance will not be accurate until wallet is finished scanning."),action:b?(0,i.jsx)(a.EYj,{color:"green",children:(0,i.jsx)(j.Voo,{})}):(0,i.jsxs)(i.Fragment,{children:[!m.isWalletSynced&&(0,i.jsx)(a.m_M,{content:"Wallet scanning progress ".concat(m.walletScanPercent,"%"),children:(0,i.jsxs)(a.EYj,{size:"14",children:[m.walletScanPercent,"%"]})}),(0,i.jsx)(a.N_E,{href:x.J.wallet.view,onClick:()=>s("addressDetails"),children:(0,i.jsx)(j.dm2,{})}),(0,i.jsx)(a.EYj,{color:"amber",children:(0,i.jsx)(j.vmK,{})})]})}),(0,i.jsx)(f,{title:(0,i.jsx)(a.N_E,{href:x.J.home,ellipsis:!0,size:"14",underline:"hover",children:"Step 4: Wait for storage contracts to form"}),description:"Once all other steps are complete, contracts will automatically form. No user action required.",action:w?(0,i.jsx)(a.EYj,{color:"green",children:(0,i.jsx)(j.Voo,{})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a.EYj,{ellipsis:!0,size:"14",children:[g.count,"/",g.required]}),(0,i.jsx)(a.EYj,{color:"amber",children:(0,i.jsx)(j.RDb,{})})]})})]})})})}):(0,i.jsx)(a.Di0,{children:(0,i.jsx)("div",{className:"flex justify-center",children:(0,i.jsx)(a.$nd,{onClick:()=>o(!0),size:"large",className:"flex gap-3 !px-3",children:(0,i.jsxs)(a.EYj,{size:"14",className:"flex items-center gap-2",children:[(0,i.jsx)(a.guG,{}),"Setup: ",k,"/",N," steps complete"]})})})})}function f(e){let{title:s,action:n,description:t}=e;return(0,i.jsx)("div",{className:"border-t first:border-t-0 border-gray-200 dark:border-graydark-300 px-3 py-2",children:(0,i.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,i.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,i.jsx)("div",{className:"flex-1 flex items-center",children:s}),n]}),(0,i.jsx)("div",{className:"pr-5",children:(0,i.jsx)(a.EYj,{size:"12",color:"subtle",children:t})})]})})}var g=n(48230);function p(){let e=(0,r.XT)();return!e.data||e.data.enabled?(0,i.jsx)(a.Di0,{}):(0,i.jsx)(a.Di0,{children:(0,i.jsx)("div",{className:"flex justify-center",children:(0,i.jsxs)(a.Zkm,{className:"w-[400px] flex flex-col gap-2 max-h-[600px] p-3",children:[(0,i.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,i.jsx)(a.EYj,{size:"18",weight:"medium",color:"contrast",children:(0,i.jsx)(j.D9c,{})}),(0,i.jsx)(a.EYj,{size:"18",weight:"medium",color:"contrast",children:"System is currently disabled"}),(0,i.jsx)("div",{className:"flex-1"}),(0,i.jsx)(g.i,{size:"medium"})]}),(0,i.jsx)(a.EYj,{size:"12",color:"subtle",children:"Enable the system to form contracts and maintain files. Make sure to configure your desired settings before enabling."})]})})})}function v(e){let{children:s}=e;return(0,i.jsxs)("div",{"data-testid":"docked-controls",className:"flex flex-col gap-2",children:[s,(0,i.jsx)(m,{}),(0,i.jsx)(p,{})]})}function b(){let e=(0,r.GU)({config:{swr:{revalidateOnFocus:!1}}});return e.data&&"mainnet"!==e.data.network?(0,i.jsx)(a.eFU,{testnetName:e.data.network}):null}var w=n(62942);function y(){let{openDialog:e}=(0,c.sp)(),s=(0,w.useSearchParams)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.U3R,{title:"Hosts",route:N(x.J.hosts.index,s),children:(0,i.jsx)(j.bN0,{})}),(0,i.jsx)(a.U3R,{title:"Contracts",route:N(x.J.contracts.index,s),children:(0,i.jsx)(j.ox6,{})}),(0,i.jsx)(a.U3R,{title:"Connect keys",route:N(x.J.keys.index,s),children:(0,i.jsx)(j.RYV,{})}),(0,i.jsx)(a.U3R,{title:"Accounts",route:N(x.J.accounts.index,s),children:(0,i.jsx)(j.c2u,{})}),(0,i.jsx)(a.U3R,{title:"Alerts",route:N(x.J.alerts.index,s),children:(0,i.jsx)(j.XFE,{})}),(0,i.jsx)(a.U3R,{title:"Configuration",route:N(x.J.config.index,s),children:(0,i.jsx)(j.x8D,{})}),(0,i.jsx)(a.U3R,{title:"Metrics",route:N(x.J.metrics.index,s),children:(0,i.jsx)(j.KxP,{})}),(0,i.jsx)(a.U3R,{title:"Bug report",onClick:()=>e("bugReport"),children:(0,i.jsx)(j.Q5O,{})})]})}function N(e,s){return"".concat(e,"?").concat(new URLSearchParams(s).toString())}function k(e){let{children:s}=e,{isSynced:n}=(0,l.d)(),{openDialog:d}=(0,c.sp)(),j=(0,r.Mw)();return(0,i.jsx)(a.tM8,{profile:(0,i.jsx)(o,{}),routes:x.J,isSynced:n,dockedControls:(0,i.jsx)(v,{}),connectivityRoute:x.b,openSettings:()=>d("settings"),banner:(0,i.jsx)(b,{}),sidenav:(0,i.jsx)(y,{}),walletBalanceSc:j.data&&{spendable:new t.A(j.data.spendable),confirmed:new t.A(j.data.confirmed),immature:new t.A(j.data.immature),unconfirmed:new t.A(j.data.unconfirmed)},children:s})}},33296:(e,s,n)=>{Promise.resolve().then(n.bind(n,1022))},48230:(e,s,n)=>{"use strict";n.d(s,{i:()=>l});var i=n(54568),t=n(12655),r=n(67814),a=n(7620);function l(e){var s;let{size:n}=e,l=(0,r.s3)(),c=(0,r.XT)(),d=(0,a.useCallback)(()=>{var e;c.data&&l.put({payload:{...c.data,enabled:!(null==(e=c.data)?void 0:e.enabled)}})},[c.data,l]);return(0,i.jsx)(t.m_M,{content:"Enable or disable forming contracts and maintaining data.",children:(0,i.jsx)("div",{children:(0,i.jsx)(t.dOG,{size:n,checked:!!(null==(s=c.data)?void 0:s.enabled),onCheckedChange:d})})})}}},e=>{e.O(0,[9085,9030,5764,6017,2826,7421,8820,224,2550,5465,9589,751,7722,1144,4082,6712,1551,2273,9557,4114,7939,5312,1213,947,2991,8900,7164,9800,2655,6713,587,1902,7358],()=>e(e.s=33296)),_N_E=e.O()}]);