(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[264],{56592:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/buckets/[bucket]/uploads",function(){return t(58039)}])},19634:function(e,s,t){"use strict";t.d(s,{C:function(){return c}});var i=t(52322),l=t(12498),a=t(28420),n=t(52602);function r(){let{activeExplorerMode:e,setExplorerModeDirectory:s,setExplorerModeFlat:t,isViewingUploads:r,navigateToUploads:c}=(0,n.b)();return(0,i.jsxs)(l.h_2,{trigger:(0,i.jsx)(l.zxk,{"aria-label":"change explorer mode",tipSide:"bottom",tip:r?"Viewing uploads":"directory"===e?"Viewing directory explorer":"Viewing all bucket files",children:r?(0,i.jsx)(a.bQp,{}):"directory"===e?(0,i.jsx)(a.Qbr,{}):(0,i.jsx)(a.nDH,{})}),contentProps:{align:"start",side:"bottom",className:"max-w-[300px]"},children:[(0,i.jsxs)(l.Xiv,{onSelect:s,children:[(0,i.jsx)(l.KpP,{children:(0,i.jsx)(a.Qbr,{})}),"Directory"]}),(0,i.jsxs)(l.Xiv,{onSelect:t,children:[(0,i.jsx)(l.KpP,{children:(0,i.jsx)(a.nDH,{})}),"All files"]}),(0,i.jsxs)(l.Xiv,{onSelect:c,children:[(0,i.jsx)(l.KpP,{children:(0,i.jsx)(a.bQp,{})}),"Uploads"]})]})}function c(){let{isViewingBuckets:e}=(0,n.b)();return e?(0,i.jsx)(l.ua7,{content:"Viewing all buckets",children:(0,i.jsx)("div",{children:(0,i.jsx)(l.zxk,{state:"waiting",children:(0,i.jsx)(a.fi8,{size:16})})})}):(0,i.jsx)(r,{})}},58039:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return N}});var i=t(52322),l=t(12498),a=t(73022),n=t(28420),r=t(4300),c=t(52602);function o(){let{activeView:e}=(0,a.x)(),{activeBucketName:s}=(0,c.b)(),t=s?r._.buckets.files.replace("[bucket]",s).replace("[path]",""):r._.buckets.index;return(0,i.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px]",children:[(0,i.jsx)(l.xvT,{children:(0,i.jsx)(n.Y9T,{className:"scale-[200%]"})}),(0,i.jsxs)("div",{className:"flex flex-col gap-3 items-center",children:[(0,i.jsx)(l.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:"localUploads"===e?(0,i.jsxs)(i.Fragment,{children:["The ",(0,i.jsx)(l.EKh,{children:s})," bucket does not have any active uploads from this session."]}):(0,i.jsxs)(i.Fragment,{children:["The ",(0,i.jsx)(l.EKh,{children:s})," bucket does not have any active uploads."]})}),(0,i.jsx)(l.Qjf,{href:t,onClick:e=>{e.stopPropagation()},children:s?"View files":"View buckets list"})]})]})}function x(){return(0,i.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px]",children:[(0,i.jsx)(l.xvT,{children:(0,i.jsx)(n.Ckx,{className:"scale-[200%]"})}),(0,i.jsx)(l.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:"Error fetching uploads."})]})}function d(){let{activeData:{datasetPage:e},activeTableState:{visibleColumns:s,sortableColumns:t,toggleSort:n,sortField:r,sortDirection:c},activeDatasetState:d}=(0,a.x)();return(0,i.jsx)("div",{className:"relative",children:(0,i.jsx)(l.iA_,{testId:"uploadsTable",isLoading:"loading"===d,emptyState:(0,i.jsx)(l.ubH,{datasetState:d,noneYet:(0,i.jsx)(o,{}),error:(0,i.jsx)(x,{})}),pageSize:10,data:e,columns:s,sortableColumns:t,sortField:r,sortDirection:c,toggleSort:n,rowSize:"dense"})})}function u(){return(0,i.jsx)("div",{className:"p-6 min-w-fit",children:(0,i.jsx)(d,{})})}var j=t(70825),h=t(82285),p=t(94763);function f(){let{activeTableState:{configurableColumns:e,toggleColumnVisibility:s,resetDefaultColumnVisibility:t,visibleColumnIds:r}}=(0,a.x)();return(0,i.jsxs)(l.J2e,{trigger:(0,i.jsxs)(l.zxk,{size:"small",tip:"Configure view",tipAlign:"end",children:[(0,i.jsx)(n.hiv,{}),"View",(0,i.jsx)(n.EMN,{})]}),contentProps:{align:"end",className:"max-w-[300px]"},children:[(0,i.jsxs)(l.WVB,{children:[(0,i.jsx)(l.__J,{children:"Display properties"}),(0,i.jsx)(l.kFS,{children:(0,i.jsx)(l.zxk,{onClick:e=>{e.stopPropagation(),t()},children:"Reset default"})})]}),(0,i.jsx)(l.WVB,{children:(0,i.jsx)(l.j4H,{options:e.map(e=>({label:e.label,value:e.id})),values:r,onChange:e=>s(e)})})]})}function m(){return(0,i.jsx)("div",{className:"flex gap-2",children:(0,i.jsx)(f,{})})}function v(){let{activeData:e,abortAll:s,activeView:t,remoteUploads:n,localUploads:r,setActiveView:c}=(0,a.x)(),o="globalUploads"===t?(0,i.jsx)(l._5,{marker:n.marker,nextMarker:n.nextMarker,isMore:n.hasMore,limit:n.limit,pageTotal:n.datasetPageTotal,isLoading:"loading"===n.datasetState}):(0,i.jsx)(l.uDJ,{offset:r.offset,limit:r.limit,total:r.datasetTotal,isLoading:"loading"===r.datasetState});return(0,i.jsxs)("div",{className:"flex gap-3 w-full",children:[(0,i.jsx)(l.zxk,{onClick:()=>c("localUploads"),variant:"localUploads"===t?"active":"inactive",children:"Local uploads"}),(0,i.jsx)(l.zxk,{onClick:()=>c("globalUploads"),variant:"globalUploads"===t?"active":"inactive",children:"All uploads"}),(0,i.jsx)("div",{className:"flex-1"}),e.datasetPageTotal>0&&(0,i.jsxs)(l.zxk,{onClick:s,children:["Abort (",e.datasetPageTotal,")"]}),o]})}var g=t(19634);function b(){let{activeBucketName:e,setActiveDirectory:s}=(0,c.b)();return(0,i.jsxs)("div",{className:"flex gap-2 items-center h-full",children:[(0,i.jsx)(g.C,{}),(0,i.jsx)(l.xrM,{children:(0,i.jsxs)("div",{className:"flex gap-1 items-center h-full",children:[(0,i.jsx)(l.xvT,{onClick:()=>s(()=>[]),size:"18",weight:"semibold",className:"flex items-center cursor-pointer",noWrap:!0,children:"Buckets"}),(0,i.jsx)(l.xvT,{size:"16",color:"verySubtle",className:"flex items-center",children:(0,i.jsx)(n.F3j,{})}),(0,i.jsx)(l.xvT,{onClick:()=>{e&&s(()=>[e])},size:"18",weight:"semibold",className:"flex items-center cursor-pointer",noWrap:!0,children:e}),(0,i.jsx)(l.xvT,{size:"16",color:"verySubtle",className:"flex items-center",children:(0,i.jsx)(n.F3j,{})}),(0,i.jsx)(l.xvT,{size:"18",weight:"semibold",className:"flex items-center cursor-pointer",noWrap:!0,children:"Uploads"})]})})]})}let k=p.J;function N(){return(0,i.jsx)(u,{})}N.Layout=k,N.useLayoutProps=function(){let{openDialog:e}=(0,h.Rh)();return{title:"Uploads",navTitle:null,routes:r._,sidenav:(0,i.jsx)(j.e,{}),openSettings:()=>e("settings"),actions:(0,i.jsx)(m,{}),stats:(0,i.jsx)(v,{}),nav:(0,i.jsx)(b,{})}}}},function(e){e.O(0,[191,888,774,179],function(){return e(e.s=56592)}),_N_E=e.O()}]);