(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,86283,53658,63876,4327,e=>{"use strict";var t=e.i(50323);e.i(94066);var r=e.i(77461),n=e.i(14843),i=e.i(34961),a=e.i(72543),o=e.i(27454),s=e.i(87267);e.i(37869);var l=e.i(43348),u=e.i(25605),c=e.i(43253),d=e.i(5646);function f(e){return(0,n.useGetSwr)({...e,route:d.busStateRoute})}function h(e){return(0,n.useGetSwr)({...e,route:d.busConsensusStateRoute})}function p(){var e;let r=(e={config:{swr:{revalidateOnFocus:!1}}},(0,n.useGetSwr)({...e,route:d.busConsensusNetworkRoute}));return(0,t.default)(r,()=>(0,l.getBlockHeightFromGenesis)(r.data?.hardforkOak.genesisTimestamp),{refreshInterval:6e4,keepPreviousData:!0}).data||0}function m(e){return(0,n.useGetSwr)({...e,route:d.busSyncerPeersRoute})}function g(e){return(0,i.usePostFunc)({...e,route:d.busSyncerConnectRoute},async e=>{e(e=>e===d.busSyncerPeersRoute)})}function y(e){return(0,n.useGetSwr)({...e,route:d.busTxpoolRecommendedFeeRoute})}function b(e){return(0,n.useGetSwr)({...e,route:d.busTxpoolTransactionsRoute})}function v(e){return(0,n.useGetSwr)({...e,route:d.busWalletRoute})}function x(e){return(0,n.useGetSwr)({...e,route:d.busWalletEventsRoute})}function w(e){return(0,n.useGetSwr)({...e,route:d.busWalletPendingRoute})}function S(e){return(0,i.usePostFunc)({...e,route:d.busWalletSendRoute},async e=>{await (0,o.delay)(2e3),e(e=>e.startsWith(d.busTxpoolTransactionsRoute)||e.startsWith(d.busWalletPendingRoute))})}function k(e){return(0,i.usePostSwr)({...e,route:d.busHostsRoute})}function j(e){return(0,n.useGetSwr)({...e,route:d.busHostHostKeyRoute})}function C(e){return(0,n.useGetSwr)({...e,route:d.busHostsBlocklistRoute})}function P(e){return(0,n.useGetSwr)({...e,route:d.busHostsAllowlistRoute})}function _(e){return(0,a.usePutFunc)({...e,route:d.busHostsAllowlistRoute},async e=>{e(e=>!![d.busHostsRoute,d.busHostsAllowlistRoute,d.busContractsRoute].find(t=>e.startsWith(t)))})}function T(e){return(0,a.usePutFunc)({...e,route:d.busHostsBlocklistRoute},async e=>{e(e=>!![d.busHostsRoute,d.busHostsBlocklistRoute,d.busContractsRoute].find(t=>e.startsWith(t)))})}function E(e){return(0,i.usePostFunc)({...e,route:d.busHostPublicKeyResetlostsectorsRoute})}function R(e){return(0,i.usePostFunc)({...e,route:d.busHostHostKeyScanRoute},async(e,{params:{hostkey:t}},r)=>{e(e=>e.startsWith(d.busHostsRoute),e=>e?.map(e=>e.publicKey===t?{...e,host:{...e,interactions:{...e.interactions,lastScan:new Date().toISOString(),lastScanSuccess:!r.data.scanError},settings:r.data.settings}}:e),!1),(0,s.throttle)(d.busHostsRoute,5e3,()=>{e(e=>e.startsWith(d.busHostsRoute))})})}function M(e){return(0,n.useGetSwr)({...e,route:d.busContractsRoute})}function D(e){return(0,n.useGetSwr)({...e,route:d.busContractIdRoute})}function A(e){return(0,r.useDeleteFunc)({...e,route:d.busContractIdRoute},async e=>{e(e=>e.startsWith(d.busContractRoute))})}function F(e){return(0,n.useGetSwr)({...e,route:d.busBucketsRoute})}function B(e){return(0,n.useGetSwr)({...e,route:d.busBucketNameRoute})}function N(e){return(0,i.usePostFunc)({...e,route:d.busBucketsRoute},async e=>{e(e=>e.startsWith(d.busBucketsRoute))})}function O(e){return(0,a.usePutFunc)({...e,route:d.busBucketNamePolicyRoute},async e=>{e(e=>e.startsWith(d.busBucketRoute))})}function I(e){return(0,r.useDeleteFunc)({...e,route:d.busBucketNameRoute},async e=>{e(e=>e.startsWith(d.busBucketRoute))})}function z(e){return(0,n.useGetSwr)({...e,route:d.busObjectsPrefixRoute})}function U(e){return(0,n.useGetSwr)({...e,route:d.busObjectKeyRoute})}function L(e){return(0,i.usePostFunc)({...e,route:d.busObjectsRenameRoute})}function H(e){return(0,i.usePostFunc)({...e,route:d.busObjectsRemoveRoute},async e=>{e(e=>e.startsWith(d.busObjectsRoute))})}function W(e){return(0,n.useGetSwr)({...e,route:d.busStatsObjectsRoute})}function V(e){return(0,n.useGetSwr)({...e,route:d.busSettingsGougingRoute})}function q(e){return(0,n.useGetSwr)({...e,route:d.busSettingsPinnedRoute})}function G(e){return(0,n.useGetSwr)({...e,route:d.busSettingsS3Route})}function K(e){return(0,n.useGetSwr)({...e,route:d.busSettingsUploadRoute})}function $(e){return(0,a.usePutFunc)({...e,route:d.busSettingsGougingRoute},async e=>{e(e=>e.startsWith(d.busSettingsGougingRoute))})}function Y(e){return(0,a.usePutFunc)({...e,route:d.busSettingsPinnedRoute},async e=>{e(e=>e.startsWith(d.busSettingsPinnedRoute))})}function Z(e){return(0,a.usePutFunc)({...e,route:d.busSettingsS3Route},async e=>{e(e=>e.startsWith(d.busSettingsS3Route))})}function X(e){return(0,a.usePutFunc)({...e,route:d.busSettingsUploadRoute},async e=>{e(e=>e.startsWith(d.busSettingsUploadRoute))})}function J(e){return(0,n.useGetSwr)({...e,route:d.busAlertsRoute})}function Q(e){return(0,i.usePostFunc)({...e,route:d.busAlertsDismissRoute},async e=>{e(e=>e.startsWith(d.busAlertsRoute))})}function ee(e){return(0,n.useGetSwr)({...e,route:d.busMetricContractRoute})}function et(e){return(0,n.useGetSwr)({...e,route:d.busMetricWalletRoute})}function er(e){return(0,i.usePostFunc)({...e,route:d.busMultipartCreateRoute},async e=>{(0,s.throttle)(d.busMultipartRoute,3e3,()=>{e(e=>e.startsWith(d.busMultipartRoute))})})}function en(e){return(0,i.usePostFunc)({...e,route:d.busMultipartCompleteRoute},async(e,t,r)=>{(0,s.throttle)(d.busMultipartRoute,3e3,()=>{e(e=>e.startsWith(d.busMultipartRoute))})})}function ei(e){return(0,i.usePostFunc)({...e,route:d.busMultipartAbortRoute},async e=>{(0,s.throttle)(d.busMultipartRoute,200,()=>{e(e=>e.startsWith(d.busMultipartRoute))},"trailing")})}function ea(e){return(0,i.usePostSwr)({...e,route:d.busMultipartListuploadsRoute})}function eo(e){return(0,n.useGetSwr)({...e,route:c.busAutopilotRoute})}function es(e){return(0,a.usePutFunc)({...e,route:c.busAutopilotRoute},async e=>{e(e=>e===c.busAutopilotRoute),(async()=>{await (0,o.delay)(1e3),e(e=>e===c.autopilotStateRoute)})()})}function el(e){return(0,i.usePostFunc)({...e,route:u.authRoute})}function eu(e){return(0,i.usePostFunc)({...e,route:d.busSystemBackupRoute})}function ec(e){return(0,n.useGetSwr)({...e,route:c.autopilotStateRoute})}function ed(e){return(0,i.usePostSwr)({...e,route:c.autopilotConfigEvaluateRoute})}function ef(e){return(0,i.usePostFunc)({...e,route:c.autopilotTriggerRoute})}e.s(["useAlerts",()=>J,"useAlertsDismiss",()=>Q,"useAuthToken",()=>el,"useAutopilotConfig",()=>eo,"useAutopilotConfigUpdate",()=>es,"useBucket",()=>B,"useBucketCreate",()=>N,"useBucketDelete",()=>I,"useBucketPolicyUpdate",()=>O,"useBuckets",()=>F,"useBusState",()=>f,"useConsensusState",()=>h,"useContract",()=>D,"useContractDelete",()=>A,"useContracts",()=>M,"useEstimatedNetworkBlockHeight",()=>p,"useHost",()=>j,"useHostResetLostSectorCount",()=>E,"useHostScan",()=>R,"useHosts",()=>k,"useHostsAllowlist",()=>P,"useHostsAllowlistUpdate",()=>_,"useHostsBlocklist",()=>C,"useHostsBlocklistUpdate",()=>T,"useMetricsContract",()=>ee,"useMetricsWallet",()=>et,"useMultipartUploadAbort",()=>ei,"useMultipartUploadComplete",()=>en,"useMultipartUploadCreate",()=>er,"useMultipartUploadListUploads",()=>ea,"useObject",()=>U,"useObjectStats",()=>W,"useObjects",()=>z,"useObjectsRemove",()=>H,"useObjectsRename",()=>L,"useSettingsGouging",()=>V,"useSettingsGougingUpdate",()=>$,"useSettingsPinned",()=>q,"useSettingsPinnedUpdate",()=>Y,"useSettingsS3",()=>G,"useSettingsS3Update",()=>Z,"useSettingsUpload",()=>K,"useSettingsUploadUpdate",()=>X,"useSyncerConnect",()=>g,"useSyncerPeers",()=>m,"useSystemBackup",()=>eu,"useTxPoolRecommendedFee",()=>y,"useTxPoolTransactions",()=>b,"useWallet",()=>v,"useWalletEvents",()=>x,"useWalletPending",()=>w,"useWalletSend",()=>S],53658),e.s(["useAutopilotConfigEvaluate",()=>ed,"useAutopilotState",()=>ec,"useAutopilotTrigger",()=>ef],63876),e.i(51584);var eh=e.i(10282);function ep(e){return(0,a.usePutFunc)({...e,config:{...e?.config,axios:{...e?.config?.axios,headers:{"Content-Type":"multipart/form-data"}}},route:eh.workerObjectKeyRoute},async e=>{e(e=>e.startsWith(d.busObjectsRoute))})}function em(e){return(0,a.usePutFunc)({...e,config:{...e?.config,axios:{...e?.config?.axios,headers:{"Content-Type":"multipart/form-data"}}},route:eh.workerMultipartKeyRoute})}function eg(e){return(0,i.usePostFunc)({...e,route:eh.workerAccountIdResetdriftRoute})}e.s(["useAccountResetDrift",()=>eg,"useMultipartUploadPart",()=>em,"useObjectUpload",()=>ep],4327),e.s([],86283)},10483,91962,e=>{"use strict";let t,r;var n=/[\\\/_+.#"@\[\(\{&]/,i=/[\\\/_+.#"@\[\(\{&]/g,a=/[\s-]/,o=/[\s-]/g;function s(e){return e.toLowerCase().replace(o," ")}function l(){return(l=Object.assign.bind()).apply(null,arguments)}var u=e.i(91788);function c(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(null==e||e(n),!1===r||!n.defaultPrevented)return null==t?void 0:t(n)}}function d(...e){return t=>e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}function f(...e){return(0,u.useCallback)(d(...e),e)}let h=(null==globalThis?void 0:globalThis.document)?u.useLayoutEffect:()=>{},p=u["useId".toString()]||(()=>void 0),m=0;function g(e){let[t,r]=u.useState(p());return h(()=>{e||r(e=>null!=e?e:String(m++))},[e]),e||(t?`radix-${t}`:"")}function y(e){let t=(0,u.useRef)(e);return(0,u.useEffect)(()=>{t.current=e}),(0,u.useMemo)(()=>(...e)=>{var r;return null==(r=t.current)?void 0:r.call(t,...e)},[])}var b=e.i(30943);let v=(0,u.forwardRef)((e,t)=>{let{children:r,...n}=e,i=u.Children.toArray(r),a=i.find(S);if(a){let e=a.props.children,r=i.map(t=>t!==a?t:u.Children.count(e)>1?u.Children.only(null):(0,u.isValidElement)(e)?e.props.children:null);return(0,u.createElement)(x,l({},n,{ref:t}),(0,u.isValidElement)(e)?(0,u.cloneElement)(e,void 0,r):null)}return(0,u.createElement)(x,l({},n,{ref:t}),r)});v.displayName="Slot";let x=(0,u.forwardRef)((e,t)=>{let{children:r,...n}=e;return(0,u.isValidElement)(r)?(0,u.cloneElement)(r,{...function(e,t){let r={...t};for(let n in t){let i=e[n],a=t[n];/^on[A-Z]/.test(n)?r[n]=(...e)=>{null==a||a(...e),null==i||i(...e)}:"style"===n?r[n]={...i,...a}:"className"===n&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props),ref:d(t,r.ref)}):u.Children.count(r)>1?u.Children.only(null):null});x.displayName="SlotClone";let w=({children:e})=>(0,u.createElement)(u.Fragment,null,e);function S(e){return(0,u.isValidElement)(e)&&e.type===w}let k=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=(0,u.forwardRef)((e,r)=>{let{asChild:n,...i}=e,a=n?v:t;return(0,u.useEffect)(()=>{window[Symbol.for("radix-ui")]=!0},[]),(0,u.createElement)(a,l({},i,{ref:r}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function j(e){let t=(0,u.useRef)(e);return(0,u.useEffect)(()=>{t.current=e}),(0,u.useMemo)(()=>(...e)=>{var r;return null==(r=t.current)?void 0:r.call(t,...e)},[])}let C="dismissableLayer.update",P=(0,u.createContext)({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_=(0,u.forwardRef)((e,r)=>{let n,i,a,o,s,d,{disableOutsidePointerEvents:h=!1,onEscapeKeyDown:p,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:y,onDismiss:b,...v}=e,x=(0,u.useContext)(P),[w,S]=(0,u.useState)(null),[,_]=(0,u.useState)({}),R=f(r,e=>S(e)),M=Array.from(x.layers),[D]=[...x.layersWithOutsidePointerEventsDisabled].slice(-1),A=M.indexOf(D),F=w?M.indexOf(w):-1,B=x.layersWithOutsidePointerEventsDisabled.size>0,N=F>=A,O=(n=j(e=>{let t=e.target,r=[...x.branches].some(e=>e.contains(t));N&&!r&&(null==m||m(e),null==y||y(e),e.defaultPrevented||null==b||b())}),i=(0,u.useRef)(!1),a=(0,u.useRef)(()=>{}),(0,u.useEffect)(()=>{let e=e=>{if(e.target&&!i.current){let r={originalEvent:e};function t(){E("dismissableLayer.pointerDownOutside",n,r,{discrete:!0})}"touch"===e.pointerType?(document.removeEventListener("click",a.current),a.current=t,document.addEventListener("click",a.current,{once:!0})):t()}i.current=!1},t=window.setTimeout(()=>{document.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(t),document.removeEventListener("pointerdown",e),document.removeEventListener("click",a.current)}},[n]),{onPointerDownCapture:()=>i.current=!0}),I=(o=j(e=>{let t=e.target;![...x.branches].some(e=>e.contains(t))&&(null==g||g(e),null==y||y(e),e.defaultPrevented||null==b||b())}),s=(0,u.useRef)(!1),(0,u.useEffect)(()=>{let e=e=>{e.target&&!s.current&&E("dismissableLayer.focusOutside",o,{originalEvent:e},{discrete:!1})};return document.addEventListener("focusin",e),()=>document.removeEventListener("focusin",e)},[o]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1});return d=j(e=>{F===x.layers.size-1&&(null==p||p(e),!e.defaultPrevented&&b&&(e.preventDefault(),b()))}),(0,u.useEffect)(()=>{let e=e=>{"Escape"===e.key&&d(e)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[d]),(0,u.useEffect)(()=>{if(w)return h&&(0===x.layersWithOutsidePointerEventsDisabled.size&&(t=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),x.layersWithOutsidePointerEventsDisabled.add(w)),x.layers.add(w),T(),()=>{h&&1===x.layersWithOutsidePointerEventsDisabled.size&&(document.body.style.pointerEvents=t)}},[w,h,x]),(0,u.useEffect)(()=>()=>{w&&(x.layers.delete(w),x.layersWithOutsidePointerEventsDisabled.delete(w),T())},[w,x]),(0,u.useEffect)(()=>{let e=()=>_({});return document.addEventListener(C,e),()=>document.removeEventListener(C,e)},[]),(0,u.createElement)(k.div,l({},v,{ref:R,style:{pointerEvents:B?N?"auto":"none":void 0,...e.style},onFocusCapture:c(e.onFocusCapture,I.onFocusCapture),onBlurCapture:c(e.onBlurCapture,I.onBlurCapture),onPointerDownCapture:c(e.onPointerDownCapture,O.onPointerDownCapture)}))});function T(){let e=new CustomEvent(C);document.dispatchEvent(e)}function E(e,t,r,{discrete:n}){let i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});if(t&&i.addEventListener(e,t,{once:!0}),n)i&&(0,b.flushSync)(()=>i.dispatchEvent(a));else i.dispatchEvent(a)}function R(e){let t=(0,u.useRef)(e);return(0,u.useEffect)(()=>{t.current=e}),(0,u.useMemo)(()=>(...e)=>{var r;return null==(r=t.current)?void 0:r.call(t,...e)},[])}let M="focusScope.autoFocusOnMount",D="focusScope.autoFocusOnUnmount",A={bubbles:!1,cancelable:!0},F=(0,u.forwardRef)((e,t)=>{let{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[s,c]=(0,u.useState)(null),d=R(i),h=R(a),p=(0,u.useRef)(null),m=f(t,e=>c(e)),g=(0,u.useRef)({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;(0,u.useEffect)(()=>{if(n){function e(e){if(g.paused||!s)return;let t=e.target;s.contains(t)?p.current=t:O(p.current,{select:!0})}function t(e){!g.paused&&s&&(s.contains(e.relatedTarget)||O(p.current,{select:!0}))}return document.addEventListener("focusin",e),document.addEventListener("focusout",t),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t)}}},[n,s,g.paused]),(0,u.useEffect)(()=>{if(s){I.add(g);let e=document.activeElement;if(!s.contains(e)){let t=new CustomEvent(M,A);s.addEventListener(M,d),s.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){let r=document.activeElement;for(let n of e)if(O(n,{select:t}),document.activeElement!==r)return}(B(s).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&O(s))}return()=>{s.removeEventListener(M,d),setTimeout(()=>{let t=new CustomEvent(D,A);s.addEventListener(D,h),s.dispatchEvent(t),t.defaultPrevented||O(null!=e?e:document.body,{select:!0}),s.removeEventListener(D,h),I.remove(g)},0)}}},[s,d,h,g]);let y=(0,u.useCallback)(e=>{if(!r&&!n||g.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,i=document.activeElement;if(t&&i){var a;let t,n=e.currentTarget,[o,s]=[N(t=B(a=n),a),N(t.reverse(),a)];o&&s?e.shiftKey||i!==s?e.shiftKey&&i===o&&(e.preventDefault(),r&&O(s,{select:!0})):(e.preventDefault(),r&&O(o,{select:!0})):i===n&&e.preventDefault()}},[r,n,g.paused]);return(0,u.createElement)(k.div,l({tabIndex:-1},o,{ref:m,onKeyDown:y}))});function B(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function N(e,t){for(let r of e)if(!function(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(r,{upTo:t}))return r}function O(e,{select:t=!1}={}){if(e&&e.focus){var r;let n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&(r=e)instanceof HTMLInputElement&&"select"in r&&t&&e.select()}}let I=(r=[],{add(e){let t=r[0];e!==t&&(null==t||t.pause()),(r=z(r,e)).unshift(e)},remove(e){var t;null==(t=(r=z(r,e))[0])||t.resume()}});function z(e,t){let r=[...e],n=r.indexOf(t);return -1!==n&&r.splice(n,1),r}let U=(0,u.forwardRef)((e,t)=>{var r;let{container:n=null==globalThis||null==(r=globalThis.document)?void 0:r.body,...i}=e;return n?b.default.createPortal((0,u.createElement)(k.div,l({},i,{ref:t})),n):null}),L=(null==globalThis?void 0:globalThis.document)?u.useLayoutEffect:()=>{},H=e=>{let{present:t,children:r}=e,n=function(e){var t,r;let[n,i]=(0,u.useState)(),a=(0,u.useRef)({}),o=(0,u.useRef)(e),s=(0,u.useRef)("none"),[l,c]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},(0,u.useReducer)((e,t)=>{let n=r[e][t];return null!=n?n:e},t));return(0,u.useEffect)(()=>{let e=W(a.current);s.current="mounted"===l?e:"none"},[l]),L(()=>{let t=a.current,r=o.current;if(r!==e){let n=s.current,i=W(t);e?c("MOUNT"):"none"===i||(null==t?void 0:t.display)==="none"?c("UNMOUNT"):r&&n!==i?c("ANIMATION_OUT"):c("UNMOUNT"),o.current=e}},[e,c]),L(()=>{if(n){let e=e=>{let t=W(a.current).includes(e.animationName);e.target===n&&t&&(0,b.flushSync)(()=>c("ANIMATION_END"))},t=e=>{e.target===n&&(s.current=W(a.current))};return n.addEventListener("animationstart",t),n.addEventListener("animationcancel",e),n.addEventListener("animationend",e),()=>{n.removeEventListener("animationstart",t),n.removeEventListener("animationcancel",e),n.removeEventListener("animationend",e)}}c("ANIMATION_END")},[n,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:(0,u.useCallback)(e=>{e&&(a.current=getComputedStyle(e)),i(e)},[])}}(t),i="function"==typeof r?r({present:n.isPresent}):u.Children.only(r),a=f(n.ref,i.ref);return"function"==typeof r||n.isPresent?(0,u.cloneElement)(i,{ref:a}):null};function W(e){return(null==e?void 0:e.animationName)||"none"}H.displayName="Presence";let V=0;function q(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var G=e.i(89280),K=e.i(86636),$=e.i(90631),Y=(0,e.i(52606).createSidecarMedium)(),Z=function(){},X=u.forwardRef(function(e,t){var r=u.useRef(null),n=u.useState({onScrollCapture:Z,onWheelCapture:Z,onTouchMoveCapture:Z}),i=n[0],a=n[1],o=e.forwardProps,s=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,m=e.inert,g=e.allowPinchZoom,y=e.as,b=(0,G.__rest)(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),v=(0,$.useMergeRefs)([r,t]),x=(0,G.__assign)((0,G.__assign)({},b),i);return u.createElement(u.Fragment,null,d&&u.createElement(h,{sideCar:Y,removeScrollBar:c,shards:f,noIsolation:p,inert:m,setCallbacks:a,allowPinchZoom:!!g,lockRef:r}),o?u.cloneElement(u.Children.only(s),(0,G.__assign)((0,G.__assign)({},x),{ref:v})):u.createElement(void 0===y?"div":y,(0,G.__assign)({},x,{className:l,ref:v}),s))});X.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},X.classNames={fullWidth:K.fullWidthClassName,zeroRight:K.zeroRightClassName};var J=e.i(30409);e.i(25543);var Q=e.i(89949);e.i(86719);var ee=e.i(60171),et=!1;if("undefined"!=typeof window)try{var er=Object.defineProperty({},"passive",{get:function(){return et=!0,!0}});window.addEventListener("test",er,er),window.removeEventListener("test",er,er)}catch(e){et=!1}var en=!!et&&{passive:!1},ei=function(e){var t=window.getComputedStyle(e);return"hidden"!==t.overflowY&&(t.overflowY!==t.overflowX||"visible"!==t.overflowY)},ea=function(e){var t=window.getComputedStyle(e);return"hidden"!==t.overflowX&&(t.overflowY!==t.overflowX||"visible"!==t.overflowX)},eo=function(e,t){var r=t;do{if("undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),es(e,r)){var n=el(e,r);if(n[1]>n[2])return!0}r=r.parentNode}while(r&&r!==document.body)return!1},es=function(e,t){return"v"===e?ei(t):ea(t)},el=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},eu=function(e,t,r,n,i){var a,o=(a=window.getComputedStyle(t).direction,"h"===e&&"rtl"===a?-1:1),s=o*n,l=r.target,u=t.contains(l),c=!1,d=s>0,f=0,h=0;do{var p=el(e,l),m=p[0],g=p[1]-p[2]-o*m;(m||g)&&es(e,l)&&(f+=g,h+=m),l=l.parentNode}while(!u&&l!==document.body||u&&(t.contains(l)||t===l))return d&&(i&&0===f||!i&&s>f)?c=!0:!d&&(i&&0===h||!i&&-s>h)&&(c=!0),c},ec=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ed=function(e){return[e.deltaX,e.deltaY]},ef=function(e){return e&&"current"in e?e.current:e},eh=0,ep=[];let em=(0,J.exportSidecar)(Y,function(e){var t=u.useRef([]),r=u.useRef([0,0]),n=u.useRef(),i=u.useState(eh++)[0],a=u.useState(function(){return(0,ee.styleSingleton)()})[0],o=u.useRef(e);u.useEffect(function(){o.current=e},[e]),u.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=(0,G.__spreadArray)([e.lockRef.current],(e.shards||[]).map(ef),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var s=u.useCallback(function(e,t){if("touches"in e&&2===e.touches.length)return!o.current.allowPinchZoom;var i,a=ec(e),s=r.current,l="deltaX"in e?e.deltaX:s[0]-a[0],u="deltaY"in e?e.deltaY:s[1]-a[1],c=e.target,d=Math.abs(l)>Math.abs(u)?"h":"v";if("touches"in e&&"h"===d&&"range"===c.type)return!1;var f=eo(d,c);if(!f)return!0;if(f?i=d:(i="v"===d?"h":"v",f=eo(d,c)),!f)return!1;if(!n.current&&"changedTouches"in e&&(l||u)&&(n.current=i),!i)return!0;var h=n.current||i;return eu(h,t,e,"h"===h?l:u,!0)},[]),l=u.useCallback(function(e){if(ep.length&&ep[ep.length-1]===a){var r="deltaY"in e?ed(e):ec(e),n=t.current.filter(function(t){var n;return t.name===e.type&&t.target===e.target&&(n=t.delta,n[0]===r[0]&&n[1]===r[1])})[0];if(n&&n.should)return void e.preventDefault();if(!n){var i=(o.current.shards||[]).map(ef).filter(Boolean).filter(function(t){return t.contains(e.target)});(i.length>0?s(e,i[0]):!o.current.noIsolation)&&e.preventDefault()}}},[]),c=u.useCallback(function(e,r,n,i){var a={name:e,delta:r,target:n,should:i};t.current.push(a),setTimeout(function(){t.current=t.current.filter(function(e){return e!==a})},1)},[]),d=u.useCallback(function(e){r.current=ec(e),n.current=void 0},[]),f=u.useCallback(function(t){c(t.type,ed(t),t.target,s(t,e.lockRef.current))},[]),h=u.useCallback(function(t){c(t.type,ec(t),t.target,s(t,e.lockRef.current))},[]);u.useEffect(function(){return ep.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,en),document.addEventListener("touchmove",l,en),document.addEventListener("touchstart",d,en),function(){ep=ep.filter(function(e){return e!==a}),document.removeEventListener("wheel",l,en),document.removeEventListener("touchmove",l,en),document.removeEventListener("touchstart",d,en)}},[]);var p=e.removeScrollBar,m=e.inert;return u.createElement(u.Fragment,null,m?u.createElement(a,{styles:"\n  .block-interactivity-".concat(i," {pointer-events: none;}\n  .allow-interactivity-").concat(i," {pointer-events: all;}\n")}):null,p?u.createElement(Q.RemoveScrollBar,{gapMode:"margin"}):null)});var eg=u.forwardRef(function(e,t){return u.createElement(X,(0,G.__assign)({},e,{ref:t,sideCar:em}))});eg.classNames=X.classNames;var ey=e.i(69131);let eb="Dialog",[ev,ex]=function(e,t=[]){let r=[],n=()=>{let t=r.map(e=>(0,u.createContext)(e));return function(r){let n=(null==r?void 0:r[e])||t;return(0,u.useMemo)(()=>({[`__scope${e}`]:{...r,[e]:n}}),[r,n])}};return n.scopeName=e,[function(t,n){let i=(0,u.createContext)(n),a=r.length;function o(t){let{scope:r,children:n,...o}=t,s=(null==r?void 0:r[e][a])||i,l=(0,u.useMemo)(()=>o,Object.values(o));return(0,u.createElement)(s.Provider,{value:l},n)}return r=[...r,n],o.displayName=t+"Provider",[o,function(r,o){let s=(null==o?void 0:o[e][a])||i,l=(0,u.useContext)(s);if(l)return l;if(void 0!==n)return n;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let n=r.reduce((t,{useScope:r,scopeName:n})=>{let i=r(e)[`__scope${n}`];return{...t,...i}},{});return(0,u.useMemo)(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return r.scopeName=t.scopeName,r}(n,...t)]}(eb),[ew,eS]=ev(eb),ek="DialogPortal",[ej,eC]=ev(ek,{forceMount:void 0}),eP="DialogOverlay",e_=(0,u.forwardRef)((e,t)=>{let r=eC(eP,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=eS(eP,e.__scopeDialog);return a.modal?(0,u.createElement)(H,{present:n||a.open},(0,u.createElement)(eT,l({},i,{ref:t}))):null}),eT=(0,u.forwardRef)((e,t)=>{let{__scopeDialog:r,...n}=e,i=eS(eP,r);return(0,u.createElement)(eg,{as:v,allowPinchZoom:!0,shards:[i.contentRef]},(0,u.createElement)(k.div,l({"data-state":eB(i.open)},n,{ref:t,style:{pointerEvents:"auto",...n.style}})))}),eE="DialogContent",eR=(0,u.forwardRef)((e,t)=>{let r=eC(eE,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=eS(eE,e.__scopeDialog);return(0,u.createElement)(H,{present:n||a.open},a.modal?(0,u.createElement)(eM,l({},i,{ref:t})):(0,u.createElement)(eD,l({},i,{ref:t})))}),eM=(0,u.forwardRef)((e,t)=>{let r=eS(eE,e.__scopeDialog),n=(0,u.useRef)(null),i=f(t,r.contentRef,n);return(0,u.useEffect)(()=>{let e=n.current;if(e)return(0,ey.hideOthers)(e)},[]),(0,u.createElement)(eA,l({},e,{ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:c(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null==(t=r.triggerRef.current)||t.focus()}),onPointerDownOutside:c(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:c(e.onFocusOutside,e=>e.preventDefault())}))}),eD=(0,u.forwardRef)((e,t)=>{let r=eS(eE,e.__scopeDialog),n=(0,u.useRef)(!1);return(0,u.createElement)(eA,l({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var i,a;null==(i=e.onCloseAutoFocus)||i.call(e,t),t.defaultPrevented||(n.current||null==(a=r.triggerRef.current)||a.focus(),t.preventDefault()),n.current=!1},onInteractOutside:t=>{var i,a;null==(i=e.onInteractOutside)||i.call(e,t),t.defaultPrevented||(n.current=!0);let o=t.target;(null==(a=r.triggerRef.current)?void 0:a.contains(o))&&t.preventDefault()}}))}),eA=(0,u.forwardRef)((e,t)=>{let{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,s=eS(eE,r),c=f(t,(0,u.useRef)(null));return(0,u.useEffect)(()=>{var e,t;let r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!=(e=r[0])?e:q()),document.body.insertAdjacentElement("beforeend",null!=(t=r[1])?t:q()),V++,()=>{1===V&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),V--}},[]),(0,u.createElement)(u.Fragment,null,(0,u.createElement)(F,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a},(0,u.createElement)(_,l({role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":eB(s.open)},o,{ref:c,onDismiss:()=>s.onOpenChange(!1)}))),!1)}),eF="DialogTitle";function eB(e){return e?"open":"closed"}let[eN,eO]=function(e,t){let r=(0,u.createContext)(t);function n(e){let{children:t,...n}=e,i=(0,u.useMemo)(()=>n,Object.values(n));return(0,u.createElement)(r.Provider,{value:i},t)}return n.displayName=e+"Provider",[n,function(n){let i=(0,u.useContext)(r);if(i)return i;if(void 0!==t)return t;throw Error(`\`${n}\` must be used within \`${e}\``)}]}("DialogTitleWarning",{contentName:eE,titleName:eF,docsSlug:"dialog"}),eI=e=>{let{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,s=(0,u.useRef)(null),l=(0,u.useRef)(null),[c=!1,d]=function({prop:e,defaultProp:t,onChange:r=()=>{}}){let[n,i]=function({defaultProp:e,onChange:t}){let r=(0,u.useState)(e),[n]=r,i=(0,u.useRef)(n),a=y(t);return(0,u.useEffect)(()=>{i.current!==n&&(a(n),i.current=n)},[n,i,a]),r}({defaultProp:t,onChange:r}),a=void 0!==e,o=a?e:n,s=y(r);return[o,(0,u.useCallback)(t=>{if(a){let r="function"==typeof t?t(e):t;r!==e&&s(r)}else i(t)},[a,e,i,s])]}({prop:n,defaultProp:i,onChange:a});return(0,u.createElement)(ew,{scope:t,triggerRef:s,contentRef:l,contentId:g(),titleId:g(),descriptionId:g(),open:c,onOpenChange:d,onOpenToggle:(0,u.useCallback)(()=>d(e=>!e),[d]),modal:o},r)},ez=e=>{let{__scopeDialog:t,forceMount:r,children:n,container:i}=e,a=eS(ek,t);return(0,u.createElement)(ej,{scope:t,forceMount:r},u.Children.map(n,e=>(0,u.createElement)(H,{present:r||a.open},(0,u.createElement)(U,{asChild:!0,container:i},e))))};var eU='[cmdk-group=""]',eL='[cmdk-group-items=""]',eH='[cmdk-item=""]',eW=`${eH}:not([aria-disabled="true"])`,eV="cmdk-item-select",eq="data-value",eG=(e,t)=>(function e(t,r,s,l,u,c,d){if(c===r.length)return u===t.length?1:.99;var f=`${u},${c}`;if(void 0!==d[f])return d[f];for(var h,p,m,g,y=l.charAt(c),b=s.indexOf(y,u),v=0;b>=0;)(h=e(t,r,s,l,b+1,c+1,d))>v&&(b===u?h*=1:n.test(t.charAt(b-1))?(h*=.8,(m=t.slice(u,b-1).match(i))&&u>0&&(h*=Math.pow(.999,m.length))):a.test(t.charAt(b-1))?(h*=.9,(g=t.slice(u,b-1).match(o))&&u>0&&(h*=Math.pow(.999,g.length))):(h*=.17,u>0&&(h*=Math.pow(.999,b-u))),t.charAt(b)!==r.charAt(c)&&(h*=.9999)),(h<.1&&s.charAt(b-1)===l.charAt(c+1)||l.charAt(c+1)===l.charAt(c)&&s.charAt(b-1)!==l.charAt(c))&&.1*(p=e(t,r,s,l,b+1,c+2,d))>h&&(h=.1*p),h>v&&(v=h),b=s.indexOf(y,b+1);return d[f]=v,v})(e,t,s(e),s(t),0,0,{}),eK=u.createContext(void 0),e$=u.createContext(void 0),eY=u.createContext(void 0),eZ=u.forwardRef((e,t)=>{let r=u.useRef(null),n=e8(()=>{var t,r,n;return{search:"",value:null!=(n=null!=(r=e.value)?r:null==(t=e.defaultValue)?void 0:t.toLowerCase())?n:"",filtered:{count:0,items:new Map,groups:new Set}}}),i=e8(()=>new Set),a=e8(()=>new Map),o=e8(()=>new Map),s=e8(()=>new Set),l=e3(e),{label:c,children:d,value:f,onValueChange:h,filter:p,shouldFilter:m,vimBindings:g=!0,...y}=e,b=u.useId(),v=u.useId(),x=u.useId(),w=te();e5(()=>{if(void 0!==f){let e=f.trim().toLowerCase();n.current.value=e,w(6,T),S.emit()}},[f]);let S=u.useMemo(()=>({subscribe:e=>(s.current.add(e),()=>s.current.delete(e)),snapshot:()=>n.current,setState:(e,t,r)=>{var i,a,o;if(!Object.is(n.current[e],t)){if(n.current[e]=t,"search"===e)_(),C(),w(1,P);else if("value"===e)if((null==(i=l.current)?void 0:i.value)!==void 0){null==(o=(a=l.current).onValueChange)||o.call(a,null!=t?t:"");return}else r||w(5,T);S.emit()}},emit:()=>{s.current.forEach(e=>e())}}),[]),k=u.useMemo(()=>({value:(e,t)=>{t!==o.current.get(e)&&(o.current.set(e,t),n.current.filtered.items.set(e,j(t)),w(2,()=>{C(),S.emit()}))},item:(e,t)=>(i.current.add(e),t&&(a.current.has(t)?a.current.get(t).add(e):a.current.set(t,new Set([e]))),w(3,()=>{_(),C(),n.current.value||P(),S.emit()}),()=>{o.current.delete(e),i.current.delete(e),n.current.filtered.items.delete(e);let t=E();w(4,()=>{_(),(null==t?void 0:t.getAttribute("id"))===e&&P(),S.emit()})}),group:e=>(a.current.has(e)||a.current.set(e,new Set),()=>{o.current.delete(e),a.current.delete(e)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],commandRef:r,listId:b,inputId:x,labelId:v}),[]);function j(e){var t,r;let i=null!=(r=null==(t=l.current)?void 0:t.filter)?r:eG;return e?i(e,n.current.search):0}function C(){if(!r.current||!n.current.search||!1===l.current.shouldFilter)return;let e=n.current.filtered.items,t=[];n.current.filtered.groups.forEach(r=>{let n=a.current.get(r),i=0;n.forEach(t=>{i=Math.max(e.get(t),i)}),t.push([r,i])});let i=r.current.querySelector('[cmdk-list-sizer=""]');R().sort((t,r)=>{var n,i;let a=t.getAttribute(eq),o=r.getAttribute(eq);return(null!=(n=e.get(o))?n:0)-(null!=(i=e.get(a))?i:0)}).forEach(e=>{let t=e.closest(eL);t?t.appendChild(e.parentElement===t?e:e.closest(`${eL} > *`)):i.appendChild(e.parentElement===i?e:e.closest(`${eL} > *`))}),t.sort((e,t)=>t[1]-e[1]).forEach(e=>{let t=r.current.querySelector(`${eU}[${eq}="${e[0]}"]`);null==t||t.parentElement.appendChild(t)})}function P(){let e=R().find(e=>!e.ariaDisabled),t=null==e?void 0:e.getAttribute(eq);S.setState("value",t||void 0)}function _(){if(!n.current.search||!1===l.current.shouldFilter){n.current.filtered.count=i.current.size;return}n.current.filtered.groups=new Set;let e=0;for(let t of i.current){let r=j(o.current.get(t));n.current.filtered.items.set(t,r),r>0&&e++}for(let[e,t]of a.current)for(let r of t)if(n.current.filtered.items.get(r)>0){n.current.filtered.groups.add(e);break}n.current.filtered.count=e}function T(){var e,t,r;let n=E();n&&((null==(e=n.parentElement)?void 0:e.firstChild)===n&&(null==(r=null==(t=n.closest(eU))?void 0:t.querySelector('[cmdk-group-heading=""]'))||r.scrollIntoView({block:"nearest"})),n.scrollIntoView({block:"nearest"}))}function E(){var e;return null==(e=r.current)?void 0:e.querySelector(`${eH}[aria-selected="true"]`)}function R(){return Array.from(r.current.querySelectorAll(eW))}function M(e){let t=R()[e];t&&S.setState("value",t.getAttribute(eq))}function D(e){var t;let r=E(),n=R(),i=n.findIndex(e=>e===r),a=n[i+e];null!=(t=l.current)&&t.loop&&(a=i+e<0?n[n.length-1]:i+e===n.length?n[0]:n[i+e]),a&&S.setState("value",a.getAttribute(eq))}function A(e){let t=E(),r=null==t?void 0:t.closest(eU),n;for(;r&&!n;)n=null==(r=e>0?function(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}(r,eU):function(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}(r,eU))?void 0:r.querySelector(eW);n?S.setState("value",n.getAttribute(eq)):D(e)}let F=()=>M(R().length-1),B=e=>{e.preventDefault(),e.metaKey?F():e.altKey?A(1):D(1)},N=e=>{e.preventDefault(),e.metaKey?M(0):e.altKey?A(-1):D(-1)};return u.createElement("div",{ref:e4([r,t]),...y,"cmdk-root":"",onKeyDown:e=>{var t;if(null==(t=y.onKeyDown)||t.call(y,e),!e.defaultPrevented)switch(e.key){case"n":case"j":g&&e.ctrlKey&&B(e);break;case"ArrowDown":B(e);break;case"p":case"k":g&&e.ctrlKey&&N(e);break;case"ArrowUp":N(e);break;case"Home":e.preventDefault(),M(0);break;case"End":e.preventDefault(),F();break;case"Enter":if(!e.nativeEvent.isComposing){e.preventDefault();let t=E();if(t){let e=new Event(eV);t.dispatchEvent(e)}}}}},u.createElement("label",{"cmdk-label":"",htmlFor:k.inputId,id:k.labelId,style:tt},c),u.createElement(e$.Provider,{value:S},u.createElement(eK.Provider,{value:k},d)))}),eX=u.forwardRef((e,t)=>{var r,n;let i=u.useId(),a=u.useRef(null),o=u.useContext(eY),s=u.useContext(eK),l=e3(e),c=null!=(n=null==(r=l.current)?void 0:r.forceMount)?n:null==o?void 0:o.forceMount;e5(()=>s.item(i,null==o?void 0:o.id),[]);let d=e7(i,a,[e.value,e.children,a]),f=u.useContext(e$),h=e9(e=>e.value&&e.value===d.current),p=e9(e=>!!c||!1===s.filter()||!e.search||e.filtered.items.get(i)>0);function m(){var e,t;g(),null==(t=(e=l.current).onSelect)||t.call(e,d.current)}function g(){f.setState("value",d.current,!0)}if(u.useEffect(()=>{let t=a.current;if(!(!t||e.disabled))return t.addEventListener(eV,m),()=>t.removeEventListener(eV,m)},[p,e.onSelect,e.disabled]),!p)return null;let{disabled:y,value:b,onSelect:v,forceMount:x,...w}=e;return u.createElement("div",{ref:e4([a,t]),...w,id:i,"cmdk-item":"",role:"option","aria-disabled":y||void 0,"aria-selected":h||void 0,"data-disabled":y||void 0,"data-selected":h||void 0,onPointerMove:y?void 0:g,onClick:y?void 0:m},e.children)}),eJ=u.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:i,...a}=e,o=u.useId(),s=u.useRef(null),l=u.useRef(null),c=u.useId(),d=u.useContext(eK),f=e9(e=>!!i||!1===d.filter()||!e.search||e.filtered.groups.has(o));e5(()=>d.group(o),[]),e7(o,s,[e.value,e.heading,l]);let h=u.useMemo(()=>({id:o,forceMount:i}),[i]),p=u.createElement(eY.Provider,{value:h},n);return u.createElement("div",{ref:e4([s,t]),...a,"cmdk-group":"",role:"presentation",hidden:!f||void 0},r&&u.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},r),u.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?c:void 0},p))}),eQ=u.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,i=u.useRef(null),a=e9(e=>!e.search);return r||a?u.createElement("div",{ref:e4([i,t]),...n,"cmdk-separator":"",role:"separator"}):null}),e0=u.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,i=null!=e.value,a=u.useContext(e$),o=e9(e=>e.search),s=e9(e=>e.value),l=u.useContext(eK),c=u.useMemo(()=>{var e;let t=null==(e=l.commandRef.current)?void 0:e.querySelector(`${eH}[${eq}="${s}"]`);return null==t?void 0:t.getAttribute("id")},[s,l.commandRef]);return u.useEffect(()=>{null!=e.value&&a.setState("search",e.value)},[e.value]),u.createElement("input",{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":c,id:l.inputId,type:"text",value:i?e.value:o,onChange:e=>{i||a.setState("search",e.target.value),null==r||r(e.target.value)}})}),e1=u.forwardRef((e,t)=>{let{children:r,...n}=e,i=u.useRef(null),a=u.useRef(null),o=u.useContext(eK);return u.useEffect(()=>{if(a.current&&i.current){let e=a.current,t=i.current,r,n=new ResizeObserver(()=>{r=requestAnimationFrame(()=>{let r=e.offsetHeight;t.style.setProperty("--cmdk-list-height",r.toFixed(1)+"px")})});return n.observe(e),()=>{cancelAnimationFrame(r),n.unobserve(e)}}},[]),u.createElement("div",{ref:e4([i,t]),...n,"cmdk-list":"",role:"listbox","aria-label":"Suggestions",id:o.listId,"aria-labelledby":o.inputId},u.createElement("div",{ref:a,"cmdk-list-sizer":""},r))}),e2=u.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:i,contentClassName:a,container:o,...s}=e;return u.createElement(eI,{open:r,onOpenChange:n},u.createElement(ez,{container:o},u.createElement(e_,{"cmdk-overlay":"",className:i}),u.createElement(eR,{"aria-label":e.label,"cmdk-dialog":"",className:a},u.createElement(eZ,{ref:t,...s}))))}),e6=Object.assign(eZ,{List:e1,Item:eX,Input:e0,Group:eJ,Separator:eQ,Dialog:e2,Empty:u.forwardRef((e,t)=>{let r=u.useRef(!0),n=e9(e=>0===e.filtered.count);return u.useEffect(()=>{r.current=!1},[]),r.current||!n?null:u.createElement("div",{ref:t,...e,"cmdk-empty":"",role:"presentation"})}),Loading:u.forwardRef((e,t)=>{let{progress:r,children:n,...i}=e;return u.createElement("div",{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Loading..."},u.createElement("div",{"aria-hidden":!0},n))})});function e3(e){let t=u.useRef(e);return e5(()=>{t.current=e}),t}var e5="undefined"==typeof window?u.useEffect:u.useLayoutEffect;function e8(e){let t=u.useRef();return void 0===t.current&&(t.current=e()),t}function e4(e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}function e9(e){let t=u.useContext(e$),r=()=>e(t.snapshot());return u.useSyncExternalStore(t.subscribe,r,r)}function e7(e,t,r){let n=u.useRef(),i=u.useContext(eK);return e5(()=>{var a;let o=(()=>{var e;for(let t of r){if("string"==typeof t)return t.trim().toLowerCase();if("object"==typeof t&&"current"in t)return t.current?null==(e=t.current.textContent)?void 0:e.trim().toLowerCase():n.current}})();i.value(e,o),null==(a=t.current)||a.setAttribute(eq,o),n.current=o}),n}var te=()=>{let[e,t]=u.useState(),r=e8(()=>new Map);return e5(()=>{r.current.forEach(e=>e()),r.current=new Map},[e]),(e,n)=>{r.current.set(e,n),t({})}},tt={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};e.s(["Command",()=>e6,"useCommandState",()=>e9],10483);var tr=e.i(91398);e.i(86663);var tn=e.i(7880),ti=e.i(34530),ta=e.i(48684);function to({currentPage:e,parentPage:t,commandPage:r,className:n,...i}){let a=e9(e=>e.search);if(t?.namespace===e?.namespace&&!a)return(0,tr.jsx)(e6.Item,{className:(0,ta.cx)((0,tn.itemStyles)(),"group",n),value:`${r?.label} ${i.children?.toString()||""}`,...i})}function ts({currentPage:e,commandPage:t,className:r,...n}){let i=e9(e=>e.search),a=t.namespace.startsWith(e?.namespace||"");if(i&&a||t.namespace===e?.namespace)return(0,tr.jsx)(e6.Item,{className:(0,ta.cx)((0,tn.itemStyles)(),"group",r),value:`${t.label} ${n.children?.toString()||""}`,...n})}function tl({currentPage:e,commandPage:t,className:r,...n}){let i=e9(e=>e.search),a=t.namespace.startsWith(e?.namespace||"");if(i&&a||!e||t.namespace===e?.namespace)return(0,tr.jsx)(e6.Item,{className:(0,ta.cx)((0,tn.itemStyles)(),"group",r),value:`${t.label} ${n.children?.toString()||""}`,...n})}function tu({heading:e,currentPage:t,commandPage:r,...n}){let i=e9(e=>e.search);return(0,tr.jsx)(e6.Group,{heading:i&&t?.namespace!==r.namespace&&(0,tr.jsx)(ti.Label,{className:"px-1",size:"12",children:r.label}),...n})}e.s(["CommandGroup",()=>tu,"CommandItemNav",()=>to,"CommandItemRootAndSearch",()=>tl,"CommandItemSearch",()=>ts],91962)},61732,21808,72186,e=>{"use strict";e.s(["WalletCmdGroup",()=>u],61732);var t=e.i(91398);e.i(86663);var r=e.i(73797),n=e.i(43652),i=e.i(17837),a=e.i(84588),o=e.i(91962);e.i(86283);var s=e.i(53658);let l={namespace:"wallet",label:"Wallet"};function u({currentPage:e,parentPage:u,pushPage:c}){let{openDialog:d,closeDialog:f}=(0,a.useDialog)(),h=(0,i.useRouter)(),p=(0,s.useWallet)();return(0,t.jsxs)(o.CommandGroup,{currentPage:e,commandPage:l,children:[(0,t.jsx)(o.CommandItemNav,{currentPage:e,parentPage:u,commandPage:l,onSelect:()=>{c(l)},children:l.label}),(0,t.jsx)(o.CommandItemSearch,{currentPage:e,commandPage:l,onSelect:()=>{h.push(n.routes.wallet.view),f()},children:"View wallet transactions"}),(0,t.jsx)(o.CommandItemSearch,{currentPage:e,commandPage:l,onSelect:()=>{d("sendSiacoin")},children:"Send siacoin"}),(0,t.jsx)(o.CommandItemSearch,{currentPage:e,commandPage:l,onSelect:()=>{d("addressDetails")},children:"Receive siacoin"}),(0,t.jsx)(o.CommandItemSearch,{currentPage:e,commandPage:l,onSelect:()=>{d("addressDetails")},children:"View wallet address"}),(0,t.jsx)(o.CommandItemSearch,{currentPage:e,commandPage:l,disabled:!p.data?.address,onSelect:()=>{p.data?.address&&((0,r.copyToClipboard)(p.data.address,"wallet address"),f())},children:"Copy wallet address to clipboard"})]})}e.s(["AppCmdGroup",()=>h],21808);var c=e.i(33403);e.i(94066);var d=e.i(82156);let f={namespace:"settings",label:"Settings"};function h({currentPage:e,parentPage:r}){let{openDialog:n,closeDialog:i}=(0,a.useDialog)(),{setTheme:s}=(0,c.useTheme)(),{lock:l,currencyOptions:u,setCurrency:h}=(0,d.useAppSettings)();return(0,t.jsxs)(o.CommandGroup,{currentPage:e,commandPage:f,children:[(0,t.jsx)(o.CommandItemNav,{currentPage:e,parentPage:r,commandPage:f,onSelect:()=>{n("settings")},children:"Open settings"}),(0,t.jsx)(o.CommandItemRootAndSearch,{currentPage:e,commandPage:f,onSelect:()=>{l(),i()},children:"Lock renterd"}),(0,t.jsx)(o.CommandItemSearch,{currentPage:e,commandPage:f,onSelect:()=>{n("settings")},children:"Open interface theme menu"}),(0,t.jsx)(o.CommandItemSearch,{currentPage:e,commandPage:f,onSelect:()=>{s("system"),i()},children:"Set theme to system preference"}),(0,t.jsx)(o.CommandItemSearch,{currentPage:e,commandPage:f,onSelect:()=>{s("dark"),i()},children:"Set theme to dark"}),(0,t.jsx)(o.CommandItemSearch,{currentPage:e,commandPage:f,onSelect:()=>{s("light"),i()},children:"Set theme to light"}),(0,t.jsx)(o.CommandItemSearch,{currentPage:e,commandPage:f,onSelect:()=>{n("bugReport")},children:"Generate a bug report"}),(0,t.jsx)(o.CommandItemSearch,{currentPage:e,commandPage:f,onSelect:()=>{n("settings")},children:"Open currency settings menu"}),(0,t.jsx)(o.CommandItemSearch,{currentPage:e,commandPage:f,onSelect:()=>{n("settings")},children:"Open security settings menu"}),(0,t.jsx)(o.CommandItemSearch,{currentPage:e,commandPage:f,onSelect:()=>{n("settings")},children:"Open privacy settings menu"}),u.map(({id:r,label:n})=>(0,t.jsx)(o.CommandItemSearch,{currentPage:e,commandPage:f,onSelect:()=>{h(r),i()},children:`Set currency to ${n}`},r))]})}e.s(["NodeCmdGroup",()=>m],72186);let p={namespace:"node",label:"Blockchain node"};function m({currentPage:e,parentPage:r,pushPage:s}){let{openDialog:l,closeDialog:u}=(0,a.useDialog)(),c=(0,i.useRouter)();return(0,t.jsxs)(o.CommandGroup,{currentPage:e,commandPage:p,children:[(0,t.jsx)(o.CommandItemNav,{currentPage:e,parentPage:r,commandPage:p,onSelect:()=>{s(p)},children:p.label}),(0,t.jsx)(o.CommandItemSearch,{currentPage:e,commandPage:p,onSelect:()=>{l("connectPeer")},children:"Connect to a peer"}),(0,t.jsx)(o.CommandItemSearch,{currentPage:e,commandPage:p,onSelect:()=>{c.push(n.routes.node.index),u()},children:"View peers"}),(0,t.jsx)(o.CommandItemSearch,{currentPage:e,commandPage:p,onSelect:()=>{c.push(n.routes.node.index),u()},children:"View transaction pool"})]})}},28589,85671,e=>{"use strict";e.i(86663);var t=e.i(79395);e.i(37869);var r=e.i(8358),n=e.i(28787),i=e.i(41399),a=e.i(56115),o=e.i(34768),s=e.i(63761);let l={amountHosts:void 0,periodWeeks:void 0,renewWindowWeeks:void 0,downloadTBMonth:void 0,uploadTBMonth:void 0,storageTB:void 0,prune:!1,maxDowntimeHours:void 0,maxConsecutiveScanFailures:void 0,minProtocolVersion:""},u={...l,maxRPCPriceMillion:void 0,maxStoragePriceTBMonth:void 0,maxContractPrice:void 0,maxDownloadPriceTB:void 0,maxUploadPriceTB:void 0,hostBlockHeightLeeway:void 0,minPriceTableValidityMinutes:void 0,minAccountExpiryDays:void 0,minMaxEphemeralAccountBalance:void 0,pinnedCurrency:"",pinnedThreshold:void 0,shouldPinMaxStoragePrice:!1,maxStoragePriceTBMonthPinned:void 0,shouldPinMaxDownloadPrice:!1,maxDownloadPriceTBPinned:void 0,shouldPinMaxUploadPrice:!1,maxUploadPriceTBPinned:void 0,uploadPackingEnabled:!0,minShards:void 0,totalShards:void 0};function c(e){return"mainnet"===e?{periodWeeks:new s.default(6),renewWindowWeeks:new s.default(2),amountHosts:new s.default(50),maxDowntimeHours:new s.default(336),maxConsecutiveScanFailures:new s.default(10),minProtocolVersion:"1.6.0",prune:!0}:{periodWeeks:new s.default(6),renewWindowWeeks:new s.default(2),amountHosts:new s.default(12),maxDowntimeHours:new s.default(336),maxConsecutiveScanFailures:new s.default(10),minProtocolVersion:"1.6.0",prune:!0}}function d(){return{hostBlockHeightLeeway:new s.default(6)}}function f(){return{}}function h(e){return{uploadPackingEnabled:!0,..."mainnet"===e?{minShards:new s.default(10),totalShards:new s.default(30)}:{minShards:new s.default(2),totalShards:new s.default(6)}}}function p(e){return{...c(e),...d(),...h(e)}}function m({gouging:e}){return{maxStoragePriceTBMonth:(0,a.toSiacoins)((0,o.valuePerBytePerBlockToPerTBPerMonth)(new s.default(e.maxStoragePrice)),6),maxUploadPriceTB:(0,a.toSiacoins)((0,o.valuePerByteToPerTB)(new s.default(e.maxUploadPrice)),6),maxDownloadPriceTB:(0,a.toSiacoins)((0,o.valuePerByteToPerTB)(new s.default(e.maxDownloadPrice)),6),maxContractPrice:(0,a.toSiacoins)(e.maxContractPrice,6),maxRPCPriceMillion:(0,a.toSiacoins)((0,o.valuePerOneToPerMillion)(new s.default(e.maxRPCPrice)),6),hostBlockHeightLeeway:new s.default(e.hostBlockHeightLeeway),minPriceTableValidityMinutes:new s.default((0,i.millisecondsInMinutes)(e.minPriceTableValidity)),minAccountExpiryDays:new s.default((0,i.millisecondsInDays)(e.minAccountExpiry)),minMaxEphemeralAccountBalance:(0,a.toSiacoins)(e.minMaxEphemeralAccountBalance,6)}}function g({autopilot:e,gouging:i,pinned:a,upload:u}){return{...function(e){if(!e)return l;let i=new s.default(e.contracts.amount),a=new s.default((0,r.blocksToWeeks)(e.contracts.period)),u=new s.default((0,r.blocksToWeeks)(e.contracts.renewWindow)),c=new s.default((0,t.toFixedMaxString)((0,o.valuePerPeriodToPerMonth)((0,n.bytesToTB)(e.contracts.download),e.contracts.period),2)),d=new s.default((0,t.toFixedMaxString)((0,o.valuePerPeriodToPerMonth)((0,n.bytesToTB)(e.contracts.upload),e.contracts.period),2));return{amountHosts:i,periodWeeks:a,renewWindowWeeks:u,downloadTBMonth:c,uploadTBMonth:d,storageTB:(0,n.bytesToTB)(new s.default(e.contracts.storage)),prune:e.contracts.prune,maxDowntimeHours:new s.default(e.hosts.maxDowntimeHours),maxConsecutiveScanFailures:new s.default(e.hosts.maxConsecutiveScanFailures),minProtocolVersion:e.hosts.minProtocolVersion||""}}(e),...m({gouging:i}),...{pinnedCurrency:a.currency,pinnedThreshold:new s.default(a.threshold).times(100),shouldPinMaxStoragePrice:a.gougingSettingsPins?.maxStorage.pinned,maxStoragePriceTBMonthPinned:new s.default(a.gougingSettingsPins.maxStorage.value),shouldPinMaxUploadPrice:a.gougingSettingsPins?.maxUpload.pinned,maxUploadPriceTBPinned:new s.default(a.gougingSettingsPins.maxUpload.value),shouldPinMaxDownloadPrice:a.gougingSettingsPins?.maxDownload.pinned,maxDownloadPriceTBPinned:new s.default(a.gougingSettingsPins.maxDownload.value)},...{uploadPackingEnabled:u.packing.enabled,minShards:new s.default(u.redundancy.minShards),totalShards:new s.default(u.redundancy.totalShards)}}}e.s(["getAdvancedDefaults",()=>p,"getAdvancedDefaultsAutopilot",()=>c,"getAdvancedDefaultsGouging",()=>d,"getAdvancedDefaultsPinned",()=>f,"getAdvancedDefaultsUpload",()=>h,"inputValues",0,u,"inputValuesAutopilot",0,l,"scDecimalPlaces",0,6],85671),e.s(["transformDown",()=>g,"transformDownGouging",()=>m],28589)},29665,4041,18011,45138,e=>{"use strict";var t=e.i(91398),r=e.i(91788);e.i(86663);var n=e.i(94235),i=e.i(8854),a=e.i(67885),o=e.i(57803),s=e.i(82820),l=e.i(86411),u=e.i(28589);e.i(94066);var c=e.i(27454),d=e.i(6922);e.i(86283);var f=e.i(63876),h=e.i(53658);e.i(25605);var p=e.i(5646);e.i(37869);var m=e.i(41399);function g(e){let{autopilotState:t,autopilot:r,gouging:n,pinned:i,upload:a}=e;return!!t.data&&!t.error&&!!r.data&&!r.error&&!!n.data&&!n.error&&!!i.data&&!i.error&&!!a.data&&!a.error&&e}var y=e.i(56115),b=e.i(8358),v=e.i(28787),x=e.i(34768),w=e.i(85671),S=e.i(40548);function k({resources:e,renterdState:t,values:r}){var n,i,a,o,s;let l,u,c,d,f=(n=t.network,i=e.autopilot.data,l=j(r,(0,w.getAdvancedDefaultsAutopilot)(n)),{...i,contracts:{...i?.contracts,amount:Math.round(l.amountHosts.toNumber()),period:Math.round((0,b.weeksToBlocks)(l.periodWeeks.toNumber())),renewWindow:Math.round((0,b.weeksToBlocks)(l.renewWindowWeeks.toNumber())),download:Number((0,x.valuePerMonthToPerPeriod)((0,v.TBToBytes)(l.downloadTBMonth),l.periodWeeks).toFixed(0)),upload:Number((0,x.valuePerMonthToPerPeriod)((0,v.TBToBytes)(l.uploadTBMonth),l.periodWeeks).toFixed(0)),storage:(0,v.TBToBytes)(l.storageTB).toNumber(),prune:l.prune},hosts:{...i?.hosts,maxDowntimeHours:l.maxDowntimeHours.toNumber(),maxConsecutiveScanFailures:l.maxConsecutiveScanFailures.toNumber(),scoreOverrides:i?.hosts.scoreOverrides||{},minProtocolVersion:l.minProtocolVersion}}),h=(a=e.gouging.data,u=j(r,(0,w.getAdvancedDefaultsGouging)()),{...a,maxRPCPrice:(0,y.toHastings)((0,x.valuePerMillionToPerOne)(u.maxRPCPriceMillion)).toString(),maxStoragePrice:(0,y.toHastings)((0,x.valuePerTBPerMonthToPerBytePerBlock)(u.maxStoragePriceTBMonth)).toString(),maxUploadPrice:(0,y.toHastings)((0,x.valuePerTBToPerByte)(u.maxUploadPriceTB)).toString(),maxDownloadPrice:(0,y.toHastings)((0,x.valuePerTBToPerByte)(u.maxDownloadPriceTB)).toString(),maxContractPrice:(0,y.toHastings)(u.maxContractPrice).toString(),hostBlockHeightLeeway:Math.round(u.hostBlockHeightLeeway.toNumber()||0),minPriceTableValidity:Math.round((0,m.minutesInMilliseconds)(u.minPriceTableValidityMinutes.toNumber()||0)),minAccountExpiry:Math.round((0,m.daysInMilliseconds)(u.minAccountExpiryDays.toNumber())),minMaxEphemeralAccountBalance:(0,y.toHastings)(u.minMaxEphemeralAccountBalance).toString()});return{payloads:{autopilot:f,gouging:h,pinned:(o=e.pinned.data,c=j(r,(0,w.getAdvancedDefaultsPinned)()),{...o,currency:c.pinnedCurrency,threshold:c.pinnedThreshold.div(100).toNumber(),gougingSettingsPins:{maxStorage:{pinned:c.shouldPinMaxStoragePrice,value:c.maxStoragePriceTBMonthPinned.toNumber()},maxDownload:{pinned:c.shouldPinMaxDownloadPrice,value:c.maxDownloadPriceTBPinned.toNumber()},maxUpload:{pinned:c.shouldPinMaxUploadPrice,value:c.maxUploadPriceTBPinned.toNumber()}}}),upload:(s=e.upload.data,d=j(r,(0,w.getAdvancedDefaultsUpload)("mainnet")),{...s,packing:{...s.packing,enabled:d.uploadPackingEnabled},redundancy:{...s.redundancy,minShards:d.minShards.toNumber(),totalShards:d.totalShards.toNumber()}})}}}function j(e,t){let r={...e};return(0,S.objectEntries)(r).forEach(([e,n])=>{let i=t[e];i&&(null==n||""===n)&&(r[e]=i)}),r}var C=e.i(58021),P=e.i(51281),_=e.i(79395),T=e.i(63761),E=e.i(65277),R=e.i(98774),M=e.i(88003),D=e.i(38499);function A(e){let t=(0,C.useWatch)({control:e.control,name:"pinnedCurrency"}),{rate:r}=(0,D.useDaemonExplorerExchangeRate)({currency:t||void 0});return{rate:r,pinnedCurrency:t}}e.s(["useFormExchangeRate",()=>A],4041),e.i(54413);var F=e.i(929),B=e.i(26069),N=e.i(33478),O=e.i(40480),I=e.i(4373);function z({minShards:e,totalShards:t}){return(0,r.useMemo)(()=>(0,I.getRedundancyMultiplier)(e,t),[e,t])}e.s(["useRedundancyMultiplier",()=>z],18011),e.i(71487);var U=e.i(76993);function L({children:e,tip:r,icon:n,iconColor:i}){return(0,t.jsx)(B.Tooltip,{align:"end",content:r,children:(0,t.jsxs)("div",{className:"flex gap-1 items-center relative overflow-hidden",children:[(0,t.jsx)(F.Text,{color:i,className:"flex relative",children:n}),e]})})}function H({form:e,priceInSiacoin:r,units:n}){let i=(0,C.useWatch)({control:e.control,name:"minShards"}),a=(0,C.useWatch)({control:e.control,name:"totalShards"}),o=z({minShards:i,totalShards:a});return r&&i&&a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(O.Separator,{}),(0,t.jsx)(L,{tip:(0,t.jsxs)(t.Fragment,{children:["Price per ",n," when factoring in the configured"," ",i?.toString()," of ",a?.toString()," redundancy."]}),icon:(0,t.jsx)(U.Calculation16,{}),children:(0,t.jsx)(N.ValueCurrency,{font:"sans",variant:"value",size:"12",fixed:0,showTooltip:!1,extendedSuffix:`/${n} with redundancy`,value:(0,y.toHastings)(r).times(o)})})]}):null}let W=(0,t.jsx)(t.Fragment,{children:"The system found a recommendation that would increase the number of usable hosts."});var V=e.i(81937),q=e.i(24271);function G(){let e=(0,h.useConsensusState)(),t=(0,V.useDaemonExplorerConsensusNetwork)({config:{swr:{revalidateOnFocus:!1}}}),n=e.data?.blockHeight,i=t.data?.hardforkV2.allowHeight,a=!n||!i||n>=i,o=(0,q.useDaemonExplorerHostMetrics)({config:{swr:{revalidateOnFocus:!1}}}),s=a?o.data?.v2Settings.prices.storagePrice:o.data?.settings.storageprice,l=a?o.data?.v2Settings.prices.ingressPrice:o.data?.settings.uploadbandwidthprice,u=a?o.data?.v2Settings.prices.egressPrice:o.data?.settings.downloadbandwidthprice,c=(0,r.useMemo)(()=>s?new T.default((0,x.valuePerBytePerBlockToPerTBPerMonth)((0,y.toSiacoins)(s)).toFixed(0)):void 0,[s]),d=(0,r.useMemo)(()=>l?new T.default((0,x.valuePerByteToPerTB)((0,y.toSiacoins)(l)).toFixed(0)):void 0,[l]),f=(0,r.useMemo)(()=>u?new T.default((0,x.valuePerByteToPerTB)((0,y.toSiacoins)(u)).toFixed(0)):void 0,[u]);return(0,r.useMemo)(()=>c&&d&&f?{storageMedian:c,uploadMedian:d,downloadMedian:f}:{},[c,d,f])}function K({form:e,fields:r,recommendations:n}){let{storageMedian:i}=G(),a=(0,C.useWatch)({control:e.control,name:"maxStoragePriceTBMonth"}),o=n?.maxStoragePriceTBMonth?.targetValue;return(0,t.jsxs)(t.Fragment,{children:[i&&(0,t.jsx)(R.TipNumber,{type:"siacoin",label:"Network median",tip:"Median price provided by Siascan.",decimalsLimit:0,value:(0,y.toHastings)(i),onClick:()=>{(0,M.formSetField)({form:e,fields:r,name:"maxStoragePriceTBMonth",value:i,options:!0})}}),o&&(0,t.jsx)(R.TipNumber,{type:"siacoin",label:"Match with more hosts",tip:W,decimalsLimit:0,value:(0,y.toHastings)(o),onClick:()=>(0,M.formSetField)({form:e,fields:r,name:"maxStoragePriceTBMonth",value:o,options:!0})}),(0,t.jsx)(H,{form:e,priceInSiacoin:a,units:"TB/month"})]})}function $({form:e,fields:r,recommendations:n}){let{storageMedian:i}=G(),{rate:a}=A(e),o=(0,C.useWatch)({control:e.control,name:"maxStoragePriceTBMonthPinned"}),s=o&&a?(0,y.fiatToSiacoin)(o,a):void 0,l=n?.maxStoragePriceTBMonthPinned?.targetValue,u=l&&a?(0,y.fiatToSiacoin)(l,a):void 0;return(0,t.jsxs)(t.Fragment,{children:[i&&a&&(0,t.jsx)(R.TipNumber,{type:"siacoin",label:"Network median",tip:"Median price provided by Siascan.",decimalsLimit:0,value:(0,y.toHastings)(i),onClick:()=>{(0,M.formSetField)({form:e,fields:r,name:"maxStoragePriceTBMonthPinned",value:i.times(a),options:!0})}}),u&&(0,t.jsx)(R.TipNumber,{type:"siacoin",label:"Match with more hosts",tip:W,decimalsLimit:0,value:(0,y.toHastings)(u),onClick:()=>(0,M.formSetField)({form:e,fields:r,name:"maxStoragePriceTBMonthPinned",value:l,options:!0})}),(0,t.jsx)(H,{form:e,priceInSiacoin:s,units:"TB/month"})]})}function Y({form:e,fields:r,recommendations:n}){let{uploadMedian:i}=G(),a=(0,C.useWatch)({control:e.control,name:"maxUploadPriceTB"}),o=n?.maxUploadPriceTB?.targetValue;return(0,t.jsxs)(t.Fragment,{children:[i&&(0,t.jsx)(R.TipNumber,{type:"siacoin",label:"Network median",tip:"Median price provided by Siascan.",decimalsLimit:0,value:(0,y.toHastings)(i),onClick:()=>{(0,M.formSetField)({form:e,fields:r,name:"maxUploadPriceTB",value:i,options:!0})}}),o&&(0,t.jsx)(R.TipNumber,{type:"siacoin",label:"Match with more hosts",tip:W,decimalsLimit:0,value:(0,y.toHastings)(o),onClick:()=>(0,M.formSetField)({form:e,fields:r,name:"maxUploadPriceTB",value:o,options:!0})}),(0,t.jsx)(H,{form:e,priceInSiacoin:a,units:"TB"})]})}function Z({form:e,fields:r,recommendations:n}){let{rate:i}=A(e),{uploadMedian:a}=G(),o=(0,C.useWatch)({control:e.control,name:"maxUploadPriceTBPinned"}),s=o&&i?(0,y.fiatToSiacoin)(o,i):void 0,l=n?.maxUploadPriceTBPinned?.targetValue,u=l&&i?(0,y.fiatToSiacoin)(l,i):void 0;return(0,t.jsxs)(t.Fragment,{children:[a&&i&&(0,t.jsx)(R.TipNumber,{type:"siacoin",label:"Network median",tip:"Median price provided by Siascan.",decimalsLimit:0,value:(0,y.toHastings)(a),onClick:()=>{(0,M.formSetField)({form:e,fields:r,name:"maxUploadPriceTBPinned",value:a.times(i),options:!0})}}),u&&(0,t.jsx)(R.TipNumber,{type:"siacoin",label:"Match with more hosts",tip:W,decimalsLimit:0,value:(0,y.toHastings)(u),onClick:()=>(0,M.formSetField)({form:e,fields:r,name:"maxUploadPriceTBPinned",value:l,options:!0})}),(0,t.jsx)(H,{form:e,priceInSiacoin:s,units:"TB"})]})}function X({form:e,fields:r,recommendations:n}){let{downloadMedian:i}=G(),a=n?.maxDownloadPriceTB?.targetValue;return(0,t.jsxs)(t.Fragment,{children:[i&&(0,t.jsx)(R.TipNumber,{type:"siacoin",label:"Network median",tip:"Median price provided by Siascan.",decimalsLimit:0,value:(0,y.toHastings)(i),onClick:()=>{(0,M.formSetField)({form:e,fields:r,name:"maxDownloadPriceTB",value:i,options:!0})}}),a&&(0,t.jsx)(R.TipNumber,{type:"siacoin",label:"Match with more hosts",tip:W,decimalsLimit:0,value:(0,y.toHastings)(a),onClick:()=>(0,M.formSetField)({form:e,fields:r,name:"maxDownloadPriceTB",value:a,options:!0})})]})}function J({form:e,fields:r,recommendations:n}){let{rate:i}=A(e),{downloadMedian:a}=G(),o=n?.maxDownloadPriceTBPinned?.targetValue,s=o&&i?(0,y.fiatToSiacoin)(o,i):null;return(0,t.jsxs)(t.Fragment,{children:[a&&i&&(0,t.jsx)(R.TipNumber,{type:"siacoin",label:"Network median",tip:"Median price provided by Siascan.",decimalsLimit:0,value:(0,y.toHastings)(a),onClick:()=>{(0,M.formSetField)({form:e,fields:r,name:"maxDownloadPriceTBPinned",value:a.times(i),options:!0})}}),s&&(0,t.jsx)(R.TipNumber,{type:"siacoin",label:"Match with more hosts",tip:W,decimalsLimit:0,value:(0,y.toHastings)(s),onClick:()=>(0,M.formSetField)({form:e,fields:r,name:"maxDownloadPriceTBPinned",value:o,options:!0})})]})}function Q({form:e,fields:r,recommendations:n}){let i=n?.maxRPCPriceMillion?.targetValue;return(0,t.jsx)(t.Fragment,{children:i&&(0,t.jsx)(R.TipNumber,{type:"siacoin",label:"Match with more hosts",tip:W,decimalsLimit:0,value:(0,y.toHastings)(i),onClick:()=>(0,M.formSetField)({form:e,fields:r,name:"maxRPCPriceMillion",value:i,options:!0})})})}function ee({form:e,fields:r,recommendations:n}){let i=n?.maxContractPrice?.targetValue;return(0,t.jsx)(t.Fragment,{children:i&&(0,t.jsx)(R.TipNumber,{type:"siacoin",label:"Match with more hosts",tip:W,decimalsLimit:0,value:(0,y.toHastings)(i),onClick:()=>(0,M.formSetField)({form:e,fields:r,name:"maxContractPrice",value:i,options:!0})})})}function et({advancedDefaults:e,recommendations:r,configViewMode:n,validationContext:i}){return{storageTB:{type:"number",category:"storage",title:"Expected storage",description:(0,t.jsx)(t.Fragment,{children:"The amount of storage you would like to rent in TB."}),units:"TB",validation:{required:"required"}},uploadTBMonth:{type:"number",category:"storage",title:"Expected upload",description:(0,t.jsx)(t.Fragment,{children:"The amount of upload bandwidth you plan to use each month in TB."}),units:"TB/month",validation:{required:"required"}},downloadTBMonth:{type:"number",category:"storage",title:"Expected download",description:(0,t.jsx)(t.Fragment,{children:"The amount of download bandwidth you plan to use each month in TB."}),units:"TB/month",validation:{required:"required"}},periodWeeks:{type:"number",category:"storage",title:"Period",description:(0,t.jsx)(t.Fragment,{children:"The length of the storage contracts."}),units:"weeks",suggestion:e?.periodWeeks,suggestionTip:`Typically ${e?.periodWeeks} weeks.`,hidden:"basic"===n,validation:{validate:{required:er(i)}}},renewWindowWeeks:{type:"number",category:"storage",title:"Renew window",description:(0,t.jsx)(t.Fragment,{children:"The number of weeks prior to contract expiration that Sia will attempt to renew your contracts."}),units:"weeks",decimalsLimit:6,suggestion:e?.renewWindowWeeks,suggestionTip:`Typically ${e?.renewWindowWeeks} weeks.`,hidden:"basic"===n,validation:{validate:{required:er(i)}}},amountHosts:{type:"number",category:"storage",title:"Hosts",description:(0,t.jsx)(t.Fragment,{children:"The number of hosts to create contracts with."}),units:"hosts",decimalsLimit:0,suggestion:e?.amountHosts,suggestionTip:`Typically ${e?.amountHosts} hosts.`,hidden:"basic"===n,validation:{validate:{required:er(i)}}},prune:{type:"boolean",category:"storage",title:"Prune sector roots",description:(0,t.jsx)(t.Fragment,{children:"When enabled, autopilot will try to prune deleted sector roots from contracts one contract at a time, for a max duration of 10 minutes per contract. For old hosts this process takes quite a while, while for new hosts it is fast. For new hosts pruning effectively deletes data from the contract, allowing the renter to stop paying for storage they are not using."}),suggestion:e?.prune,suggestionTip:(0,t.jsxs)(t.Fragment,{children:["The default value is ",(0,t.jsx)(P.Code,{children:e?.prune}),"."]}),hidden:"basic"===n,validation:{}},maxDowntimeHours:{type:"number",category:"hosts",title:"Max downtime",description:(0,t.jsx)(t.Fragment,{children:"The maximum amount of host downtime that autopilot will tolerate in hours."}),units:"hours",suggestion:e?.maxDowntimeHours,suggestionTip:e?.maxDowntimeHours?`Defaults to ${e?.maxDowntimeHours.toNumber().toLocaleString()} which is ${(0,_.toFixedMaxString)(new T.default((0,m.hoursInDays)(e?.maxDowntimeHours.toNumber())),1)} days.`:void 0,hidden:"basic"===n,validation:{validate:{required:er(i)}}},maxConsecutiveScanFailures:{type:"number",category:"hosts",title:"Max consecutive scan failures",description:(0,t.jsx)(t.Fragment,{children:"The maximum number of consecutive scan failures that autopilot will tolerate."}),units:"scans",decimalsLimit:0,suggestion:e?.maxConsecutiveScanFailures,suggestionTip:e?.maxConsecutiveScanFailures?`Defaults to ${e?.maxConsecutiveScanFailures.toNumber()}.`:void 0,hidden:"basic"===n,validation:{validate:{required:er(i)}}},minProtocolVersion:{type:"text",category:"hosts",title:"Min protocol version",description:(0,t.jsx)(t.Fragment,{children:"The minimum protocol version that autopilot will consider when forming contracts with hosts."}),suggestion:e?.minProtocolVersion,suggestionTip:`Defaults to ${e?.minProtocolVersion}.`,hidden:"basic"===n,validation:{validate:{required:er(i),version:er(i,e=>/^\d+\.\d+\.\d+$/.test(e||"")||"must be a valid version number")}}},uploadPackingEnabled:{category:"uploadpacking",type:"boolean",title:"Upload packing",description:(0,t.jsx)(t.Fragment,{children:"Data on the Sia network is stored in 4MiB sectors. With the default 10 of 30 redundancy scheme, uploaded files are split into 40MiB chunks and encoded into 120MiB slabs. This means that storage is wasted on padding and files smaller than 40MiB still use 120MiB of space. The redundancy scheme can be configured, but unless all files are exactly 4MiB * the redundancy's minimum shards, there will always be wasted storage. Upload packing avoids this waste by buffering files and packing them together before they are uploaded to the network. This trades some performance for storage efficiency. It is also important to note that because buffered files are temporarily stored on disk they must be considered when backing up your renterd data."}),hidden:"basic"===n,validation:{}},shouldPinMaxStoragePrice:{title:"",description:"",type:"boolean",category:"gouging",validation:{}},maxStoragePriceTBMonth:{category:"gouging",type:"siacoin",title:"Max storage price",description:(0,t.jsx)(t.Fragment,{children:"The max allowed price a host is allowed to charge to store 1 TB worth of data per month. Choose whether to set the price in siacoin per TB per month or to pin the siacoin price to a fixed fiat value per TB per month."}),units:"SC/TB/month",decimalsLimitSc:6,validation:{required:"required"},after:({form:e,fields:n})=>(0,t.jsx)(K,{form:e,fields:n,recommendations:r})},maxStoragePriceTBMonthPinned:{title:"",description:"",units:"/TB/month",type:"fiat",category:"gouging",validation:{validate:{required:en("shouldPinMaxStoragePrice",(e,t)=>!t.shouldPinMaxStoragePrice||!!e||"required"),currency:en("shouldPinMaxStoragePrice",(e,t)=>!!t.pinnedCurrency||"must select a pinned currency"),range:en("shouldPinMaxStoragePrice",(e,t)=>!t.shouldPinMaxStoragePrice||e?.gt(0)||"must be greater than 0")}},after:({form:e,fields:n})=>(0,t.jsx)($,{form:e,fields:n,recommendations:r})},shouldPinMaxUploadPrice:{title:"",description:"",type:"boolean",category:"gouging",validation:{}},maxUploadPriceTB:{category:"gouging",type:"siacoin",title:"Max upload price",description:(0,t.jsx)(t.Fragment,{children:"The max allowed price a host is allowed to charge for uploading 1 TB worth of data. Choose whether to set the price in siacoin per TB or to pin the siacoin price to a fixed fiat value per TB."}),units:"SC/TB",decimalsLimitSc:6,validation:{required:"required"},after:({form:e,fields:n})=>(0,t.jsx)(Y,{form:e,fields:n,recommendations:r})},maxUploadPriceTBPinned:{title:"",description:"",units:"/TB",type:"fiat",category:"gouging",validation:{validate:{required:en("shouldPinMaxUploadPrice",(e,t)=>!t.shouldPinMaxUploadPrice||!!e||"required"),currency:en("shouldPinMaxUploadPrice",(e,t)=>!!t.pinnedCurrency||"must select a pinned currency"),range:en("shouldPinMaxUploadPrice",(e,t)=>!t.shouldPinMaxUploadPrice||e?.gt(0)||"must be greater than 0")}},after:({form:e,fields:n})=>(0,t.jsx)(Z,{form:e,fields:n,recommendations:r})},shouldPinMaxDownloadPrice:{title:"",description:"",type:"boolean",category:"gouging",validation:{}},maxDownloadPriceTB:{category:"gouging",type:"siacoin",title:"Max download price",description:(0,t.jsx)(t.Fragment,{children:"The max allowed price to download 1 TB. Choose whether to set the price in siacoin per TB or to pin the siacoin price to a fixed fiat value per TB."}),units:"SC/TB",decimalsLimitSc:6,validation:{required:"required"},after:({form:e,fields:n})=>(0,t.jsx)(X,{form:e,fields:n,recommendations:r})},maxDownloadPriceTBPinned:{title:"",description:"",units:"/TB",type:"fiat",category:"gouging",validation:{validate:{required:en("shouldPinMaxDownloadPrice",(e,t)=>!t.shouldPinMaxDownloadPrice||!!e||"required"),currency:en("shouldPinMaxDownloadPrice",(e,t)=>!!t.pinnedCurrency||"must select a pinned currency"),range:en("shouldPinMaxDownloadPrice",(e,t)=>!t.shouldPinMaxDownloadPrice||e?.gt(0)||"must be greater than 0")}},after:({form:e,fields:n})=>(0,t.jsx)(J,{form:e,fields:n,recommendations:r})},maxContractPrice:{category:"gouging",type:"siacoin",title:"Max contract price",description:(0,t.jsx)(t.Fragment,{children:"The max allowed price to form a contract."}),suggestion:new T.default(1),suggestionTip:"The suggested value is 1 SC.",decimalsLimitSc:6,tipsDecimalsLimitSc:0,hidden:"basic"===n,validation:{validate:{required:er(i)}},after:({form:e,fields:n})=>(0,t.jsx)(ee,{form:e,fields:n,recommendations:r})},maxRPCPriceMillion:{category:"gouging",type:"siacoin",title:"Max RPC price",description:(0,t.jsx)(t.Fragment,{children:"The max allowed base price for RPCs in siacoins per million calls."}),units:"SC/million",decimalsLimitSc:6,suggestion:new T.default(10),suggestionTip:"The suggested value is 10 SC.",tipsDecimalsLimitSc:0,hidden:"basic"===n,validation:{validate:{required:er(i)}},after:({form:e,fields:n})=>(0,t.jsx)(Q,{form:e,fields:n,recommendations:r})},hostBlockHeightLeeway:{category:"gouging",type:"number",title:"Block height leeway",description:(0,t.jsx)(t.Fragment,{children:"The amount of blocks of leeway given to the host block height in the host's price table."}),units:"blocks",decimalsLimit:0,...r.hostBlockHeightLeeway?{suggestionLabel:"Match with more hosts",suggestion:r.hostBlockHeightLeeway?.targetValue,suggestionTip:"This value will help you match with more hosts."}:{suggestion:e?.hostBlockHeightLeeway,suggestionTip:`The recommended value is ${e?.hostBlockHeightLeeway.toNumber().toLocaleString()} blocks.`},hidden:"basic"===n,validation:{validate:{required:er(i),min:er(i,e=>new T.default(e||0).gte(3)||"must be at least 3 blocks")}}},minPriceTableValidityMinutes:{category:"gouging",type:"number",title:"Min price table validity",units:"minutes",description:(0,t.jsx)(t.Fragment,{children:"The min accepted value for `Validity` in the host's price settings."}),hidden:"basic"===n,suggestionLabel:"Match with more hosts",suggestion:r.minPriceTableValidityMinutes?.targetValue,suggestionTip:"This value will help you match with more hosts.",validation:{validate:{required:er(i),min:er(i,e=>new T.default(e||0).gte((0,m.secondsInMinutes)(10))||"must be at least 10 seconds")}}},minAccountExpiryDays:{category:"gouging",type:"number",title:"Min account expiry",units:"days",description:(0,t.jsx)(t.Fragment,{children:"The min accepted value for `AccountExpiry` in the host's price settings."}),hidden:"basic"===n,decimalsLimit:4,suggestionLabel:"Match with more hosts",suggestion:r.minAccountExpiryDays?.targetValue,suggestionTip:"This value will help you match with more hosts.",validation:{validate:{required:er(i),min:er(i,e=>new T.default(e||0).gte((0,m.hoursInDays)(1))||"must be at least 1 hour")}}},minMaxEphemeralAccountBalance:{category:"gouging",type:"siacoin",title:"Min max ephemeral account balance",description:(0,t.jsx)(t.Fragment,{children:"The min accepted value for `MaxEphemeralAccountBalance` in the host's price settings."}),decimalsLimitSc:6,hidden:"basic"===n,suggestionLabel:"Match with more hosts",suggestion:r.minMaxEphemeralAccountBalance?.targetValue,suggestionTip:"This value will help you match with more hosts.",validation:{validate:{required:er(i),min:er(i,e=>new T.default(e||0).gte(1)||"must be at least 1 SC")}}},minShards:{type:"number",category:"redundancy",title:"Min shards",description:(0,t.jsx)(t.Fragment,{children:"The min amount of shards needed to reconstruct a slab."}),suggestion:e?.minShards,suggestionTip:`Typically ${e?.minShards} shards.`,units:"shards",hidden:"basic"===n,validation:{validate:{required:er(i),min:er(i,e=>new T.default(e||0).gt(0)||"must be greater than 0")}},trigger:["totalShards"]},totalShards:{type:"number",category:"redundancy",title:"Total shards",description:(0,t.jsx)(t.Fragment,{children:"The total amount of shards for each slab."}),suggestion:e?.totalShards,suggestionTip:`Typically ${e?.totalShards} shards.`,units:"shards",hidden:"basic"===n,validation:{validate:{required:er(i),gteMinShards:er(i,(e,t)=>new T.default(e||0).gte(t.minShards||0)||"must be at least equal to min shards"),lteNumHosts:er(i,(e,t)=>new T.default(e||0).lte(t.amountHosts||0)||"must be less than or equal to number of hosts"),max:er(i,e=>new T.default(e||0).lt(256)||"must be less than 256")}}},pinnedCurrency:{category:"pinning",title:"Pinned currency",description:"Currency to use for fields where price pinning is enabled.",type:"select",options:[...E.currencyOptions.map(({id:e,label:t})=>({label:t,value:e})),{label:"none",value:""}],validation:{required:"required"}},pinnedThreshold:{category:"pinning",title:"Pinned currency change threshold",type:"number",suggestionTip:"A threshold of 2% is recommended.",suggestion:new T.default(2),units:"%",decimalsLimit:0,description:(0,t.jsx)(t.Fragment,{children:"Percentage that controls the minimum change in exchange rate that will trigger an update to pinned prices. This prevents the host from changing prices too often."}),validation:{required:"required",validate:{max:e=>new T.default(e||0).lte(100)||"must be at most 100%",min:e=>new T.default(e||0).gte(0)||"must be at least 0%"}}}}}function er(e,t){return(r,n)=>"advanced"!==e.configViewMode||(t?t(r,n):!!r||"required")}function en(e,t){return(r,n)=>!n[e]||(t?t(r,n):!!r||"required")}var ei=e.i(42431),ea=e.i(59999);function eo({form:e}){let t=(0,C.useWatch)({control:e.control,name:"shouldPinMaxStoragePrice"}),n=(0,C.useWatch)({control:e.control,name:"shouldPinMaxDownloadPrice"}),i=(0,C.useWatch)({control:e.control,name:"shouldPinMaxUploadPrice"}),a=(0,C.useWatch)({control:e.control,name:"maxStoragePriceTBMonth"}),o=(0,C.useWatch)({control:e.control,name:"maxStoragePriceTBMonthPinned"}),s=(0,C.useWatch)({control:e.control,name:"maxDownloadPriceTB"}),l=(0,C.useWatch)({control:e.control,name:"maxDownloadPriceTBPinned"}),u=(0,C.useWatch)({control:e.control,name:"maxUploadPriceTB"}),c=(0,C.useWatch)({control:e.control,name:"maxUploadPriceTBPinned"}),{rate:d}=A(e),f=t||n||i;return(0,r.useMemo)(()=>{if((!f||d)&&(!t||o)&&(!n||l)&&(!i||c))return{maxStoragePriceTBMonth:t&&o&&d?(0,y.fiatToSiacoin)(o,d):a,maxDownloadPriceTB:n&&l&&d?(0,y.fiatToSiacoin)(l,d):s,maxUploadPriceTB:i&&c&&d?(0,y.fiatToSiacoin)(c,d):u}},[f,d,t,o,n,l,i,c,a,s,u])}e.s(["useEnabledPricingValuesInSiacoin",()=>eo],45138);let es=et({validationContext:{configViewMode:"basic"},configViewMode:"basic",recommendations:{}}),el={maxStoragePriceTBMonth:"maxStoragePriceTBMonthGroup",maxDownloadPriceTB:"maxDownloadPriceTBGroup",maxUploadPriceTB:"maxUploadPriceTBGroup",maxRPCPriceMillion:"maxRPCPriceMillionGroup",maxStoragePriceTBMonthPinned:"maxStoragePriceTBMonthGroup",maxUploadPriceTBPinned:"maxUploadPriceTBGroup",maxDownloadPriceTBPinned:"maxDownloadPriceTBGroup",maxContractPrice:"maxContractPrice",hostBlockHeightLeeway:"hostBlockHeightLeeway",minPriceTableValidityMinutes:"minPriceTableValidityMinutes",minAccountExpiryDays:"minAccountExpiryDays",minMaxEphemeralAccountBalance:"minMaxEphemeralAccountBalance"},eu={maxStoragePriceTBMonth:"max storage price",maxDownloadPriceTB:"max download price",maxUploadPriceTB:"max upload price",maxRPCPriceMillion:"max RPC price",maxStoragePriceTBMonthPinned:"max storage price",maxUploadPriceTBPinned:"max upload price",maxDownloadPriceTBPinned:"max download price",maxContractPrice:"max contract price",hostBlockHeightLeeway:"host block height leeway",minPriceTableValidityMinutes:"min price table validity",minAccountExpiryDays:"min account expiry",minMaxEphemeralAccountBalance:"min max ephemeral account balance"},ec={amountHosts:new T.default(0),periodWeeks:new T.default(0),renewWindowWeeks:new T.default(0),downloadTBMonth:new T.default(0),uploadTBMonth:new T.default(0),storageTB:new T.default(0),prune:!1,maxDowntimeHours:new T.default(0),maxConsecutiveScanFailures:new T.default(0),minProtocolVersion:"",uploadPackingEnabled:!0,maxRPCPriceMillion:new T.default(0),shouldPinMaxStoragePrice:!1,maxStoragePriceTBMonth:new T.default(0),maxStoragePriceTBMonthPinned:new T.default(0),maxContractPrice:new T.default(0),shouldPinMaxDownloadPrice:!1,maxDownloadPriceTB:new T.default(0),maxDownloadPriceTBPinned:new T.default(0),shouldPinMaxUploadPrice:!1,maxUploadPriceTB:new T.default(0),maxUploadPriceTBPinned:new T.default(0),hostBlockHeightLeeway:new T.default(0),minPriceTableValidityMinutes:new T.default(0),minAccountExpiryDays:new T.default(0),minMaxEphemeralAccountBalance:new T.default(0),minShards:new T.default(0),totalShards:new T.default(0),pinnedCurrency:"usd",pinnedThreshold:new T.default(0)},ed=(0,r.createContext)({});function ef({children:e}){let b=function(){let e,t,b,v,x,{autopilotState:j,autopilot:P,gouging:_,pinned:T,upload:R,resources:M}=(e=(0,f.useAutopilotState)({config:{swr:{refreshInterval:(0,m.minutesInMilliseconds)(1)}}}),t=(0,h.useAutopilotConfig)({config:{swr:{refreshInterval:(0,m.minutesInMilliseconds)(1)}}}),b=(0,h.useSettingsGouging)({config:{swr:{refreshInterval:(0,m.minutesInMilliseconds)(1)}}}),v=(0,h.useSettingsPinned)({config:{swr:{refreshInterval:(0,m.minutesInMilliseconds)(1)}}}),x=(0,h.useSettingsUpload)({config:{swr:{refreshInterval:(0,m.minutesInMilliseconds)(1)}}}),{resources:(0,r.useMemo)(()=>({autopilotState:{data:e.data,error:e.error},autopilot:{data:t.data,error:t.error},gouging:{data:b.data,error:b.error},pinned:{data:v.data,error:v.error},upload:{data:x.data,error:x.error}}),[e.data,e.error,t.data,t.error,b.data,b.error,v.data,v.error,x.data,x.error]),autopilotState:e,autopilot:t,gouging:b,pinned:v,upload:x}),{form:D,storageTB:F,evaluation:B,redundancyMultiplier:N,fields:O,configViewMode:z,setConfigViewMode:U}=function({resources:e}){let t=(0,C.useForm)({mode:"all",defaultValues:w.inputValues}),n=(0,C.useWatch)({control:t.control,name:"maxStoragePriceTBMonth"}),i=(0,C.useWatch)({control:t.control,name:"maxDownloadPriceTB"}),a=(0,C.useWatch)({control:t.control,name:"maxUploadPriceTB"}),o=(0,C.useWatch)({control:t.control,name:"storageTB"}),s=(0,C.useWatch)({control:t.control,name:"downloadTBMonth"}),l=(0,C.useWatch)({control:t.control,name:"uploadTBMonth"}),c=(0,C.useWatch)({control:t.control,name:"minShards"}),d=(0,C.useWatch)({control:t.control,name:"totalShards"}),p=(0,r.useMemo)(()=>(0,I.getRedundancyMultiplier)(c,d),[c,d]),[m,b]=(0,ei.default)("v0/config/mode",{defaultValue:"basic"});(0,r.useEffect)(()=>{t.trigger()},[t]),(0,r.useEffect)(()=>{t.trigger()},[m]);let v=function({form:e,resources:t}){let n=(0,C.useWatch)({control:e.control}),i=(0,h.useBusState)(),a=(0,r.useMemo)(()=>!!g(t)&&!!e.formState.isValid&&!!i.data,[e.formState.isValid,t,i.data]),o=eo({form:e}),s=(0,r.useMemo)(()=>(function(e,t="mainnet"){let r=(0,w.getAdvancedDefaults)(t),n={...ec,...r};return(0,S.objectEntries)(e).forEach(([e,t])=>{void 0!==t&&(n[e]=t)}),n})({...n,...o},i.data?.network),[n,o,i.data?.network]),l=(0,r.useMemo)(()=>{if(!a||!i.data)return;let{payloads:e}=k({resources:t,renterdState:i.data,values:s});return e},[s,t,i,a]),c=l?.autopilot?.contracts.amount||0,d=Math.round(1.5*c),p=Math.round(1.1*c),m=!!l,b=(0,f.useAutopilotConfigEvaluate)({disabled:!m,payload:{gougingSettings:l?.gouging,redundancySettings:l?.upload.redundancy,autopilotConfig:l?.autopilot},config:{swr:{keepPreviousData:m}}}),v=b.data?.recommendation?.gougingSettings,x=b.data?.usable||0,j=b.data&&x<d,P=!!l,_=(0,f.useAutopilotConfigEvaluate)({disabled:!P,payload:{gougingSettings:l?.gouging,redundancySettings:l?.upload.redundancy,autopilotConfig:{...l?.autopilot,contracts:{...l?.autopilot?.contracts,amount:d}}},config:{swr:{keepPreviousData:P}}}),T=_.data?.recommendation?.gougingSettings,R=!!(l&&!T),M=(0,f.useAutopilotConfigEvaluate)({disabled:!R,payload:{gougingSettings:l?.gouging,redundancySettings:l?.upload.redundancy,autopilotConfig:{...l?.autopilot,contracts:{...l?.autopilot?.contracts,amount:p}}},config:{swr:{keepPreviousData:R}}}),D=M.data?.recommendation?.gougingSettings,F=T||D||v,B=!!(l&&F),N=(0,f.useAutopilotConfigEvaluate)({disabled:!B,payload:{gougingSettings:F,redundancySettings:l?.upload.redundancy,autopilotConfig:l?.autopilot},config:{swr:{keepPreviousData:B}}}),O=N.data?.usable||0,I=(0,C.useWatch)({control:e.control,name:"shouldPinMaxStoragePrice"}),z=(0,C.useWatch)({control:e.control,name:"shouldPinMaxUploadPrice"}),U=(0,C.useWatch)({control:e.control,name:"shouldPinMaxDownloadPrice"}),L=(0,r.useCallback)(e=>{let t={maxStoragePriceTBMonth:!I,maxUploadPriceTB:!z,maxDownloadPriceTB:!U,maxStoragePriceTBMonthPinned:I,maxUploadPriceTBPinned:z,maxDownloadPriceTBPinned:U};return void 0===t[e]||t[e]},[I,z,U]),{pinnedCurrency:H,rate:W}=A(e),V=(0,r.useMemo)(()=>{if(!l||!F||O-x<=0)return[];let e=(0,u.transformDownGouging)({gouging:F}),t=function({exchangeRate:e,maxStoragePriceTBMonth:t,maxDownloadPriceTB:r,maxUploadPriceTB:n}){if(e)return{maxStoragePriceTBMonthPinned:(0,y.siacoinToFiat)(t,e),maxDownloadPriceTBPinned:(0,y.siacoinToFiat)(r,e),maxUploadPriceTBPinned:(0,y.siacoinToFiat)(n,e)}}({exchangeRate:W,maxStoragePriceTBMonth:e.maxStoragePriceTBMonth,maxDownloadPriceTB:e.maxDownloadPriceTB,maxUploadPriceTB:e.maxUploadPriceTB}),r={...e,...t},n=[];return Object.entries(r).forEach(([e,t])=>{if(!L(e))return;let r=s[e];if(t.minus(r).div(r).times(100).lte(1))return;let i=function({key:e,currentValue:t,targetValue:r,currencyId:n}){let i=t.lt(r)?"up":"down",a={key:e,hrefId:el[e],title:eu[e],currentValue:t,targetValue:r,direction:i,currentLabel:"",targetLabel:""};if("siacoin"===es[e].type){let n=t=>`${(0,y.humanSiacoin)((0,y.toHastings)(t),{fixed:1})}${es[e].units?.replace("SC/","/")||""}`;a.currentLabel=n(t),a.targetLabel=n(r)}if("number"===es[e].type){let n=t=>`${(0,ea.humanNumber)(t)} ${es[e].units}`;a.currentLabel=n(t),a.targetLabel=n(r)}if("fiat"===es[e].type){let i=E.currencyOptions.find(e=>e.id===n),o=t=>`${i?.prefix}${(0,ea.humanNumber)(t,{fixed:i.fixed})} ${i?.label}${es[e].units}`;a.currentLabel=o(t),a.targetLabel=o(r)}return a}({key:e,currentValue:r,targetValue:t,currencyId:H});n.push(i)}),n},[F,l,s,L,H,x,O,W]);return{hostMargin50:.5,hostMargin10:.1,hostTarget50:d,hostTarget10:p,usableHostsCurrent:x,userContractCountTarget:c,usableHostsAfterRecommendation:O,hasDataToEvaluate:a,needsRecommendations:j,foundRecommendation:!!V.length,recommendations:V,recommendationMargin:T?"50%":D?"10%":v?"0%":"N/A"}}({form:t,resources:e}),x=(0,h.useBusState)(),j=(0,r.useRef)({configViewMode:m});return(0,r.useEffect)(()=>{j.current.configViewMode=m},[m]),{form:t,fields:(0,r.useMemo)(()=>{let e=x.data?(0,w.getAdvancedDefaults)(x.data.network):void 0,t=v.recommendations.reduce((e,t)=>({...e,[t.key]:t}),{});return et({validationContext:j.current,configViewMode:m,advancedDefaults:e,recommendations:t})},[m,x.data,v.recommendations]),evaluation:v,maxStoragePriceTBMonth:n,maxDownloadPriceTB:i,maxUploadPriceTB:a,storageTB:o,downloadTBMonth:s,uploadTBMonth:l,minShards:c,totalShards:d,redundancyMultiplier:p,configViewMode:m,setConfigViewMode:b}}({resources:M}),L=(0,r.useMemo)(()=>{let e=g(M);if(e)return(0,u.transformDown)({autopilot:e.autopilot.data,gouging:e.gouging.data,pinned:e.pinned.data,upload:e.upload.data})},[M]),H=(0,r.useMemo)(()=>(function({gouging:e,pinned:t,upload:r}){return!!(e.error||t.error||r.error)})(M),[M]),W=(0,r.useCallback)(async()=>{let e=await j.mutate(),t=await P.mutate(),r=await _.mutate(),n=await T.mutate(),a=await R.mutate();e&&t&&r&&a&&n?D.reset((0,u.transformDown)({autopilot:t,gouging:r,pinned:n,upload:a})):(0,i.triggerErrorToast)({title:"Error fetching settings"})},[D,j,P,_,T,R]);(0,o.useFormInit)({form:D,remoteValues:L}),(0,s.useFormServerSynced)({form:D,remoteValues:L});let{changeCount:V}=(0,a.useFormChangeCount)({form:D}),q=function({resources:e,revalidateAndResetForm:t}){let n=(0,f.useAutopilotTrigger)(),a=(0,h.useAutopilotConfigUpdate)(),o=(0,h.useSettingsGougingUpdate)(),s=(0,h.useSettingsPinnedUpdate)(),l=(0,h.useSettingsUploadUpdate)(),u=(0,h.useBusState)(),m=(0,d.useMutate)();return(0,r.useCallback)(async r=>{let d=g(e);if(!d||!u.data)return;let{payloads:f}=k({resources:d,renterdState:u.data,values:r}),h=[a.put({payload:f.autopilot}),o.put({payload:f.gouging}),s.put({payload:f.pinned}),l.put({payload:f.upload})],y=(await Promise.all(h)).find(e=>e.error);y?(0,i.triggerErrorToast)({title:"Error updating configuration",body:y.error}):(n.post({payload:{forceScan:!0}}),(0,i.triggerSuccessToast)({title:"Configuration has been saved"}),(async()=>{await (0,c.delay)(5e3),m(e=>e.startsWith(p.busHostsRoute))})(),await t())},[e,u.data,a,o,s,l,t,n,m])}({resources:M,revalidateAndResetForm:W}),G=(0,l.useOnInvalid)(O),K=(0,r.useMemo)(()=>D.handleSubmit(q,G),[D,q,G]),$=(0,r.useRef)(null),Y=(0,r.useCallback)(async e=>{$.current&&(0,n.nodeToImage)($.current,e)},[]);return{onSubmit:K,revalidateAndResetForm:W,form:D,fields:O,changeCount:V,redundancyMultiplier:N,storageTB:F,configViewMode:z,setConfigViewMode:U,remoteError:H,configRef:$,takeScreenshot:Y,evaluation:B}}();return(0,t.jsx)(ed.Provider,{value:b,children:e})}e.s(["ConfigProvider",()=>ef,"useConfig",0,()=>(0,r.useContext)(ed)],29665)},66487,39389,8505,23683,e=>{"use strict";e.s(["ConfigCmdGroup",()=>l],66487);var t=e.i(91398),r=e.i(43652),n=e.i(17837),i=e.i(84588),a=e.i(91962),o=e.i(29665);let s={namespace:"configuration",label:"Configuration"};function l({currentPage:e,parentPage:l,pushPage:u}){let c=(0,n.useRouter)(),{configViewMode:d}=(0,o.useConfig)(),{closeDialog:f}=(0,i.useDialog)();return(0,t.jsxs)(a.CommandGroup,{currentPage:e,commandPage:s,children:[(0,t.jsx)(a.CommandItemNav,{currentPage:e,parentPage:l,commandPage:s,onSelect:()=>{u(s)},children:s.label}),(0,t.jsx)(a.CommandItemSearch,{currentPage:e,commandPage:s,onSelect:()=>{c.push(r.routes.config.index),f()},children:"Open configuration"}),(0,t.jsx)(a.CommandItemSearch,{currentPage:e,commandPage:s,onSelect:()=>{c.push(r.routes.config.storage),f()},children:"Configure storage"}),(0,t.jsx)(a.CommandItemSearch,{currentPage:e,commandPage:s,onSelect:()=>{c.push(r.routes.config.pricing),f()},children:"Configure pricing"}),"advanced"===d&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.CommandItemSearch,{currentPage:e,commandPage:s,onSelect:()=>{c.push(r.routes.config.hosts),f()},children:"Configure hosts"}),(0,t.jsx)(a.CommandItemSearch,{currentPage:e,commandPage:s,onSelect:()=>{c.push(r.routes.config.wallet),f()},children:"Configure wallet"}),(0,t.jsx)(a.CommandItemSearch,{currentPage:e,commandPage:s,onSelect:()=>{c.push(r.routes.config.contracts),f()},children:"Configure contracts"}),(0,t.jsx)(a.CommandItemSearch,{currentPage:e,commandPage:s,onSelect:()=>{c.push(r.routes.config.uploads),f()},children:"Configure uploads"}),(0,t.jsx)(a.CommandItemSearch,{currentPage:e,commandPage:s,onSelect:()=>{c.push(r.routes.config.redundancy),f()},children:"Configure redundancy"})]})]})}e.i(37869);var u=e.i(41399);let c={namespace:"contracts/filterExpiryDate",label:"Contracts filter by expiry date"},d=[{id:"expiry",value:"day",label:"expires today",fn:e=>{let t=new Date().getTime(),r=t+(0,u.daysInMilliseconds)(1);return e.endTime<r&&e.endTime>t}},{id:"expiry",value:"week",label:"expires this week",fn:e=>{let t=new Date().getTime(),r=t+(0,u.weeksInMilliseconds)(1);return e.endTime<r&&e.endTime>t}},{id:"expiry",value:"month",label:"expires this month",fn:e=>{let t=new Date().getTime(),r=t+(0,u.monthsInMilliseconds)(1);return e.endTime<r&&e.endTime>t}},{id:"expiry",value:"nextMonth",label:"expires next month",fn:e=>{let t=new Date().getTime(),r=t+(0,u.monthsInMilliseconds)(2);return e.endTime<r&&e.endTime>t}},{id:"expiry",value:"year",label:"expires this year",fn:e=>{let t=new Date().getTime(),r=t+(0,u.yearsInMilliseconds)(1);return e.endTime<r&&e.endTime>t}},{id:"expiry",value:"expired",label:"expired",fn:e=>{let t=new Date().getTime();return e.endTime<t}}];function f({currentPage:e,select:r}){return(0,t.jsx)(a.CommandGroup,{currentPage:e,commandPage:c,children:d.map(n=>(0,t.jsx)(a.CommandItemSearch,{currentPage:e,commandPage:c,onSelect:()=>{r(n)},children:n.label},n.id+n.value))})}e.s(["ExpiryCmdGroup",()=>f,"contractFilterExpiryPage",0,c],39389);let h={namespace:"contracts/filterFormationDate",label:"Contracts filter by formation date"},p=[{id:"formationDate",value:"day",label:"formed in the last day",fn:e=>{let t=new Date().getTime()-(0,u.daysInMilliseconds)(1);return e.startTime>=t}},{id:"formationDate",value:"week",label:"formed in the last week",fn:e=>{let t=new Date().getTime()-(0,u.weeksInMilliseconds)(1);return e.startTime>=t}},{id:"formationDate",value:"twoWeeks",label:"formed in the last two weeks",fn:e=>{let t=new Date().getTime()-(0,u.weeksInMilliseconds)(2);return e.startTime>=t}},{id:"formationDate",value:"month",label:"formed in the last month",fn:e=>{let t=new Date().getTime()-(0,u.monthsInMilliseconds)(1);return e.startTime>=t}},{id:"formationDate",value:"twoMonths",label:"formed in the last two months",fn:e=>{let t=new Date().getTime()-(0,u.monthsInMilliseconds)(2);return e.startTime>=t}},{id:"formationDate",value:"year",label:"formed in the last year",fn:e=>{let t=new Date().getTime()-(0,u.yearsInMilliseconds)(1);return e.startTime>=t}}];function m({currentPage:e,select:r}){return(0,t.jsx)(a.CommandGroup,{currentPage:e,commandPage:h,children:p.map(n=>(0,t.jsx)(a.CommandItemSearch,{currentPage:e,commandPage:h,onSelect:()=>{r(n)},children:n.label},n.id+n.value))})}e.s(["FormationCmdGroup",()=>m,"contractFilterFormationPage",0,h],8505);let g={namespace:"contracts/filterRenewDate",label:"Contracts filter by renew date"},y=[{id:"renewDate",value:"day",label:"renewed in the last day",fn:e=>{let t=new Date().getTime()-(0,u.daysInMilliseconds)(1);return e.isRenewed&&e.startTime>=t}},{id:"renewDate",value:"week",label:"renewed in the last week",fn:e=>{let t=new Date().getTime()-(0,u.weeksInMilliseconds)(1);return e.isRenewed&&e.startTime>=t}},{id:"renewDate",value:"twoWeeks",label:"renewed in the last two weeks",fn:e=>{let t=new Date().getTime()-(0,u.weeksInMilliseconds)(2);return e.isRenewed&&e.startTime>=t}},{id:"renewDate",value:"month",label:"renewed in the last month",fn:e=>{let t=new Date().getTime()-(0,u.monthsInMilliseconds)(1);return e.isRenewed&&e.startTime>=t}},{id:"renewDate",value:"twoMonths",label:"renewed in the last two months",fn:e=>{let t=new Date().getTime()-(0,u.monthsInMilliseconds)(2);return e.isRenewed&&e.startTime>=t}},{id:"renewDate",value:"year",label:"renewed in the last year",fn:e=>{let t=new Date().getTime()-(0,u.yearsInMilliseconds)(1);return e.isRenewed&&e.startTime>=t}}];function b({currentPage:e,select:r}){return(0,t.jsx)(a.CommandGroup,{currentPage:e,commandPage:g,children:y.map(n=>(0,t.jsx)(a.CommandItemSearch,{currentPage:e,commandPage:g,onSelect:()=>{r(n)},children:n.label},n.id+n.value))})}e.s(["RenewCmdGroup",()=>b,"contractFilterRenewPage",0,g],23683)},92559,e=>{"use strict";e.s(["columnsDefaultVisible",0,["contractId","usability","hostKey","state","timeline","size","prunableSize","initialRenterFunds","spendingUploads","spendingDeletions","spendingFundAccount","spendingSectorRoots"],"defaultSortField",0,"startTime","sortOptions",0,[{id:"contractId",label:"contract ID",category:"general"},{id:"hostKey",label:"host public key",category:"general"},{id:"state",label:"state",category:"general"},{id:"timeline",label:"timeline",category:"time"},{id:"startTime",label:"start date",category:"time"},{id:"endTime",label:"end date",category:"time"},{id:"size",label:"size",category:"general"},{id:"prunableSize",label:"prunable size",category:"general"},{id:"initialRenterFunds",label:"initial renter funds",category:"financial"},{id:"spendingUploads",label:"uploads spending",category:"financial"},{id:"spendingDeletions",label:"deletions spending",category:"financial"},{id:"spendingFundAccount",label:"fund account spending",category:"financial"},{id:"spendingSectorRoots",label:"sector roots spending",category:"financial"}]])},80985,e=>{"use strict";e.i(37869);let t=(0,e.i(41399).secondsInMilliseconds)(15);e.s(["defaultDatasetRefreshInterval",0,t])},24397,e=>{"use strict";e.i(86663);var t=e.i(95551);e.i(86283);var r=e.i(53658);function n(){let e=(0,r.useBusState)();return e.data?.network==="zen"?t.webLinks.explore.testnetZen:t.webLinks.explore.mainnet}e.s(["useSiascanUrl",()=>n])},61174,99213,e=>{"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}e.s(["default",()=>t],61174),e.s(["default",()=>r],99213)},62603,e=>{"use strict";var t=e.i(61174),r=e.i(99213);function n(e){return(0,r.default)(1,arguments),e instanceof Date||"object"===(0,t.default)(e)&&"[object Date]"===Object.prototype.toString.call(e)}e.s(["default",()=>n])},23886,e=>{"use strict";var t=e.i(61174),r=e.i(99213);function n(e){(0,r.default)(1,arguments);var n=Object.prototype.toString.call(e);return e instanceof Date||"object"===(0,t.default)(e)&&"[object Date]"===n?new Date(e.getTime()):"number"==typeof e||"[object Number]"===n?new Date(e):(("string"==typeof e||"[object String]"===n)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(Error().stack)),new Date(NaN))}e.s(["default",()=>n])},21510,99306,85501,1761,52447,99436,e=>{"use strict";var t=e.i(62603),r=e.i(23886),n=e.i(99213);function i(e){return(0,n.default)(1,arguments),(!!(0,t.default)(e)||"number"==typeof e)&&!isNaN(Number((0,r.default)(e)))}function a(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function o(e,t){return(0,n.default)(2,arguments),function(e,t){return(0,n.default)(2,arguments),new Date((0,r.default)(e).getTime()+a(t))}(e,-a(t))}function s(e){(0,n.default)(1,arguments);var t=(0,r.default)(e),i=t.getTime();return t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0),Math.floor((i-t.getTime())/864e5)+1}function l(e){(0,n.default)(1,arguments);var t=(0,r.default)(e),i=t.getUTCDay();return t.setUTCDate(t.getUTCDate()-(7*(i<1)+i-1)),t.setUTCHours(0,0,0,0),t}function u(e){(0,n.default)(1,arguments);var t=(0,r.default)(e),i=t.getUTCFullYear(),a=new Date(0);a.setUTCFullYear(i+1,0,4),a.setUTCHours(0,0,0,0);var o=l(a),s=new Date(0);s.setUTCFullYear(i,0,4),s.setUTCHours(0,0,0,0);var u=l(s);return t.getTime()>=o.getTime()?i+1:t.getTime()>=u.getTime()?i:i-1}function c(e){(0,n.default)(1,arguments);var t=(0,r.default)(e);return Math.round((l(t).getTime()-(function(e){(0,n.default)(1,arguments);var t=u(e),r=new Date(0);return r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0),l(r)})(t).getTime())/6048e5)+1}e.s(["default",()=>i],21510),e.s(["default",()=>a],99306),e.s(["default",()=>o],85501),e.s(["default",()=>s],1761),e.s(["default",()=>u],52447),e.s(["default",()=>c],99436)},71944,e=>{"use strict";var t={};function r(){return t}e.s(["getDefaultOptions",()=>r])},26519,37048,e=>{"use strict";var t=e.i(1761),r=e.i(99436),n=e.i(52447),i=e.i(23886),a=e.i(99213),o=e.i(99306),s=e.i(71944);function l(e,t){(0,a.default)(1,arguments);var r,n,l,u,c,d,f,h,p=(0,s.getDefaultOptions)(),m=(0,o.default)(null!=(r=null!=(n=null!=(l=null!=(u=null==t?void 0:t.weekStartsOn)?u:null==t||null==(c=t.locale)||null==(d=c.options)?void 0:d.weekStartsOn)?l:p.weekStartsOn)?n:null==(f=p.locale)||null==(h=f.options)?void 0:h.weekStartsOn)?r:0);if(!(m>=0&&m<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=(0,i.default)(e),y=g.getUTCDay();return g.setUTCDate(g.getUTCDate()-(7*(y<m)+y-m)),g.setUTCHours(0,0,0,0),g}function u(e,t){(0,a.default)(1,arguments);var r,n,u,c,d,f,h,p,m=(0,i.default)(e),g=m.getUTCFullYear(),y=(0,s.getDefaultOptions)(),b=(0,o.default)(null!=(r=null!=(n=null!=(u=null!=(c=null==t?void 0:t.firstWeekContainsDate)?c:null==t||null==(d=t.locale)||null==(f=d.options)?void 0:f.firstWeekContainsDate)?u:y.firstWeekContainsDate)?n:null==(h=y.locale)||null==(p=h.options)?void 0:p.firstWeekContainsDate)?r:1);if(!(b>=1&&b<=7))throw RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(g+1,0,b),v.setUTCHours(0,0,0,0);var x=l(v,t),w=new Date(0);w.setUTCFullYear(g,0,b),w.setUTCHours(0,0,0,0);var S=l(w,t);return m.getTime()>=x.getTime()?g+1:m.getTime()>=S.getTime()?g:g-1}function c(e,t){for(var r=Math.abs(e).toString();r.length<t;)r="0"+r;return(e<0?"-":"")+r}let d=function(e,t){var r=e.getUTCFullYear(),n=r>0?r:1-r;return c("yy"===t?n%100:n,t.length)},f=function(e,t){var r=e.getUTCMonth();return"M"===t?String(r+1):c(r+1,2)},h=function(e,t){var r=t.length;return c(Math.floor(e.getUTCMilliseconds()*Math.pow(10,r-3)),t.length)};function p(e,t){var r=e>0?"-":"+",n=Math.abs(e),i=Math.floor(n/60),a=n%60;return 0===a?r+String(i):r+String(i)+(t||"")+c(a,2)}function m(e,t){return e%60==0?(e>0?"-":"+")+c(Math.abs(e)/60,2):g(e,t)}function g(e,t){var r=Math.abs(e);return(e>0?"-":"+")+c(Math.floor(r/60),2)+(t||"")+c(r%60,2)}e.s(["default",0,{G:function(e,t,r){var n=+(e.getUTCFullYear()>0);switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if("yo"===t){var n=e.getUTCFullYear();return r.ordinalNumber(n>0?n:1-n,{unit:"year"})}return d(e,t)},Y:function(e,t,r,n){var i=u(e,n),a=i>0?i:1-i;return"YY"===t?c(a%100,2):"Yo"===t?r.ordinalNumber(a,{unit:"year"}):c(a,t.length)},R:function(e,t){return c((0,n.default)(e),t.length)},u:function(e,t){return c(e.getUTCFullYear(),t.length)},Q:function(e,t,r){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return c(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return c(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){var n=e.getUTCMonth();switch(t){case"M":case"MM":return f(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){var n=e.getUTCMonth();switch(t){case"L":return String(n+1);case"LL":return c(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){var d=function(e,t){(0,a.default)(1,arguments);var r=(0,i.default)(e);return Math.round((l(r,t).getTime()-(function(e,t){(0,a.default)(1,arguments);var r,n,i,c,d,f,h,p,m=(0,s.getDefaultOptions)(),g=(0,o.default)(null!=(r=null!=(n=null!=(i=null!=(c=null==t?void 0:t.firstWeekContainsDate)?c:null==t||null==(d=t.locale)||null==(f=d.options)?void 0:f.firstWeekContainsDate)?i:m.firstWeekContainsDate)?n:null==(h=m.locale)||null==(p=h.options)?void 0:p.firstWeekContainsDate)?r:1),y=u(e,t),b=new Date(0);return b.setUTCFullYear(y,0,g),b.setUTCHours(0,0,0,0),l(b,t)})(r,t).getTime())/6048e5)+1}(e,n);return"wo"===t?r.ordinalNumber(d,{unit:"week"}):c(d,t.length)},I:function(e,t,n){var i=(0,r.default)(e);return"Io"===t?n.ordinalNumber(i,{unit:"week"}):c(i,t.length)},d:function(e,t,r){var n,i;return"do"===t?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):(n=e,i=t,c(n.getUTCDate(),i.length))},D:function(e,r,n){var i=(0,t.default)(e);return"Do"===r?n.ordinalNumber(i,{unit:"dayOfYear"}):c(i,r.length)},E:function(e,t,r){var n=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){var i=e.getUTCDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return c(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){var i=e.getUTCDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return c(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){var n=e.getUTCDay(),i=0===n?7:n;switch(t){case"i":return String(i);case"ii":return c(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,r){var n,i=e.getUTCHours();switch(n=12===i?"noon":0===i?"midnight":i/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,r){var n,i=e.getUTCHours();switch(n=i>=17?"evening":i>=12?"afternoon":i>=4?"morning":"night",t){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,r){if("ho"===t){var n,i,a=e.getUTCHours()%12;return 0===a&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return n=e,i=t,c(n.getUTCHours()%12||12,i.length)},H:function(e,t,r){var n,i;return"Ho"===t?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):(n=e,i=t,c(n.getUTCHours(),i.length))},K:function(e,t,r){var n=e.getUTCHours()%12;return"Ko"===t?r.ordinalNumber(n,{unit:"hour"}):c(n,t.length)},k:function(e,t,r){var n=e.getUTCHours();return(0===n&&(n=24),"ko"===t)?r.ordinalNumber(n,{unit:"hour"}):c(n,t.length)},m:function(e,t,r){var n,i;return"mo"===t?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):(n=e,i=t,c(n.getUTCMinutes(),i.length))},s:function(e,t,r){var n,i;return"so"===t?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):(n=e,i=t,c(n.getUTCSeconds(),i.length))},S:function(e,t){return h(e,t)},X:function(e,t,r,n){var i=(n._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return m(i);case"XXXX":case"XX":return g(i);default:return g(i,":")}},x:function(e,t,r,n){var i=(n._originalDate||e).getTimezoneOffset();switch(t){case"x":return m(i);case"xxxx":case"xx":return g(i);default:return g(i,":")}},O:function(e,t,r,n){var i=(n._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+p(i,":");default:return"GMT"+g(i,":")}},z:function(e,t,r,n){var i=(n._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+p(i,":");default:return"GMT"+g(i,":")}},t:function(e,t,r,n){return c(Math.floor((n._originalDate||e).getTime()/1e3),t.length)},T:function(e,t,r,n){return c((n._originalDate||e).getTime(),t.length)}}],26519);var y=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},b=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}};e.s(["default",0,{p:b,P:function(e,t){var r,n=e.match(/(P+)(p+)?/)||[],i=n[1],a=n[2];if(!a)return y(e,t);switch(i){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;default:r=t.dateTime({width:"full"})}return r.replace("{{date}}",y(i,t)).replace("{{time}}",b(a,t))}}],37048)},36641,e=>{"use strict";function t(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}e.s(["default",()=>t])},29887,67708,e=>{"use strict";var t,r=e.i(21510),n=e.i(85501),i=e.i(23886),a=e.i(26519),o=e.i(37048),s=e.i(36641),l=["D","DD"],u=["YY","YYYY"];function c(e,t,r){if("YYYY"===e)throw RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var d=e.i(99306),f=e.i(99213),h=e.i(71944),p={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function m(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}var g={date:m({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:m({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:m({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},y={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function b(e){return function(t,r){var n;if("formatting"===(null!=r&&r.context?String(r.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,a=null!=r&&r.width?String(r.width):i;n=e.formattingValues[a]||e.formattingValues[i]}else{var o=e.defaultWidth,s=null!=r&&r.width?String(r.width):e.defaultWidth;n=e.values[s]||e.values[o]}return n[e.argumentCallback?e.argumentCallback(t):t]}}function v(e){return function(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.width,a=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;var s=o[0],l=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?function(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}(l,function(e){return e.test(s)}):function(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}(l,function(e){return e.test(s)});return r=e.valueCallback?e.valueCallback(u):u,{value:r=n.valueCallback?n.valueCallback(r):r,rest:t.slice(s.length)}}}let x={code:"en-US",formatDistance:function(e,t,r){var n,i=p[e];if(n="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!=r&&r.addSuffix)if(r.comparison&&r.comparison>0)return"in "+n;else return n+" ago";return n},formatLong:g,formatRelative:function(e,t,r,n){return y[e]},localize:{ordinalNumber:function(e,t){var r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:b({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:b({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:b({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:b({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:b({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(t={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(t.matchPattern);if(!n)return null;var i=n[0],a=e.match(t.parsePattern);if(!a)return null;var o=t.valueCallback?t.valueCallback(a[0]):a[0];return{value:o=r.valueCallback?r.valueCallback(o):o,rest:e.slice(i.length)}}),era:v({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:v({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:v({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:v({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:v({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};e.s(["default",0,x],67708);var w=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,S=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,k=/^'([^]*?)'?$/,j=/''/g,C=/[a-zA-Z]/;function P(e,t,p){(0,f.default)(2,arguments);var m,g,y,b,v,P,_,T,E,R,M,D,A,F,B,N,O,I,z=String(t),U=(0,h.getDefaultOptions)(),L=null!=(m=null!=(g=null==p?void 0:p.locale)?g:U.locale)?m:x,H=(0,d.default)(null!=(y=null!=(b=null!=(v=null!=(P=null==p?void 0:p.firstWeekContainsDate)?P:null==p||null==(_=p.locale)||null==(T=_.options)?void 0:T.firstWeekContainsDate)?v:U.firstWeekContainsDate)?b:null==(E=U.locale)||null==(R=E.options)?void 0:R.firstWeekContainsDate)?y:1);if(!(H>=1&&H<=7))throw RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var W=(0,d.default)(null!=(M=null!=(D=null!=(A=null!=(F=null==p?void 0:p.weekStartsOn)?F:null==p||null==(B=p.locale)||null==(N=B.options)?void 0:N.weekStartsOn)?A:U.weekStartsOn)?D:null==(O=U.locale)||null==(I=O.options)?void 0:I.weekStartsOn)?M:0);if(!(W>=0&&W<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!L.localize)throw RangeError("locale must contain localize property");if(!L.formatLong)throw RangeError("locale must contain formatLong property");var V=(0,i.default)(e);if(!(0,r.default)(V))throw RangeError("Invalid time value");var q=(0,s.default)(V),G=(0,n.default)(V,q),K={firstWeekContainsDate:H,weekStartsOn:W,locale:L,_originalDate:V};return z.match(S).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,o.default[t])(e,L.formatLong):e}).join("").match(w).map(function(r){if("''"===r)return"'";var n,i,o=r[0];if("'"===o){return(i=(n=r).match(k))?i[1].replace(j,"'"):n}var s=a.default[o];if(s)return null!=p&&p.useAdditionalWeekYearTokens||-1===u.indexOf(r)||c(r,t,String(e)),null!=p&&p.useAdditionalDayOfYearTokens||-1===l.indexOf(r)||c(r,t,String(e)),s(G,r,L.localize,K);if(o.match(C))throw RangeError("Format string contains an unescaped latin alphabet character `"+o+"`");return r}).join("")}e.s(["default",()=>P],29887)},55261,13712,e=>{"use strict";var t=e.i(29887);e.s(["format",()=>t.default],55261);var r=e.i(71944),n=e.i(23886),i=e.i(99213);function a(e,t){(0,i.default)(2,arguments);var r=(0,n.default)(e),a=(0,n.default)(t),o=r.getTime()-a.getTime();return o<0?-1:o>0?1:o}var o={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},s=e.i(67708);function l(e,t){if(null==e)throw TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}var u=e.i(36641);function c(e,t,c){(0,i.default)(2,arguments);var d,f,h,p,m,g=(0,r.getDefaultOptions)(),y=null!=(d=null!=(f=null==c?void 0:c.locale)?f:g.locale)?d:s.default;if(!y.formatDistance)throw RangeError("locale must contain formatDistance property");var b=a(e,t);if(isNaN(b))throw RangeError("Invalid time value");var v=l(l({},c),{addSuffix:!!(null==c?void 0:c.addSuffix),comparison:b});b>0?(h=(0,n.default)(t),p=(0,n.default)(e)):(h=(0,n.default)(e),p=(0,n.default)(t));var x=function(e,t,r){(0,i.default)(2,arguments);var a,s=function(e,t){return(0,i.default)(2,arguments),(0,n.default)(e).getTime()-(0,n.default)(t).getTime()}(e,t)/1e3;return((a=null==r?void 0:r.roundingMethod)?o[a]:o.trunc)(s)}(p,h),w=Math.round((x-((0,u.default)(p)-(0,u.default)(h))/1e3)/60);if(w<2)if(null!=c&&c.includeSeconds)if(x<5)return y.formatDistance("lessThanXSeconds",5,v);else if(x<10)return y.formatDistance("lessThanXSeconds",10,v);else if(x<20)return y.formatDistance("lessThanXSeconds",20,v);else if(x<40)return y.formatDistance("halfAMinute",0,v);else if(x<60)return y.formatDistance("lessThanXMinutes",1,v);else return y.formatDistance("xMinutes",1,v);else if(0===w)return y.formatDistance("lessThanXMinutes",1,v);else return y.formatDistance("xMinutes",w,v);if(w<45)return y.formatDistance("xMinutes",w,v);if(w<90)return y.formatDistance("aboutXHours",1,v);if(w<1440){var S=Math.round(w/60);return y.formatDistance("aboutXHours",S,v)}if(w<2520)return y.formatDistance("xDays",1,v);else if(w<43200){var k=Math.round(w/1440);return y.formatDistance("xDays",k,v)}else if(w<86400)return m=Math.round(w/43200),y.formatDistance("aboutXMonths",m,v);if((m=function(e,t){(0,i.default)(2,arguments);var r,o=(0,n.default)(e),s=(0,n.default)(t),l=a(o,s),u=Math.abs(function(e,t){(0,i.default)(2,arguments);var r=(0,n.default)(e),a=(0,n.default)(t);return 12*(r.getFullYear()-a.getFullYear())+(r.getMonth()-a.getMonth())}(o,s));if(u<1)r=0;else{1===o.getMonth()&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-l*u);var c=a(o,s)===-l;(function(e){(0,i.default)(1,arguments);var t=(0,n.default)(e);return(function(e){(0,i.default)(1,arguments);var t=(0,n.default)(e);return t.setHours(23,59,59,999),t})(t).getTime()===(function(e){(0,i.default)(1,arguments);var t=(0,n.default)(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t})(t).getTime()})((0,n.default)(e))&&1===u&&1===a(e,s)&&(c=!1),r=l*(u-Number(c))}return 0===r?0:r}(p,h))<12){var j=Math.round(w/43200);return y.formatDistance("xMonths",j,v)}var C=m%12,P=Math.floor(m/12);return C<3?y.formatDistance("aboutXYears",P,v):C<9?y.formatDistance("overXYears",P,v):y.formatDistance("almostXYears",P+1,v)}e.s(["formatDistance",()=>c],13712)},17029,e=>{"use strict";var t=e.i(36641),r=e.i(23886),n=e.i(99213);function i(e){(0,n.default)(1,arguments);var t=(0,r.default)(e);return t.setHours(0,0,0,0),t}function a(e,r){(0,n.default)(2,arguments);var a=i(e),o=i(r);return Math.round((a.getTime()-(0,t.default)(a)-(o.getTime()-(0,t.default)(o)))/864e5)}e.s(["default",()=>a],17029)},36183,e=>{"use strict";var t=e.i(71944),r=e.i(17029),n=e.i(29887),i=e.i(67708),a=e.i(85501),o=e.i(23886),s=e.i(36641),l=e.i(99213),u=e.i(99306);function c(e,c,d){(0,l.default)(2,arguments);var f,h,p,m,g,y,b,v,x,w,S,k=(0,o.default)(e),j=(0,o.default)(c),C=(0,t.getDefaultOptions)(),P=null!=(f=null!=(h=null==d?void 0:d.locale)?h:C.locale)?f:i.default,_=(0,u.default)(null!=(p=null!=(m=null!=(g=null!=(y=null==d?void 0:d.weekStartsOn)?y:null==d||null==(b=d.locale)||null==(v=b.options)?void 0:v.weekStartsOn)?g:C.weekStartsOn)?m:null==(x=C.locale)||null==(w=x.options)?void 0:w.weekStartsOn)?p:0);if(!P.localize)throw RangeError("locale must contain localize property");if(!P.formatLong)throw RangeError("locale must contain formatLong property");if(!P.formatRelative)throw RangeError("locale must contain formatRelative property");var T=(0,r.default)(k,j);if(isNaN(T))throw RangeError("Invalid time value");S=T<-6?"other":T<-1?"lastWeek":T<0?"yesterday":T<1?"today":T<2?"tomorrow":T<7?"nextWeek":"other";var E=(0,a.default)(k,(0,s.default)(k)),R=(0,a.default)(j,(0,s.default)(j)),M=P.formatRelative(S,E,R,{locale:P,weekStartsOn:_});return(0,n.default)(k,M,{locale:P,weekStartsOn:_})}e.s(["formatRelative",()=>c],36183)},26566,83081,757,e=>{"use strict";e.i(86663);var t=e.i(8854),r=e.i(50529);e.i(86283);var n=e.i(53658);e.i(37869);var i=e.i(93936),a=e.i(91788);function o(){let e=(0,n.useHostsAllowlistUpdate)();return(0,a.useCallback)((n,a)=>(async()=>{let o=await e.put({payload:{add:n,remove:a}});return o.error?((0,t.triggerErrorToast)({title:"Error updating allowlist",body:o.error}),!1):(n.length&&(0,t.triggerSuccessToast)({title:"Allowlist updated",body:1===n.length?`Host ${(0,r.truncate)(n[0],20)} added to allowlist.`:`Added ${(0,i.pluralize)(n.length,"host")} to the allowlist.`}),a.length&&(0,t.triggerSuccessToast)({title:"Allowlist updated",body:1===a.length?`Host ${(0,r.truncate)(a[0],20)} removed from allowlist.`:`Removed ${(0,i.pluralize)(a.length,"host")} from the allowlist.`}),!0)})(),[e])}function s(){let e=(0,n.useHostsBlocklistUpdate)();return(0,a.useCallback)((n,a)=>(async()=>{let o=await e.put({payload:{add:n,remove:a}});return o.error?((0,t.triggerErrorToast)({title:"Error updating blocklist",body:o.error}),!1):(n.length&&(0,t.triggerToast)({title:"Blocklist updated",body:1===n.length?`Host ${(0,r.truncate)(n[0],20)} added to blocklist.`:`Added ${(0,i.pluralize)(n.length,"host")} to the blocklist.`}),a.length&&(0,t.triggerToast)({title:"Blocklist updated",body:1===a.length?`Host ${(0,r.truncate)(a[0],20)} removed from blocklist.`:`Removed ${(0,i.pluralize)(a.length,"host")} from the blocklist.`}),!0)})(),[e])}e.s(["useAllowlistUpdate",()=>o],26566),e.s(["useBlocklistUpdate",()=>s],83081),e.i(50461);var l=e.i(46149),u=e.i(42706),c=e.i(86670),d=e.i(89158),f=e.i(40087),h=e.i(90983),p=e.i(16121);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}e.i(34980);function g(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function y(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var b=(0,a.createContext)(void 0);b.displayName="FormikContext",b.Provider,b.Consumer;var v=function(e){return Array.isArray(e)&&0===e.length},x=function(e){return"function"==typeof e},w=function(e){return null!==e&&"object"==typeof e},S=function(e){return"[object String]"===Object.prototype.toString.call(e)},k=function(e){return w(e)&&x(e.then)};function j(e,t,r,n){void 0===n&&(n=0);for(var i=(0,p.default)(t);e&&n<i.length;)e=e[i[n++]];return n===i.length||e?void 0===e?r:e:r}function C(e,t,r){for(var n=(0,h.default)(e),i=n,a=0,o=(0,p.default)(t);a<o.length-1;a++){var s=o[a],l=j(e,o.slice(0,a+1));if(l&&(w(l)||Array.isArray(l)))i=i[s]=(0,h.default)(l);else{var u=o[a+1];i=i[s]=String(Math.floor(Number(u)))===u&&Number(u)>=0?[]:{}}}return(0===a?e:i)[o[a]]===r?e:(void 0===r?delete i[o[a]]:i[o[a]]=r,0===a&&void 0===r&&delete n[o[a]],n)}var P={},_={};function T(e){var t=e.validateOnChange,r=void 0===t||t,n=e.validateOnBlur,i=void 0===n||n,o=e.validateOnMount,s=void 0!==o&&o,f=e.isInitialValid,h=e.enableReinitialize,p=void 0!==h&&h,y=e.onSubmit,b=g(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),v=m({validateOnChange:r,validateOnBlur:i,validateOnMount:s,onSubmit:y},b),T=(0,a.useRef)(v.initialValues),R=(0,a.useRef)(v.initialErrors||P),D=(0,a.useRef)(v.initialTouched||_),A=(0,a.useRef)(v.initialStatus),F=(0,a.useRef)(!1),B=(0,a.useRef)({});(0,a.useEffect)(function(){return F.current=!0,function(){F.current=!1}},[]);var N=(0,a.useState)(0)[1],O=(0,a.useRef)({values:(0,c.default)(v.initialValues),errors:(0,c.default)(v.initialErrors)||P,touched:(0,c.default)(v.initialTouched)||_,status:(0,c.default)(v.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),I=O.current,z=(0,a.useCallback)(function(e){var t=O.current;O.current=function(e,t){switch(t.type){case"SET_VALUES":return m({},e,{values:t.payload});case"SET_TOUCHED":return m({},e,{touched:t.payload});case"SET_ERRORS":if((0,d.default)(e.errors,t.payload))return e;return m({},e,{errors:t.payload});case"SET_STATUS":return m({},e,{status:t.payload});case"SET_ISSUBMITTING":return m({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return m({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return m({},e,{values:C(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return m({},e,{touched:C(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return m({},e,{errors:C(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return m({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return m({},e,{touched:function e(t,r,n,i){void 0===n&&(n=new WeakMap),void 0===i&&(i={});for(var a=0,o=Object.keys(t);a<o.length;a++){var s=o[a],l=t[s];w(l)?n.get(l)||(n.set(l,!0),i[s]=Array.isArray(l)?[]:{},e(l,r,n,i[s])):i[s]=r}return i}(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":case"SUBMIT_SUCCESS":return m({},e,{isSubmitting:!1});default:return e}}(t,e),t!==O.current&&N(function(e){return e+1})},[]),U=(0,a.useCallback)(function(e,t){return new Promise(function(r,n){var i=v.validate(e,t);null==i?r(P):k(i)?i.then(function(e){r(e||P)},function(e){n(e)}):r(i)})},[v.validate]),L=(0,a.useCallback)(function(e,t){var r,n,i,a,o=v.validationSchema,s=x(o)?o(t):o,l=t&&s.validateAt?s.validateAt(t,e):(r=e,n=s,void 0===i&&(i=!1),a=function e(t){var r=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=String(n);!0===Array.isArray(t[i])?r[i]=t[i].map(function(t){return!0===Array.isArray(t)||(0,u.default)(t)?e(t):""!==t?t:void 0}):(0,u.default)(t[i])?r[i]=e(t[i]):r[i]=""!==t[i]?t[i]:void 0}return r}(r),n[i?"validateSync":"validate"](a,{abortEarly:!1,context:a}));return new Promise(function(e,t){l.then(function(){e(P)},function(r){"ValidationError"===r.name?e(function(e){var t={};if(e.inner){if(0===e.inner.length)return C(t,e.path,e.message);for(var r=e.inner,n=Array.isArray(r),i=0,r=n?r:r[Symbol.iterator]();;){if(n){if(i>=r.length)break;a=r[i++]}else{if((i=r.next()).done)break;a=i.value}var a,o=a;j(t,o.path)||(t=C(t,o.path,o.message))}}return t}(r)):t(r)})})},[v.validationSchema]),H=(0,a.useCallback)(function(e,t){return new Promise(function(r){return r(B.current[e].validate(t))})},[]),W=(0,a.useCallback)(function(e){var t=Object.keys(B.current).filter(function(e){return x(B.current[e].validate)});return Promise.all(t.length>0?t.map(function(t){return H(t,j(e,t))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")]).then(function(e){return e.reduce(function(e,r,n){return"DO_NOT_DELETE_YOU_WILL_BE_FIRED"===r||r&&(e=C(e,t[n],r)),e},{})})},[H]),V=(0,a.useCallback)(function(e){return Promise.all([W(e),v.validationSchema?L(e):{},v.validate?U(e):{}]).then(function(e){var t=e[0],r=e[1],n=e[2];return l.default.all([t,r,n],{arrayMerge:E})})},[v.validate,v.validationSchema,W,U,L]),q=M(function(e){return void 0===e&&(e=I.values),z({type:"SET_ISVALIDATING",payload:!0}),V(e).then(function(e){return F.current&&(z({type:"SET_ISVALIDATING",payload:!1}),z({type:"SET_ERRORS",payload:e})),e})});(0,a.useEffect)(function(){s&&!0===F.current&&(0,d.default)(T.current,v.initialValues)&&q(T.current)},[s,q]);var G=(0,a.useCallback)(function(e){var t=e&&e.values?e.values:T.current,r=e&&e.errors?e.errors:R.current?R.current:v.initialErrors||{},n=e&&e.touched?e.touched:D.current?D.current:v.initialTouched||{},i=e&&e.status?e.status:A.current?A.current:v.initialStatus;T.current=t,R.current=r,D.current=n,A.current=i;var a=function(){z({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:r,touched:n,status:i,values:t,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&"number"==typeof e.submitCount?e.submitCount:0}})};if(v.onReset){var o=v.onReset(I.values,ed);k(o)?o.then(a):a()}else a()},[v.initialErrors,v.initialStatus,v.initialTouched,v.onReset]);(0,a.useEffect)(function(){!0===F.current&&!(0,d.default)(T.current,v.initialValues)&&p&&(T.current=v.initialValues,G(),s&&q(T.current))},[p,v.initialValues,G,s,q]),(0,a.useEffect)(function(){p&&!0===F.current&&!(0,d.default)(R.current,v.initialErrors)&&(R.current=v.initialErrors||P,z({type:"SET_ERRORS",payload:v.initialErrors||P}))},[p,v.initialErrors]),(0,a.useEffect)(function(){p&&!0===F.current&&!(0,d.default)(D.current,v.initialTouched)&&(D.current=v.initialTouched||_,z({type:"SET_TOUCHED",payload:v.initialTouched||_}))},[p,v.initialTouched]),(0,a.useEffect)(function(){p&&!0===F.current&&!(0,d.default)(A.current,v.initialStatus)&&(A.current=v.initialStatus,z({type:"SET_STATUS",payload:v.initialStatus}))},[p,v.initialStatus,v.initialTouched]);var K=M(function(e){if(B.current[e]&&x(B.current[e].validate)){var t=j(I.values,e),r=B.current[e].validate(t);return k(r)?(z({type:"SET_ISVALIDATING",payload:!0}),r.then(function(e){return e}).then(function(t){z({type:"SET_FIELD_ERROR",payload:{field:e,value:t}}),z({type:"SET_ISVALIDATING",payload:!1})})):(z({type:"SET_FIELD_ERROR",payload:{field:e,value:r}}),Promise.resolve(r))}return v.validationSchema?(z({type:"SET_ISVALIDATING",payload:!0}),L(I.values,e).then(function(e){return e}).then(function(t){z({type:"SET_FIELD_ERROR",payload:{field:e,value:j(t,e)}}),z({type:"SET_ISVALIDATING",payload:!1})})):Promise.resolve()}),$=(0,a.useCallback)(function(e,t){var r=t.validate;B.current[e]={validate:r}},[]),Y=(0,a.useCallback)(function(e){delete B.current[e]},[]),Z=M(function(e,t){return z({type:"SET_TOUCHED",payload:e}),(void 0===t?i:t)?q(I.values):Promise.resolve()}),X=(0,a.useCallback)(function(e){z({type:"SET_ERRORS",payload:e})},[]),J=M(function(e,t){var n=x(e)?e(I.values):e;return z({type:"SET_VALUES",payload:n}),(void 0===t?r:t)?q(n):Promise.resolve()}),Q=(0,a.useCallback)(function(e,t){z({type:"SET_FIELD_ERROR",payload:{field:e,value:t}})},[]),ee=M(function(e,t,n){return z({type:"SET_FIELD_VALUE",payload:{field:e,value:t}}),(void 0===n?r:n)?q(C(I.values,e,t)):Promise.resolve()}),et=(0,a.useCallback)(function(e,t){var r,n=t,i=e;if(!S(e)){e.persist&&e.persist();var a=e.target?e.target:e.currentTarget,o=a.type,s=a.name,l=a.id,u=a.value,c=a.checked,d=(a.outerHTML,a.options),f=a.multiple;n=t||s||l,i=/number|range/.test(o)?isNaN(r=parseFloat(u))?"":r:/checkbox/.test(o)?function(e,t,r){if("boolean"==typeof e)return!!t;var n=[],i=!1,a=-1;if(Array.isArray(e))n=e,i=(a=e.indexOf(r))>=0;else if(!r||"true"==r||"false"==r)return!!t;return t&&r&&!i?n.concat(r):i?n.slice(0,a).concat(n.slice(a+1)):n}(j(I.values,n),c,u):d&&f?Array.from(d).filter(function(e){return e.selected}).map(function(e){return e.value}):u}n&&ee(n,i)},[ee,I.values]),er=M(function(e){if(S(e))return function(t){return et(t,e)};et(e)}),en=M(function(e,t,r){return void 0===t&&(t=!0),z({type:"SET_FIELD_TOUCHED",payload:{field:e,value:t}}),(void 0===r?i:r)?q(I.values):Promise.resolve()}),ei=(0,a.useCallback)(function(e,t){e.persist&&e.persist();var r=e.target,n=r.name,i=r.id;r.outerHTML,en(t||n||i,!0)},[en]),ea=M(function(e){if(S(e))return function(t){return ei(t,e)};ei(e)}),eo=(0,a.useCallback)(function(e){x(e)?z({type:"SET_FORMIK_STATE",payload:e}):z({type:"SET_FORMIK_STATE",payload:function(){return e}})},[]),es=(0,a.useCallback)(function(e){z({type:"SET_STATUS",payload:e})},[]),el=(0,a.useCallback)(function(e){z({type:"SET_ISSUBMITTING",payload:e})},[]),eu=M(function(){return z({type:"SUBMIT_ATTEMPT"}),q().then(function(e){var t,r=e instanceof Error;if(!r&&0===Object.keys(e).length){try{if(t=ef(),void 0===t)return}catch(e){throw e}return Promise.resolve(t).then(function(e){return F.current&&z({type:"SUBMIT_SUCCESS"}),e}).catch(function(e){if(F.current)throw z({type:"SUBMIT_FAILURE"}),e})}if(F.current&&(z({type:"SUBMIT_FAILURE"}),r))throw e})}),ec=M(function(e){e&&e.preventDefault&&x(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&x(e.stopPropagation)&&e.stopPropagation(),eu().catch(function(e){console.warn("Warning: An unhandled error was caught from submitForm()",e)})}),ed={resetForm:G,validateForm:q,validateField:K,setErrors:X,setFieldError:Q,setFieldTouched:en,setFieldValue:ee,setStatus:es,setSubmitting:el,setTouched:Z,setValues:J,setFormikState:eo,submitForm:eu},ef=M(function(){return y(I.values,ed)}),eh=M(function(e){e&&e.preventDefault&&x(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&x(e.stopPropagation)&&e.stopPropagation(),G()}),ep=(0,a.useCallback)(function(e){return{value:j(I.values,e),error:j(I.errors,e),touched:!!j(I.touched,e),initialValue:j(T.current,e),initialTouched:!!j(D.current,e),initialError:j(R.current,e)}},[I.errors,I.touched,I.values]),em=(0,a.useCallback)(function(e){return{setValue:function(t,r){return ee(e,t,r)},setTouched:function(t,r){return en(e,t,r)},setError:function(t){return Q(e,t)}}},[ee,en,Q]),eg=(0,a.useCallback)(function(e){var t=w(e),r=t?e.name:e,n=j(I.values,r),i={name:r,value:n,onChange:er,onBlur:ea};if(t){var a=e.type,o=e.value,s=e.as,l=e.multiple;"checkbox"===a?void 0===o?i.checked=!!n:(i.checked=!!(Array.isArray(n)&&~n.indexOf(o)),i.value=o):"radio"===a?(i.checked=n===o,i.value=o):"select"===s&&l&&(i.value=i.value||[],i.multiple=!0)}return i},[ea,er,I.values]),ey=(0,a.useMemo)(function(){return!(0,d.default)(T.current,I.values)},[T.current,I.values]),eb=(0,a.useMemo)(function(){return void 0!==f?ey?I.errors&&0===Object.keys(I.errors).length:!1!==f&&x(f)?f(v):f:I.errors&&0===Object.keys(I.errors).length},[f,ey,I.errors,v]);return m({},I,{initialValues:T.current,initialErrors:R.current,initialTouched:D.current,initialStatus:A.current,handleBlur:ea,handleChange:er,handleReset:eh,handleSubmit:ec,resetForm:G,setErrors:X,setFormikState:eo,setFieldTouched:en,setFieldValue:ee,setFieldError:Q,setStatus:es,setSubmitting:el,setTouched:Z,setValues:J,submitForm:eu,validateForm:q,validateField:K,isValid:eb,dirty:ey,unregisterField:Y,registerField:$,getFieldProps:eg,getFieldMeta:ep,getFieldHelpers:em,validateOnBlur:i,validateOnChange:r,validateOnMount:s})}function E(e,t,r){var n=e.slice();return t.forEach(function(t,i){if(void 0===n[i]){var a=!1!==r.clone&&r.isMergeableObject(t);n[i]=a?(0,l.default)(Array.isArray(t)?[]:{},t,r):t}else r.isMergeableObject(t)?n[i]=(0,l.default)(e[i],t,r):-1===e.indexOf(t)&&n.push(t)}),n}var R="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?a.useLayoutEffect:a.useEffect;function M(e){var t=(0,a.useRef)(e);return R(function(){t.current=e}),(0,a.useCallback)(function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.current.apply(void 0,r)},[])}(0,a.forwardRef)(function(e,t){var r,n=e.action,i=g(e,["action"]),o=((r=(0,a.useContext)(b))||(0,f.default)(!1),r),s=o.handleReset,l=o.handleSubmit;return(0,a.createElement)("form",m({onSubmit:l,ref:t,onReset:s,action:null!=n?n:"#"},i))}).displayName="Form";var D=function(e,t,r){var n=N(e),i=n[t];return n.splice(t,1),n.splice(r,0,i),n},A=function(e,t,r){var n=N(e),i=n[t];return n[t]=n[r],n[r]=i,n},F=function(e,t,r){var n=N(e);return n.splice(t,0,r),n},B=function(e,t,r){var n=N(e);return n[t]=r,n},N=function(e){if(!e)return[];if(Array.isArray(e))return[].concat(e);var t=Object.keys(e).map(function(e){return parseInt(e)}).reduce(function(e,t){return t>e?t:e},0);return Array.from(m({},e,{length:t+1}))},O=function(e,t){var r="function"==typeof e?e:t;return function(e){return Array.isArray(e)||w(e)?r(N(e)):e}};(function(e){function t(t){var r;return(r=e.call(this,t)||this).updateArrayField=function(e,t,n){var i=r.props,a=i.name;(0,i.formik.setFormikState)(function(r){var i=O(n,e),o=O(t,e),s=C(r.values,a,e(j(r.values,a))),l=n?i(j(r.errors,a)):void 0,u=t?o(j(r.touched,a)):void 0;return v(l)&&(l=void 0),v(u)&&(u=void 0),m({},r,{values:s,errors:n?C(r.errors,a,l):r.errors,touched:t?C(r.touched,a,u):r.touched})})},r.push=function(e){return r.updateArrayField(function(t){return[].concat(N(t),[(0,c.default)(e)])},!1,!1)},r.handlePush=function(e){return function(){return r.push(e)}},r.swap=function(e,t){return r.updateArrayField(function(r){return A(r,e,t)},!0,!0)},r.handleSwap=function(e,t){return function(){return r.swap(e,t)}},r.move=function(e,t){return r.updateArrayField(function(r){return D(r,e,t)},!0,!0)},r.handleMove=function(e,t){return function(){return r.move(e,t)}},r.insert=function(e,t){return r.updateArrayField(function(r){return F(r,e,t)},function(t){return F(t,e,null)},function(t){return F(t,e,null)})},r.handleInsert=function(e,t){return function(){return r.insert(e,t)}},r.replace=function(e,t){return r.updateArrayField(function(r){return B(r,e,t)},!1,!1)},r.handleReplace=function(e,t){return function(){return r.replace(e,t)}},r.unshift=function(e){var t=-1;return r.updateArrayField(function(r){var n=r?[e].concat(r):[e];return t=n.length,n},function(e){return e?[null].concat(e):[null]},function(e){return e?[null].concat(e):[null]}),t},r.handleUnshift=function(e){return function(){return r.unshift(e)}},r.handleRemove=function(e){return function(){return r.remove(e)}},r.handlePop=function(){return function(){return r.pop()}},r.remove=r.remove.bind(y(r)),r.pop=r.pop.bind(y(r)),r}(r=t).prototype=Object.create((n=e).prototype),r.prototype.constructor=r,r.__proto__=n;var r,n,i=t.prototype;return i.componentDidUpdate=function(e){this.props.validateOnChange&&this.props.formik.validateOnChange&&!(0,d.default)(j(e.formik.values,e.name),j(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},i.remove=function(e){var t;return this.updateArrayField(function(r){var n=r?N(r):[];return t||(t=n[e]),x(n.splice)&&n.splice(e,1),x(n.every)&&n.every(function(e){return void 0===e})?[]:n},!0,!0),t},i.pop=function(){var e;return this.updateArrayField(function(t){var r=t.slice();return e||(e=r&&r.pop&&r.pop()),r},!0,!0),e},i.render=function(){var e,t={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},r=this.props,n=r.component,i=r.render,o=r.children,s=r.name,l=g(r.formik,["validate","validationSchema"]),u=m({},t,{form:l,name:s});return n?(0,a.createElement)(n,u):i?i(u):o?"function"==typeof o?o(u):(e=o,0===a.Children.count(e))?null:a.Children.only(o):null},t})(a.Component).defaultProps={validateOnChange:!0},a.Component,a.Component,e.s(["useFormik",()=>T],757)},88230,e=>{"use strict";e.s(["HostsFilterPublicKeyDialog",()=>h,"filterPublicKeyEquals",()=>c]);var t=e.i(91398);e.i(86663);var r=e.i(48708),n=e.i(99865),i=e.i(50529),a=e.i(99799),o=e.i(757);e.i(56720);var s=e.i(48357),l=e.i(26801),u=e.i(84588);function c(e){return{id:"publicKeyEquals",value:e,label:`public key is ${(0,i.truncate)(e,20)}`}}let d={publicKey:""},f=s.object().shape({publicKey:l.string().required("Required")});function h({trigger:e,open:i,onOpenChange:s}){let{closeDialog:l}=(0,u.useDialog)(),{setFilter:h}=(0,a.useHosts)(),p=(0,o.useFormik)({initialValues:d,validationSchema:f,onSubmit:e=>{h(c(e.publicKey)),p.resetForm(),l()}});return(0,t.jsx)(r.Dialog,{trigger:e,title:"Filter by public key",open:i,onOpenChange:e=>{e||p.resetForm(),s(e)},contentVariants:{className:"w-[400px]"},onSubmit:p.handleSubmit,children:(0,t.jsx)("div",{className:"flex flex-col gap-4",children:(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsx)(n.FormFieldFormik,{formik:p,title:"Public key",name:"publicKey",placeholder:"ed25519:b050c0c6...",autoComplete:"off",type:"text",variants:{size:"medium"}}),(0,t.jsx)(n.FormSubmitButtonFormik,{formik:p,size:"medium",children:"Filter"})]})})})}},51503,e=>{"use strict";e.s(["HostContextMenu",()=>b,"HostContextMenuContent",()=>v]);var t=e.i(91398);e.i(86663);var r=e.i(57184),n=e.i(54413),i=e.i(929),a=e.i(50529),o=e.i(73797);e.i(71487);var s=e.i(76993);e.i(86283);var l=e.i(53658),u=e.i(43652),c=e.i(17837),d=e.i(26093),f=e.i(99799),h=e.i(26566),p=e.i(83081),m=e.i(66450),g=e.i(88230);e.i(37869);var y=e.i(41399);function b({address:e,publicKey:i,contentProps:a,buttonProps:o,trigger:l}){return(0,t.jsx)(r.DropdownMenu,{trigger:l||(0,t.jsx)(n.Button,{"aria-label":"host context menu",icon:"hover",size:"none",...o,children:(0,t.jsx)(s.CaretDown16,{})}),contentProps:{align:"start",...a,onClick:e=>{e.stopPropagation()}},children:(0,t.jsx)(v,{address:e,publicKey:i})})}function v({address:e,publicKey:n}){let b=(0,c.useRouter)(),{setFilter:v,resetFilters:x}=(0,f.useHosts)(),{setFilter:w,resetFilters:S}=(0,d.useContracts)(),k=(0,l.useHostsBlocklist)(),j=(0,l.useHostsAllowlist)(),C=(0,p.useBlocklistUpdate)(),P=(0,h.useAllowlistUpdate)(),_=(0,l.useHostScan)(),T=(0,l.useHostResetLostSectorCount)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"px-1.5 py-1",children:(0,t.jsxs)(i.Text,{size:"14",weight:"medium",color:"subtle",children:["Host ",n.slice(0,24),"..."]})}),(0,t.jsx)(r.DropdownMenuLabel,{children:"Filters"}),(0,t.jsxs)(r.DropdownMenuItem,{disabled:!e,onSelect:()=>{e&&(x(),v({id:"addressContains",value:e,label:`Address contains ${(0,a.truncate)(e,20)}`}),b.push(u.routes.hosts.index))},children:[(0,t.jsx)(r.DropdownMenuLeftSlot,{children:(0,t.jsx)(s.Filter16,{})}),"Filter hosts by address"]}),(0,t.jsxs)(r.DropdownMenuItem,{onSelect:()=>{x(),v((0,g.filterPublicKeyEquals)(n)),b.push(u.routes.hosts.index)},children:[(0,t.jsx)(r.DropdownMenuLeftSlot,{children:(0,t.jsx)(s.Filter16,{})}),"Filter hosts by public key"]}),(0,t.jsxs)(r.DropdownMenuItem,{onSelect:()=>{S(),w((0,m.publicKeyContainsFilter)(n)),b.push(u.routes.contracts.index)},children:[(0,t.jsx)(r.DropdownMenuLeftSlot,{children:(0,t.jsx)(s.Filter16,{})}),"Filter contracts by host public key"]}),(0,t.jsx)(r.DropdownMenuLabel,{children:"Actions"}),(0,t.jsxs)(r.DropdownMenuItem,{disabled:!e,onSelect:()=>{e&&_.post({params:{hostkey:n},payload:{timeout:(0,y.secondsInMilliseconds)(30)}})},children:[(0,t.jsx)(r.DropdownMenuLeftSlot,{children:(0,t.jsx)(s.DataView16,{})}),"Rescan host"]}),e&&k.data?.find(t=>t===e)?(0,t.jsxs)(r.DropdownMenuItem,{disabled:!e,onSelect:()=>C([],[e]),children:[(0,t.jsx)(r.DropdownMenuLeftSlot,{children:(0,t.jsx)(s.ListChecked16,{})}),"Remove address from blocklist"]}):(0,t.jsxs)(r.DropdownMenuItem,{disabled:!e,onSelect:()=>{e&&C([e],[])},children:[(0,t.jsx)(r.DropdownMenuLeftSlot,{children:(0,t.jsx)(s.ListChecked16,{})}),"Add address to blocklist"]}),j.data?.find(e=>e===n)?(0,t.jsxs)(r.DropdownMenuItem,{onSelect:()=>P([],[n]),children:[(0,t.jsx)(r.DropdownMenuLeftSlot,{children:(0,t.jsx)(s.ListChecked16,{})}),"Remove public key from allowlist"]}):(0,t.jsxs)(r.DropdownMenuItem,{onSelect:()=>P([n],[]),children:[(0,t.jsx)(r.DropdownMenuLeftSlot,{children:(0,t.jsx)(s.ListChecked16,{})}),"Add public key to allowlist"]}),(0,t.jsxs)(r.DropdownMenuItem,{onSelect:()=>T.post({params:{hostkey:n}}),children:[(0,t.jsx)(r.DropdownMenuLeftSlot,{children:(0,t.jsx)(s.ResetAlt16,{})}),"Reset lost sector count"]}),(0,t.jsx)(r.DropdownMenuLabel,{children:"Copy"}),(0,t.jsxs)(r.DropdownMenuItem,{onSelect:()=>(0,o.copyToClipboard)(n,"host public key"),children:[(0,t.jsx)(r.DropdownMenuLeftSlot,{children:(0,t.jsx)(s.Copy16,{})}),"Host public key"]}),(0,t.jsxs)(r.DropdownMenuItem,{disabled:!e,onSelect:()=>{e&&(0,o.copyToClipboard)(e,"host address")},children:[(0,t.jsx)(r.DropdownMenuLeftSlot,{children:(0,t.jsx)(s.Copy16,{})}),"Host address"]})]})}},61047,e=>{"use strict";e.s(["columns",()=>j]);var t=e.i(91398);e.i(86663);var r=e.i(929),n=e.i(91952),i=e.i(82129),a=e.i(26069),o=e.i(38921),s=e.i(33478),l=e.i(7379),u=e.i(29976);e.i(71487);var c=e.i(76993);e.i(37869);var d=e.i(59999),f=e.i(8358),h=e.i(35251),p=e.i(28787),m=e.i(55261),g=e.i(13712),y=e.i(36183),b=e.i(51503);e.i(94066);var v=e.i(68488);e.i(25605);var x=e.i(5646);e.i(86283);var w=e.i(53658),S=e.i(63761),k=e.i(91788);let j=[{id:"actions",label:"",fixed:!0,category:"general",contentClassName:"!pl-3 !pr-4",cellClassName:"w-[20px] !pl-0 !pr-0",heading:({context:{multiSelect:e}})=>(0,t.jsx)(l.Checkbox,{onClick:e.onSelectPage,checked:e.isPageAllSelected}),render:({data:e})=>(0,t.jsx)(b.HostContextMenu,{address:e.address,publicKey:e.publicKey})},{id:"allow",label:"allowed",category:"general",contentClassName:"justify-center",render:function({data:e}){let n=(0,w.useHostsAllowlist)({config:{swr:{dedupingInterval:5e3}}}),i=!!n.data?.length;return(0,t.jsx)(a.Tooltip,{side:"right",content:(i?`Allowlist ${e.isOnAllowlist?"allows this host.":"does not allow this host."}`:"Allowlist is inactive.")+` Blocklist ${e.isOnBlocklist?"blocks this host.":"does not block this host."}`,children:(0,t.jsxs)("div",{className:"flex gap-2 items-center","data-testid":e.isBlocked?"blocked":"allowed",children:[(0,t.jsx)("div",{className:"mt-[5px]",children:(0,t.jsx)(r.Text,{color:e.isBlocked?"red":"green",children:e.isBlocked?(0,t.jsx)(c.WarningSquareFilled16,{}):(0,t.jsx)(c.CheckboxCheckedFilled16,{})})}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)(r.Text,{size:"10",color:e.isOnBlocklist?"red":"verySubtle",noWrap:!0,children:"Blocklist"}),(0,t.jsx)(r.Text,{size:"10",color:i?e.isOnAllowlist?"green":"red":"verySubtle",noWrap:!0,children:"Allowlist"})]})]})})}},{id:"version",label:"version",category:"general",contentClassName:"justify-center",render:({data:e})=>(0,t.jsx)(u.Badge,{size:"small",children:e.v2?"v2":"v1"})},{id:"ap_usable",label:"usable",category:"autopilot",render:({data:e})=>(0,t.jsx)(a.Tooltip,{side:"right",content:e.isUsable?"Host is usable":"Host is not usable",children:(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)("div",{className:"mt-[5px]",children:(0,t.jsx)(r.Text,{"aria-label":e.isUsable?"usable":"not usable",color:e.isUsable?"green":"red",children:e.isUsable?(0,t.jsx)(c.CheckboxCheckedFilled16,{}):(0,t.jsx)(c.WarningSquareFilled16,{})})}),(0,t.jsx)("div",{className:"flex flex-col",children:e.unusableReasons.map(e=>(0,t.jsx)(r.Text,{size:"10",noWrap:!0,children:e},e))})]})})},{id:"ap_gouging",label:"gouging",category:"autopilot",render:({data:e})=>(0,t.jsx)(a.Tooltip,{side:"right",content:e.isGouging?"Host is price gouging":"Host is not price gouging",children:(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)("div",{className:"mt-[5px]",children:(0,t.jsx)(r.Text,{color:e.isGouging?"red":"subtle",children:e.isGouging?(0,t.jsx)(c.WarningSquareFilled16,{}):(0,t.jsx)(c.UndefinedFilled16,{})})}),(0,t.jsx)("div",{className:"flex flex-col",children:Object.entries(e.gougingBreakdown).filter(([e,t])=>t&&"string"==typeof t).map(([e,n])=>(0,t.jsx)(r.Text,{size:"10",noWrap:!0,children:n},e))})]})})},{id:"lastScan",label:"last scan",category:"general",render:function({data:e}){let{workflows:n}=(0,v.useWorkflows)();if(n.find(t=>t.route?.startsWith(x.busHostHostKeyScanRoute.replace(":hostkey",e.publicKey))))return(0,t.jsx)(o.LoadingDots,{});let i=(0,g.formatDistance)(new Date(e.lastScan||0),new Date,{addSuffix:!0}),s="",l=null,u="subtle";return e.lastScan||(s="host has not been scanned",l=(0,t.jsx)(c.UndefinedFilled16,{}),u="subtle"),e.lastScan&&!e.lastScanSuccess&&(s=`host scan failed ${i}`,l=(0,t.jsx)(c.WarningSquareFilled16,{}),u="red"),e.lastScan&&e.lastScanSuccess&&(s=`host scan succeeded ${i}`,l=(0,t.jsx)(c.CheckboxCheckedFilled16,{}),u="green"),(0,t.jsx)(a.Tooltip,{side:"right",content:s,children:(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)("div",{className:"mt-[5px]",children:(0,t.jsx)(r.Text,{color:u,children:l})}),e.lastScan&&(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)(r.Text,{size:"12",noWrap:!0,children:i}),(0,t.jsx)(r.Text,{color:"subtle",size:"10",noWrap:!0,children:(0,m.format)(new Date(e.lastScan),"Pp")})]})]})})}},{id:"hasContract",label:"active contract",category:"general",contentClassName:"w-[50px]",render:({data:e})=>{let n=e.activeContractsCount.gt(0);return(0,t.jsx)(a.Tooltip,{side:"right",content:n?"Host has active contract":"Host does not have an active contract",children:(0,t.jsx)("div",{className:"mt-[5px]",children:(0,t.jsx)(r.Text,{color:n?"green":"subtle",children:n?(0,t.jsx)(c.CheckboxCheckedFilled16,{}):(0,t.jsx)(c.UndefinedFilled16,{})})})})}},{id:"address",label:"address",category:"general",render:({data:e,context:i})=>e.address?(0,t.jsx)(n.ValueCopyable,{value:e.address,size:"12",type:"hostIp",siascanUrl:i.siascanUrl}):(0,t.jsx)(r.Text,{color:"subtle",children:"-"})},{id:"publicKey",label:"public key",category:"general",render:({data:e,context:r})=>(0,t.jsx)(n.ValueCopyable,{value:e.publicKey,size:"12",type:"hostPublicKey",siascanUrl:r.siascanUrl})},{id:"lastAnnouncement",label:"last announcement",category:"general",render:({data:e})=>e.lastAnnouncement?(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsxs)(r.Text,{size:"12",noWrap:!0,children:[(0,g.formatDistance)(new Date,new Date(e.lastAnnouncement))," ago"]}),(0,t.jsx)(r.Text,{color:"subtle",size:"10",noWrap:!0,children:(0,y.formatRelative)(new Date(e.lastAnnouncement),new Date)})]}):null},{id:"totalScans",label:"total scans",category:"general",contentClassName:"w-[120px] justify-end",render:({data:e})=>(0,t.jsx)(i.ValueNum,{size:"12",value:e.totalScans,variant:"value",format:e=>(0,d.humanNumber)(e.toNumber())})},{id:"uptime",label:"uptime",category:"general",contentClassName:"w-[120px] justify-end",render:({data:e})=>(0,t.jsx)(i.ValueNum,{size:"12",value:e.uptime.div(1e9).div(60).div(60).div(24),variant:"value",format:e=>(0,d.humanNumber)(e,{fixed:2*!e.isZero(),units:"days"})})},{id:"downtime",label:"downtime",category:"general",contentClassName:"w-[120px] justify-end",render:({data:e})=>(0,t.jsx)(i.ValueNum,{size:"12",value:e.downtime.div(1e9).div(60).div(60).div(24),variant:"value",format:e=>(0,d.humanNumber)(e,{fixed:2*!e.isZero(),units:"days"})})},{id:"totalInteractions",label:"total interactions",category:"general",contentClassName:"w-[120px] justify-end",render:({data:e})=>(0,t.jsx)(i.ValueNum,{size:"12",value:e.totalInteractions,variant:"value",format:e=>(0,d.humanNumber)(e)})},{id:"successfulInteractions",label:"successful interactions",category:"general",contentClassName:"w-[120px] justify-end",render:({data:e})=>(0,t.jsx)(i.ValueNum,{size:"12",value:e.successfulInteractions,variant:"value",format:e=>(0,d.humanNumber)(e.toNumber())})},{id:"failedInteractions",label:"failed interactions",category:"general",contentClassName:"w-[120px] justify-end",render:({data:e})=>(0,t.jsx)(i.ValueNum,{size:"12",value:e.failedInteractions,variant:"value",format:e=>(0,d.humanNumber)(e.toNumber())})},{id:"contractCount",label:"contract count",category:"general",contentClassName:"w-[120px] justify-end",render:({data:e})=>(0,t.jsx)(i.ValueNum,{size:"12",value:e.activeContractsCount,variant:"value",format:e=>(0,d.humanNumber)(e.toNumber())})},{id:"ap_scoreOverall",label:"overall score",category:"autopilot",contentClassName:"w-[120px] justify-end",render:({data:e})=>(0,t.jsx)(i.ValueNum,{size:"12",value:e.score,variant:"value",format:e=>e.toPrecision(2)})},{id:"ap_scoreAge",label:"age score",category:"autopilot",contentClassName:"w-[120px] justify-end",render:({data:e})=>(0,t.jsx)(i.ValueNum,{size:"12",value:e.scoreBreakdown.age,variant:"value",format:e=>e.toPrecision(2)})},{id:"ap_scoreCollateral",label:"collateral score",category:"autopilot",contentClassName:"w-[120px] justify-end",render:({data:e})=>(0,t.jsx)(i.ValueNum,{size:"12",value:e.scoreBreakdown.collateral,variant:"value",format:e=>e.toPrecision(2)})},{id:"ap_scoreInteractions",label:"interactions score",category:"autopilot",contentClassName:"w-[120px] justify-end",render:({data:e})=>(0,t.jsx)(i.ValueNum,{size:"12",value:e.scoreBreakdown.interactions,variant:"value",format:e=>e.toPrecision(2)})},{id:"ap_scorePrices",label:"prices score",category:"autopilot",contentClassName:"w-[120px] justify-end",render:({data:e})=>(0,t.jsx)(i.ValueNum,{size:"12",value:e.scoreBreakdown.prices,variant:"value",format:e=>e.toPrecision(2)})},{id:"ap_scoreStorageRemaining",label:"storage remaining score",category:"autopilot",contentClassName:"w-[120px] justify-end",render:({data:e})=>(0,t.jsx)(i.ValueNum,{size:"12",value:e.scoreBreakdown.storageRemaining,variant:"value",format:e=>e.toPrecision(2)})},{id:"ap_scoreUptime",label:"uptime score",category:"autopilot",contentClassName:"w-[120px] justify-end",render:({data:e})=>(0,t.jsx)(i.ValueNum,{size:"12",value:e.scoreBreakdown.uptime,variant:"value",format:e=>e.toPrecision(2)})},{id:"ap_scoreVersion",label:"version score",category:"autopilot",contentClassName:"w-[120px] justify-end",render:({data:e})=>(0,t.jsx)(i.ValueNum,{size:"12",value:e.scoreBreakdown.version,variant:"value",format:e=>e.toPrecision(2)})},{id:"settings_acceptingContracts",label:"accepting contracts",category:"settings",contentClassName:"w-[120px] justify-end",render:function({data:e}){let n=e.v2Settings.acceptingContracts;return(0,t.jsx)("div",{className:"mt-[5px]",children:(0,t.jsx)(r.Text,{color:n?"green":"red",children:n?(0,t.jsx)(c.CheckboxCheckedFilled16,{}):(0,t.jsx)(c.WarningSquareFilled16,{})})})}},{id:"settings_remainingStorage",label:"remaining storage",category:"settings",contentClassName:"w-[120px] justify-end",render:function({data:e}){return(0,t.jsx)(i.ValueNum,{size:"12",value:(0,h.sectorsToBytes)(e.v2Settings.remainingStorage||0),variant:"value",format:e=>(0,d.humanBytes)(e.toNumber())})}},{id:"settings_totalStorage",label:"total storage",category:"settings",contentClassName:"w-[120px] justify-end",render:function({data:e}){return(0,t.jsx)(i.ValueNum,{size:"12",value:(0,h.sectorsToBytes)(e.v2Settings.totalStorage||0),variant:"value",format:e=>(0,d.humanBytes)(e.toNumber())})}},{id:"settings_storagePrice",label:"storage price (per TB per month)",category:"settings",contentClassName:"w-[120px] justify-end",render:function({data:e}){return(0,t.jsx)(s.ValueCurrency,{displayBoth:!0,size:"12",value:new S.default(e.v2Settings.prices.storagePrice||0).times((0,p.TBToBytes)(1)).times((0,f.monthsToBlocks)(1)),fixedFiat:4,variant:"value"})}},{id:"settings_ingressPrice",label:"ingress price (per TB)",category:"settings",contentClassName:"w-[120px] justify-end",render:function({data:e}){return(0,t.jsx)(s.ValueCurrency,{displayBoth:!0,size:"12",value:new S.default(e.v2Settings.prices.ingressPrice||0).times((0,p.TBToBytes)(1)),fixedFiat:4,variant:"value"})}},{id:"settings_egressPrice",label:"egress price (per TB)",category:"settings",contentClassName:"w-[120px] justify-end",render:function({data:e}){return(0,t.jsx)(s.ValueCurrency,{displayBoth:!0,size:"12",value:new S.default(e.v2Settings.prices.egressPrice||0).times((0,p.TBToBytes)(1)),fixedFiat:4,variant:"value"})}},{id:"settings_contractPrice",label:"contract price",category:"settings",contentClassName:"w-[120px] justify-end",render:C("contractPrice")},{id:"settings_collateral",label:"collateral",category:"settings",contentClassName:"w-[120px] justify-end",render:C("collateral")},{id:"settings_freeSectorPrice",label:"free sector price",category:"settings",contentClassName:"w-[120px] justify-end",render:C("freeSectorPrice")},{id:"settings_maxCollateral",label:"max collateral",category:"settings",contentClassName:"w-[120px] justify-end",render:(0,k.memo)(function({data:e}){return e.v2Settings?(0,t.jsx)(s.ValueCurrency,{displayBoth:!0,size:"12",value:new S.default(e.v2Settings.maxCollateral||0),fixedFiat:4,variant:"value"}):null})},{id:"settings_maxContractDuration",label:"max contract duration (blocks)",category:"settings",contentClassName:"w-[120px] justify-end",render:function({data:e}){return e.v2Settings?(0,t.jsx)(i.ValueNum,{size:"12",value:new S.default(e.v2Settings.maxContractDuration||0),variant:"value",format:e=>(0,d.humanNumber)(e,{abbreviated:void 0})}):null}}].map(e=>{var r;return{...e,..."autopilot"===(r=e).category?{icon:(0,t.jsx)(c.Plane16,{className:"relative opacity-50 scale-75"}),label:r.label,tip:`autopilot: ${r.label}`}:"settings"===r.category?{icon:(0,t.jsx)(c.Settings16,{className:"relative top-px opacity-50 scale-75"}),label:r.label,tip:`settings: ${r.label}`}:{label:r.label,tip:r.label}}});function C(e){return function({data:r}){return r.v2Settings?(0,t.jsx)(s.ValueCurrency,{displayBoth:!0,size:"12",value:new S.default(r.v2Settings.prices[e]||0),fixedFiat:4,variant:"value"}):null}}},70472,e=>{"use strict";function t(e){return e?e.v2SiamuxAddresses?.length?e.v2SiamuxAddresses[0]:e.netAddress:""}e.s(["getHostAddress",()=>t])},99799,e=>{"use strict";e.s(["HostsProvider",()=>S,"useHosts",()=>w],99799);var t=e.i(91398);e.i(86663);var r=e.i(59522),n=e.i(15222),i=e.i(65132),a=e.i(83571),o=e.i(75821),s=e.i(275);e.i(94066);var l=e.i(82156);e.i(86283);var u=e.i(53658),c=e.i(91788),d=e.i(80985),f=e.i(24397),h=e.i(26093),p=e.i(61047),m=e.i(63761),g=e.i(40548),y=e.i(73799),b=e.i(70472);let v=["allow","address","publicKey","lastScan","lastAnnouncement","totalScans","uptime","hasContract","ap_usable","ap_scoreOverall","settings_remainingStorage","settings_totalStorage","settings_storagePrice","settings_ingressPrice","settings_egressPrice"],x=(0,c.createContext)({}),w=()=>(0,c.useContext)(x);function S({children:e}){let w=function(){let[e,t]=(0,c.useState)("list"),{limit:x,offset:w}=(0,a.usePaginationOffset)(50),{filters:S,setFilter:k,removeFilter:j,removeLastFilter:C,resetFilters:P}=(0,o.useServerFilters)(),{dataset:_}=(0,h.useContracts)(),T=(0,c.useMemo)(()=>{let e=[];S.find(e=>"hasActiveContracts"===e.id)&&_&&(e=_.map(e=>e.hostKey));let t=S.find(e=>"publicKeyEquals"===e.id);return t?.value&&e.push(t.value),e.length?e:void 0},[S,_]),E=(0,c.useMemo)(()=>({limit:x,offset:w,usabilityMode:S.find(e=>"usabilityMode"===e.id)?.value||"all",filterMode:S.find(e=>"filterMode"===e.id)?.value||"all",addressContains:S.find(e=>"addressContains"===e.id)?.value,keyIn:T}),[S,T,x,w]),R=(0,u.useHosts)({payload:E,config:{swr:{refreshInterval:d.defaultDatasetRefreshInterval}}}),M=(0,u.useHostsAllowlist)(),D=(0,u.useHostsBlocklist)(),A=!!M.data?.length,{settings:F}=(0,l.useAppSettings)(),B=(0,r.useDaemonExplorerHostsList)({params:{sortBy:"storage_price",dir:"asc",limit:1e3},payload:{online:!0}});(0,c.useEffect)(()=>{F.siascan||t("list")},[F.siascan]);let N=(0,c.useMemo)(()=>B.data||[],[B.data]),O=(0,c.useCallback)(e=>{let t=document.getElementById(e),r=document.getElementById("scroll-hosts");t&&r&&r.scroll({top:t.offsetTop-50,behavior:"smooth"})},[]),I=function({response:e,allContracts:t,allowlist:r,blocklist:n,isAllowlistActive:i,geoHosts:a}){return(0,c.useMemo)(()=>{let o=(0,y.maybeFromNullishArrayResponse)(e.data),s=(0,y.maybeFromNullishArrayResponse)(r.data),l=(0,y.maybeFromNullishArrayResponse)(n.data);if(o&&s&&l)return o.map(e=>{var r,n,o;let u=a.find(t=>t.publicKey===e.publicKey);return{...(r=e,n=t,{id:r.publicKey,address:(0,b.getHostAddress)(r),publicKey:r.publicKey,lastScanSuccess:r.interactions.lastScanSuccess,lastScan:"0001-01-01T00:00:00Z"===r.interactions.lastScan?void 0:r.interactions.lastScan,knownSince:"0001-01-01T00:00:00Z"===r.knownSince?void 0:r.knownSince,lastAnnouncement:"0001-01-01T00:00:00Z"===r.lastAnnouncement?void 0:r.lastAnnouncement,uptime:new m.default(r.interactions.uptime||0),downtime:new m.default(r.interactions.downtime||0),successfulInteractions:new m.default(r.interactions.successfulInteractions||0),totalInteractions:new m.default(r.interactions.successfulInteractions+r.interactions.failedInteractions||0),failedInteractions:new m.default(r.interactions.failedInteractions||0),totalScans:new m.default(r.interactions.totalScans||0),activeContractsCount:new m.default(n?.filter(e=>e.hostKey===r.publicKey).length||0),activeContracts:n?.filter(e=>e.hostKey===r.publicKey)||[],v2Settings:r.v2Settings,v2:!!r.v2SiamuxAddresses,v1Settings:r.settings}),...function({host:e,allowlist:t,blocklist:r,isAllowlistActive:n}){let i=!!t?.find(t=>t===e.publicKey),a=!!r?.find(t=>{let r=(0,b.getHostAddress)(e);if(t===r)return!0;try{let e=new URL("https://"+r).hostname;return t===e}catch{return!1}});return{isOnAllowlist:i,isOnBlocklist:a,isBlocked:a||!(!n||i)}}({host:e,allowlist:s,blocklist:l,isAllowlistActive:i}),...(o=e.checks,{score:new m.default(o?.score||0),scoreBreakdown:{age:new m.default(o?.scoreBreakdown.age||0),collateral:new m.default(o?.scoreBreakdown.collateral||0),interactions:new m.default(o?.scoreBreakdown.interactions||0),prices:new m.default(o?.scoreBreakdown.prices||0),storageRemaining:new m.default(o?.scoreBreakdown.storageRemaining||0),uptime:new m.default(o?.scoreBreakdown.uptime||0),version:new m.default(o?.scoreBreakdown.version||0)},isGouging:Object.values(o?.gougingBreakdown||{}).some(e=>e),isUsable:!!o?.usable,gougingBreakdown:o?.gougingBreakdown||{},usabilityBreakdown:o?.usabilityBreakdown||{blocked:!1,gouging:!1,lowScore:!1,notAcceptingContracts:!1,notAnnounced:!1,notCompletingScan:!1,offline:!1,redundantIP:!1},unusableReasons:o?(0,g.objectEntries)(o.usabilityBreakdown).reduce((e,[t,r])=>r?e.concat(function(e){switch(e){case"blocked":return"Host is blocked";case"gouging":return"Host is gouging";case"lowScore":return"Host has low score";case"notAcceptingContracts":return"Host is not accepting contracts";case"notAnnounced":return"Host is not announced";case"notCompletingScan":return"Host is not completing scan";case"offline":return"Host is offline";case"redundantIP":return"Host has redundant IP";default:return"Unknown"}}(t)):e,[]):[]}),location:u?.location,onClick:()=>null,isSelected:!1}})},[e,t,r,n,i,a])}({response:R,allContracts:_,allowlist:M,blocklist:D,isAllowlistActive:A,geoHosts:N}),{configurableColumns:z,visibleColumnIds:U,visibleColumns:L,toggleColumnVisibility:H,setColumnsVisible:W,setColumnsHidden:V,toggleSort:q,setSortDirection:G,setSortField:K,sortField:$,sortDirection:Y,resetDefaultColumnVisibility:Z}=(0,s.useTableState)("renterd/v1/hosts",{columns:p.columns,columnsDefaultVisible:v}),X=(0,c.useMemo)(()=>I?.filter(e=>e.location&&e.v2&&e.v2Settings),[I]),J=(0,i.useMultiSelect)(I),Q=(0,c.useMemo)(()=>{if(1===J.selectedIds.length)return I?.find(e=>e.publicKey===J.selectedIds[0])},[I,J.selectedIds]),ee=(0,c.useMemo)(()=>{if(I)return I.map(e=>({...e,onClick:t=>J.onSelect(e.id,t),isSelected:!!J.selection[e.id]}))},[I,J]),et=(0,f.useSiascanUrl)(),er=(0,c.useMemo)(()=>({siascanUrl:et,multiSelect:J}),[et,J]),en=(0,c.useCallback)((e,t)=>{Q?.publicKey!==e&&(J.deselectAll(),J.onSelect(e),O(e))},[Q,J,O]),ei=R.isValidating,ea=R.error,eo=(0,n.useDatasetState)({datasetPage:ee,isValidating:ei,error:ea,offset:w,filters:S});return{viewMode:e,activeHost:Q,onHostMapClick:en,setViewMode:t,hostsWithLocation:X,error:ea,datasetState:eo,offset:w,limit:x,datasetPageTotal:ee?.length||0,visibleColumns:L,datasetPage:ee,tableContext:er,configurableColumns:z,visibleColumnIds:U,toggleColumnVisibility:H,setColumnsVisible:W,setColumnsHidden:V,toggleSort:q,setSortDirection:G,setSortField:K,sortField:$,sortDirection:Y,resetDefaultColumnVisibility:Z,filters:S,setFilter:k,removeFilter:j,removeLastFilter:C,resetFilters:P,multiSelect:J}}();return(0,t.jsx)(x.Provider,{value:w,children:e})}},41963,e=>{"use strict";e.s(["useContractConfirmDelete",()=>l]);var t=e.i(91398);e.i(86663);var r=e.i(67419),n=e.i(8854);e.i(71487);var i=e.i(76993),a=e.i(84588),o=e.i(91788);e.i(86283);var s=e.i(53658);function l(){let{openConfirmDialog:e}=(0,a.useDialog)(),l=(0,s.useContractDelete)();return(0,o.useCallback)(a=>e({title:"Delete contract",action:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Delete16,{}),"Delete"]}),variant:"red",body:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)(r.Paragraph,{size:"14",children:"Are you sure you would like to delete the following contract:"}),(0,t.jsxs)(r.Paragraph,{size:"14",font:"mono",children:[a.slice(0,20),"..."]})]}),onConfirm:async()=>{let e=await l.delete({params:{id:a}});e.error&&(0,n.triggerErrorToast)({title:"Error deleting contract",body:e.error}),(0,n.triggerSuccessToast)({title:"Deleted contract"})}}),[e,l])}},75965,89341,e=>{"use strict";e.s(["columns",()=>M],75965);var t=e.i(91398);e.i(86663);var r=e.i(929),n=e.i(33478),i=e.i(80811),a=e.i(91952),o=e.i(50529),s=e.i(26069),l=e.i(82129),u=e.i(29976),c=e.i(40480),d=e.i(54413),f=e.i(38921),h=e.i(7379);e.i(71487);var p=e.i(76993);e.i(37869);var m=e.i(59999);e.s(["ContractContextMenu",()=>T,"ContractContextMenuContent",()=>E],89341);var g=e.i(57184),y=e.i(73797);e.i(86283);var b=e.i(53658),v=e.i(43652),x=e.i(17837),w=e.i(26093),S=e.i(99799),k=e.i(26566),j=e.i(83081),C=e.i(66450),P=e.i(41963),_=e.i(70472);function T({id:e,trigger:r,hostKey:n,contentProps:i,buttonProps:a}){return(0,t.jsx)(g.DropdownMenu,{trigger:r||(0,t.jsx)(d.Button,{"aria-label":"contract context menu",icon:"hover",size:"none",...a,children:(0,t.jsx)(p.CaretDown16,{})}),contentProps:{align:"start",...i,onClick:e=>{e.stopPropagation()}},children:(0,t.jsx)(E,{id:e,hostKey:n})})}function E({id:e,hostKey:n}){let i=(0,x.useRouter)(),{setFilter:a,resetFilters:o}=(0,S.useHosts)(),{setFilter:s,resetFilters:l}=(0,w.useContracts)(),u=(0,b.useHostsBlocklist)(),c=(0,b.useHostsAllowlist)(),d=(0,j.useBlocklistUpdate)(),f=(0,k.useAllowlistUpdate)(),h=(0,P.useContractConfirmDelete)(),m=(0,b.useHost)({disabled:!n,params:{hostkey:n||""}}),T=(0,_.getHostAddress)(m.data);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"px-1.5 py-1",children:(0,t.jsxs)(r.Text,{size:"14",weight:"medium",color:"subtle",children:["Contract ",e.slice(0,24),"..."]})}),(0,t.jsx)(g.DropdownMenuLabel,{children:"Filters"}),(0,t.jsxs)(g.DropdownMenuItem,{disabled:!T,onSelect:()=>{o(),a({id:"addressContains",value:T,label:`Address contains ${T}`}),i.push(v.routes.hosts.index)},children:[(0,t.jsx)(g.DropdownMenuLeftSlot,{children:(0,t.jsx)(p.Filter16,{})}),"Filter hosts by host address"]}),(0,t.jsxs)(g.DropdownMenuItem,{disabled:!n,onSelect:()=>{n&&(l(),s((0,C.publicKeyContainsFilter)(n)),i.push(v.routes.contracts.index))},children:[(0,t.jsx)(g.DropdownMenuLeftSlot,{children:(0,t.jsx)(p.Filter16,{})}),"Filter contracts by host public key"]}),(0,t.jsx)(g.DropdownMenuLabel,{children:"Actions"}),u.data?.find(e=>e===T)?(0,t.jsxs)(g.DropdownMenuItem,{disabled:!T,onSelect:()=>{T&&d([],[T])},children:[(0,t.jsx)(g.DropdownMenuLeftSlot,{children:(0,t.jsx)(p.ListChecked16,{})}),"Remove host address from blocklist"]}):(0,t.jsxs)(g.DropdownMenuItem,{disabled:!T,onSelect:()=>{T&&d([T],[])},children:[(0,t.jsx)(g.DropdownMenuLeftSlot,{children:(0,t.jsx)(p.ListChecked16,{})}),"Add host address to blocklist"]}),c.data?.find(e=>e===n)?(0,t.jsxs)(g.DropdownMenuItem,{disabled:!n,onSelect:()=>{n&&f([],[n])},children:[(0,t.jsx)(g.DropdownMenuLeftSlot,{children:(0,t.jsx)(p.ListChecked16,{})}),"Remove host public key from allowlist"]}):(0,t.jsxs)(g.DropdownMenuItem,{disabled:!n,onSelect:()=>{n&&f([n],[])},children:[(0,t.jsx)(g.DropdownMenuLeftSlot,{children:(0,t.jsx)(p.ListChecked16,{})}),"Add host public key to allowlist"]}),(0,t.jsxs)(g.DropdownMenuItem,{onSelect:()=>h(e),children:[(0,t.jsx)(g.DropdownMenuLeftSlot,{children:(0,t.jsx)(p.Delete16,{})}),"Delete contract"]}),(0,t.jsx)(g.DropdownMenuLabel,{children:"Copy"}),(0,t.jsxs)(g.DropdownMenuItem,{onSelect:()=>(0,y.copyToClipboard)(e,"contract ID"),children:[(0,t.jsx)(g.DropdownMenuLeftSlot,{children:(0,t.jsx)(p.Copy16,{})}),"Contract ID"]}),(0,t.jsxs)(g.DropdownMenuItem,{disabled:!n,onSelect:()=>{n&&(0,y.copyToClipboard)(n,"host public key")},children:[(0,t.jsx)(g.DropdownMenuLeftSlot,{children:(0,t.jsx)(p.Copy16,{})}),"Host public key"]}),(0,t.jsxs)(g.DropdownMenuItem,{disabled:!T,onSelect:()=>{T&&(0,y.copyToClipboard)(T,"host address")},children:[(0,t.jsx)(g.DropdownMenuLeftSlot,{children:(0,t.jsx)(p.Copy16,{})}),"Host address"]})]})}var R=e.i(63761);let M=[{id:"actions",label:"",fixed:!0,contentClassName:"!pl-3 !pr-4",cellClassName:"w-[20px] !pl-0 !pr-0",heading:({context:{multiSelect:e}})=>(0,t.jsx)(h.Checkbox,{onClick:e.onSelectPage,checked:e.isPageAllSelected}),render:({data:{id:e,hostKey:r}})=>(0,t.jsx)(T,{id:e,hostKey:r})},{id:"contractId",label:"contract ID",category:"general",render:({data:{id:e,isRenewed:n,renewedFrom:i},context:{siascanUrl:l}})=>(0,t.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,t.jsx)(a.ValueCopyable,{size:"12",value:(0,o.stripPrefix)(e),type:"contract",label:"contract ID",siascanUrl:l}),n&&(0,t.jsx)(s.Tooltip,{content:"Renewed from",align:"start",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(r.Text,{color:"subtle",children:(0,t.jsx)(p.ArrowUpLeft16,{className:"scale-75"})}),(0,t.jsx)(a.ValueCopyable,{testId:"renewedFrom",color:"subtle",size:"10",type:"contract",value:(0,o.stripPrefix)(i),siascanUrl:l,label:"contract ID"})]})})]})},{id:"usability",label:"usability",contentClassName:"w-[120px]",category:"general",render:({data:{usability:e}})=>{let r="",n="",i=null,a="green";if("good"===e)r="good",n="This contract is usable and good for renewal.",i=(0,t.jsx)(p.CheckmarkFilled16,{className:"scale-75"}),a="green";else{if("bad"!==e)return null;r="bad",n="This contract is unusable and will not be renewed.",i=(0,t.jsx)(p.CheckmarkFilledError16,{className:"scale-75"}),a="red"}return(0,t.jsx)(s.Tooltip,{content:n,children:(0,t.jsxs)(u.Badge,{variant:a,interactive:!1,size:"small",className:"flex gap-px items-center pl-px",children:[i,r]})})}},{id:"hostKey",label:"host public key",category:"general",render:({data:{hostKey:e},context:{siascanUrl:r}})=>(0,t.jsx)(a.ValueCopyable,{size:"12",value:e,type:"hostPublicKey",siascanUrl:r})},{id:"state",label:"state",category:"general",render:({data:{state:e}})=>{var n;return(0,t.jsx)(s.Tooltip,{content:(0,t.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)(r.Text,{size:"12",className:"flex-1",weight:"medium",children:"pending"}),(0,t.jsx)(r.Text,{size:"12",className:"flex-[2]",color:"subtle",children:"Contract has been added."})]}),(0,t.jsx)(c.Separator,{className:"w-full"}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)(r.Text,{size:"12",className:"flex-1",weight:"medium",children:"active"}),(0,t.jsx)(r.Text,{size:"12",className:"flex-[2]",color:"subtle",children:"Contract has appeared on chain."})]}),(0,t.jsx)(c.Separator,{className:"w-full"}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)(r.Text,{size:"12",className:"flex-1",weight:"medium",children:"complete"}),(0,t.jsx)(r.Text,{size:"12",className:"flex-[2]",color:"subtle",children:"Storage proof has appeared on chain."})]}),(0,t.jsx)(c.Separator,{className:"w-full"}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)(r.Text,{size:"12",className:"flex-1",weight:"medium",children:"failed"}),(0,t.jsx)(r.Text,{size:"12",className:"flex-[2]",color:"subtle",children:"Storage proof was not submitted before the end of proof window."})]})]}),children:(0,t.jsx)(u.Badge,{variant:"active"===(n=e)?"amber":"failed"===n?"red":"pending"===n?"amber":"complete"===n?"green":void 0,children:e})})}},{id:"timeline",label:"timeline",category:"time",render:({data:{contractHeightStart:e,contractHeightEnd:r,proofWindowHeightStart:n,proofWindowHeightEnd:a,revisionHeight:o,proofHeight:s},context:{currentHeight:l,contractsTimeRange:u}})=>(0,t.jsx)("div",{className:"w-[400px]",children:(0,t.jsx)(i.ContractTimeline,{currentHeight:l,contractHeightStart:e,contractHeightEnd:r,proofWindowHeightStart:n,proofWindowHeightEnd:a,resolutionHeight:s,revisionHeight:o,range:u})})},{id:"startTime",label:"start date",category:"time",contentClassName:"w-[120px] justify-end",render:({data:{startTime:e}})=>(0,t.jsx)(r.Text,{size:"12",font:"mono",ellipsis:!0,children:(0,m.humanDate)(e)})},{id:"endTime",label:"end date",category:"time",contentClassName:"w-[120px] justify-end",render:({data:{endTime:e}})=>(0,t.jsx)(r.Text,{size:"12",font:"mono",ellipsis:!0,children:(0,m.humanDate)(e)})},{id:"size",label:"size",category:"general",contentClassName:"w-[120px] justify-end",render:({data:{size:e}})=>(0,t.jsx)(l.ValueNum,{size:"12",value:e,variant:"value",format:e=>(0,m.humanBytes)(e)}),summary:({context:e})=>e.filteredStats.sizeTotal?(0,t.jsx)(l.ValueNum,{size:"12",value:e.filteredStats.sizeTotal,format:e=>(0,m.humanBytes)(e),variant:"value"}):null},{id:"prunableSize",label:"prunable size",category:"general",contentClassName:"px-1 justify-end",render:function({data:{fetchPrunableSize:e,isFetchingPrunableSize:r,prunableSize:n},context:{isFetchingPrunableSizeAll:i}}){let a=r||i;return void 0===n?(0,t.jsx)(d.Button,{tip:"Calculate prunable size for contract",onClick:t=>{t.stopPropagation(),e()},children:a?(0,t.jsx)(f.LoadingDots,{}):(0,t.jsx)(p.Calculator16,{})}):(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(D,{value:new R.default(n),tip:"The amount of data that can be pruned from this contract"}),(0,t.jsx)(d.Button,{tip:"Realculate prunable size for contract",onClick:t=>{t.stopPropagation(),e()},children:a?(0,t.jsx)(f.LoadingDots,{}):(0,t.jsx)(p.Reset16,{})})]})},summary:({context:e})=>e.hasFetchedAllPrunableSize?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[e.filteredStats.prunableSizeTotal&&(0,t.jsx)(D,{value:e.filteredStats.prunableSizeTotal,tip:"The amount of data that can be pruned from contracts in the filtered set of active contracts"}),(0,t.jsx)(d.Button,{tip:"Recalculate prunable size for all contracts",state:e.isFetchingPrunableSizeAll?"waiting":void 0,onClick:e.fetchPrunableSizeAll,children:e.isFetchingPrunableSizeAll?(0,t.jsx)(f.LoadingDots,{}):(0,t.jsx)(p.Reset16,{})})]}):(0,t.jsx)(d.Button,{tip:"Calculate prunable size for all contracts",state:e.isFetchingPrunableSizeAll?"waiting":void 0,onClick:e.fetchPrunableSizeAll,children:e.isFetchingPrunableSizeAll?(0,t.jsx)(f.LoadingDots,{}):(0,t.jsx)(p.Calculator16,{})})},{id:"initialRenterFunds",label:"initial renter funds",category:"financial",contentClassName:"w-[120px] justify-end",render:({data:{initialRenterFunds:e}})=>(0,t.jsx)(n.ValueCurrency,{displayBoth:!0,size:"12",value:e.negated()}),summary:({context:{filteredStats:e}})=>e.initialRenterFundsTotal?(0,t.jsx)(n.ValueCurrency,{displayBoth:!0,size:"12",value:e.initialRenterFundsTotal.negated(),tooltip:"Total initial renter funds across the filtered set of active contracts"}):null},{id:"spendingUploads",label:"uploads spending",category:"financial",contentClassName:"w-[120px] justify-end",render:({data:{spendingUploads:e}})=>(0,t.jsx)(n.ValueCurrency,{displayBoth:!0,size:"12",value:e.negated()}),summary:({context:{filteredStats:e}})=>e.spendingUploadsTotal?(0,t.jsx)(n.ValueCurrency,{displayBoth:!0,size:"12",value:e.spendingUploadsTotal.negated(),tooltip:"Uploads spending across the filtered set of active contracts"}):null},{id:"spendingDeletions",label:"deletions spending",category:"financial",contentClassName:"w-[120px] justify-end",render:({data:{spendingDeletions:e}})=>(0,t.jsx)(n.ValueCurrency,{displayBoth:!0,size:"12",value:e.negated()}),summary:({context:{filteredStats:e}})=>e.spendingDeletionsTotal?(0,t.jsx)(n.ValueCurrency,{displayBoth:!0,size:"12",value:e.spendingDeletionsTotal.negated(),tooltip:"Deletions spending across the filtered set of active contracts"}):null},{id:"spendingFundAccount",label:"fund account spending",category:"financial",contentClassName:"w-[120px] justify-end",render:({data:{spendingFundAccount:e}})=>(0,t.jsx)(n.ValueCurrency,{displayBoth:!0,size:"12",value:e.negated()}),summary:({context:{filteredStats:e}})=>e.spendingFundAccountTotal?(0,t.jsx)(n.ValueCurrency,{displayBoth:!0,size:"12",value:e.spendingFundAccountTotal.negated(),tooltip:"Fund account spending across the filtered set of active contracts"}):null},{id:"spendingSectorRoots",label:"sector roots spending",category:"financial",contentClassName:"w-[120px] justify-end",render:({data:{spendingSectorRoots:e}})=>(0,t.jsx)(n.ValueCurrency,{displayBoth:!0,size:"12",value:e.negated()}),summary:({context:{filteredStats:e}})=>e.spendingSectorRootsTotal?(0,t.jsx)(n.ValueCurrency,{displayBoth:!0,size:"12",value:e.spendingSectorRootsTotal.negated(),tooltip:"Sector roots spending across the filtered set of active contracts"}):null}];function D({value:e,tip:r}){return(0,t.jsx)(s.Tooltip,{content:r,children:(0,t.jsxs)("div",{className:"flex items-center gap-0.5","aria-label":"prunable size",children:[(0,t.jsx)(l.ValueNum,{size:"12",value:e,format:e=>(0,m.humanBytes)(e),variant:"value"}),(0,t.jsx)(p.Cut16,{className:"scale-75"})]})})}},79757,e=>{"use strict";e.i(37869);var t=e.i(41399);e.i(94066);var r=e.i(82156);e.i(86283);var n=e.i(53658);function i(){let{isUnlockedAndAuthedRoute:e}=(0,r.useAppSettings)(),i=(0,n.useConsensusState)({config:{swr:{refreshInterval:e=>e?.synced?(0,t.secondsInMilliseconds)(60):(0,t.secondsInMilliseconds)(10)}}}),a=(0,n.useEstimatedNetworkBlockHeight)(),o=i.data?i.data?.blockHeight:0,s=(0,n.useWallet)({config:{swr:{refreshInterval:e=>e?.scanHeight&&e.scanHeight>=o?(0,t.secondsInMilliseconds)(60):(0,t.secondsInMilliseconds)(10)}}}),l=e&&o&&a?Number((100*Math.min(o/a,1)).toFixed(1)):0,u=e&&o&&s.data?Number((100*Math.min(s.data.scanHeight/a,1)).toFixed(1)):0;return{isSynced:!!i.data?.synced,isWalletSynced:!!(i.data?.synced&&s.data?.scanHeight&&s.data.scanHeight>=o-1),nodeBlockHeight:o,estimatedBlockHeight:a,syncPercent:l,walletScanPercent:u,moreThan100BlocksToSync:!!o&&!!a&&a-o>100}}e.s(["useSyncStatus",()=>i])},26093,8828,e=>{"use strict";e.s(["ContractsProvider",()=>I,"useContracts",()=>O],26093);var t=e.i(91398);e.i(86663);var r=e.i(275),n=e.i(11014),i=e.i(15222),a=e.i(50716),o=e.i(24752),s=e.i(65132),l=e.i(83571);e.i(86283);var u=e.i(53658),c=e.i(91788),d=e.i(92559),f=e.i(75965),h=e.i(79757),p=e.i(24397),m=e.i(88455),g=e.i(95240),y=e.i(33478),b=e.i(86807),v=e.i(63761);e.i(37869);var x=e.i(56115),w=e.i(41399);function S(e){let t=(0,w.minutesInMilliseconds)(5);return Math.round(e/t)*t}function k({start:e,disabled:r,contractId:n}){let i=S(e),a=(0,w.daysInMilliseconds)(1),o=(0,c.useMemo)(()=>Math.max(Math.round((S(new Date().getTime())-i)/a),1),[i,a]),s=(0,c.useMemo)(()=>{let e={start:new Date(i||0).toISOString(),interval:a,n:o};return n&&(e.contractid=n),e},[i,a,o,n]),l=(0,u.useMetricsContract)({disabled:r,params:s});return{contractMetrics:(0,c.useMemo)(()=>{let e=(0,m.formatChartData)(l.data?.map(e=>({uploadSpending:Number(e.uploadSpending),listSpending:Number(e.listSpending),deleteSpending:Number(e.deleteSpending),fundAccountSpending:Number(e.fundAccountSpending),remainingCollateral:Number(e.remainingCollateral),remainingFunds:Number(e.remainingFunds),timestamp:new Date(e.timestamp).getTime()})),"none"),r=(0,g.computeChartStats)(e);return{data:e,stats:r,config:{enabledGraph:["remainingFunds","remainingCollateral","fundAccountSpending","uploadSpending","listSpending","deleteSpending"],enabledTip:["remainingFunds","remainingCollateral","fundAccountSpending","uploadSpending","listSpending","deleteSpending"],categories:["funding","spending"],data:{remainingFunds:{label:"remaining funds",category:"funding",color:b.colors.emerald[600]},remainingCollateral:{label:"remaining collateral",category:"funding",pattern:!0,color:b.colors.emerald[600]},fundAccountSpending:{label:"fund account",category:"spending",color:b.colors.red[600]},uploadSpending:{label:"upload",category:"spending",color:b.colors.red[600]},listSpending:{label:"list",category:"spending",color:b.colors.red[600]},deleteSpending:{label:"delete",category:"spending",color:b.colors.red[600]}},formatComponent:function({value:e}){return(0,t.jsx)(y.ValueCurrency,{variant:"value",value:new v.default(e)})},formatTimestamp:a===(0,w.daysInMilliseconds)(1)?(0,m.getDataIntervalLabelFormatter)("daily"):void 0,formatTickY:e=>(0,x.humanSiacoin)(e,{fixed:0,dynamicUnits:!0}),disableAnimations:!0,chartType:"barstack",curveType:"linear",stackOffset:"none"},isLoading:l.isValidating&&!l.data}},[l.data,l.isValidating,a])}}var j=e.i(80985),C=e.i(8358),P=e.i(8854);e.i(94066);var _=e.i(82156),T=e.i(25605),E=e.i(5646),R=e.i(43253),M=e.i(62382);e.i(10282);let D=(0,c.createContext)({}),A=()=>(0,c.useContext)(D);function F({children:e}){let r={bus:function(){let[e,t]=(0,c.useState)(null),{settings:{api:r,password:n}}=(0,_.useAppSettings)();return(0,c.useEffect)(()=>{t(function({api:e,password:t,timeout:r}){let n=(0,M.initAxios)(e,t,r);return{axios:n,busState:(0,M.buildRequestHandler)(n,"get",E.busStateRoute),consensusState:(0,M.buildRequestHandler)(n,"get",E.busConsensusStateRoute),consensusNetwork:(0,M.buildRequestHandler)(n,"get",E.busConsensusNetworkRoute),consensusAcceptBlock:(0,M.buildRequestHandler)(n,"post",E.busConsensusAcceptblockRoute),syncerPeers:(0,M.buildRequestHandler)(n,"get",E.busSyncerPeersRoute),syncerConnect:(0,M.buildRequestHandler)(n,"post",E.busSyncerConnectRoute),syncerAddress:(0,M.buildRequestHandler)(n,"get",E.busSyncerAddrRoute),txPoolFee:(0,M.buildRequestHandler)(n,"get",E.busTxpoolRecommendedFeeRoute),txPoolTransactions:(0,M.buildRequestHandler)(n,"get",E.busTxpoolTransactionsRoute),txPoolBroadcast:(0,M.buildRequestHandler)(n,"post",E.busTxpoolBroadcastRoute),wallet:(0,M.buildRequestHandler)(n,"get",E.busWalletRoute),walletEvents:(0,M.buildRequestHandler)(n,"get",E.busWalletEventsRoute),walletPending:(0,M.buildRequestHandler)(n,"get",E.busWalletPendingRoute),walletSend:(0,M.buildRequestHandler)(n,"post",E.busWalletSendRoute),walletRedistribute:(0,M.buildRequestHandler)(n,"post",E.busWalletRedistributeRoute),walletPrepareForm:(0,M.buildRequestHandler)(n,"post",E.busWalletPrepareFormRoute),walletPrepareRenew:(0,M.buildRequestHandler)(n,"post","/bus/wallet/prepare/form"),hosts:(0,M.buildRequestHandler)(n,"post",E.busHostsRoute),host:(0,M.buildRequestHandler)(n,"get",E.busHostHostKeyRoute),hostsInteractionAdd:(0,M.buildRequestHandler)(n,"post",E.busHostsHostKeyRoute),hostsBlocklist:(0,M.buildRequestHandler)(n,"get",E.busHostsBlocklistRoute),hostsAllowlist:(0,M.buildRequestHandler)(n,"get",E.busHostsAllowlistRoute),hostsAllowlistUpdate:(0,M.buildRequestHandler)(n,"put",E.busHostsAllowlistRoute),hostsBlocklistUpdate:(0,M.buildRequestHandler)(n,"put",E.busHostsBlocklistRoute),hostResetLostSectorCount:(0,M.buildRequestHandler)(n,"post",E.busHostPublicKeyResetlostsectorsRoute),hostScan:(0,M.buildRequestHandler)(n,"post",E.busHostHostKeyScanRoute),contracts:(0,M.buildRequestHandler)(n,"get",E.busContractsRoute),contractsForm:(0,M.buildRequestHandler)(n,"post",E.busContractsFormRoute),contractsAcquire:(0,M.buildRequestHandler)(n,"post",E.busContractIdAcquireRoute),contractsRelease:(0,M.buildRequestHandler)(n,"post",E.busContractIdReleaseRoute),contract:(0,M.buildRequestHandler)(n,"get",E.busContractIdRoute),contractAdd:(0,M.buildRequestHandler)(n,"post",E.busContractIdNewRoute),contractRenew:(0,M.buildRequestHandler)(n,"post",E.busContractIdRenewedRoute),contractDelete:(0,M.buildRequestHandler)(n,"delete",E.busContractIdRoute),contractSize:(0,M.buildRequestHandler)(n,"get",E.busContractIdSize),contractsPrunable:(0,M.buildRequestHandler)(n,"get",E.busContractsPrunableRoute),buckets:(0,M.buildRequestHandler)(n,"get",E.busBucketsRoute),bucket:(0,M.buildRequestHandler)(n,"get",E.busBucketNameRoute),bucketCreate:(0,M.buildRequestHandler)(n,"post",E.busBucketsRoute),bucketPolicyUpdate:(0,M.buildRequestHandler)(n,"put",E.busBucketNamePolicyRoute),bucketDelete:(0,M.buildRequestHandler)(n,"delete",E.busBucketNameRoute),objects:(0,M.buildRequestHandler)(n,"get",E.busObjectsPrefixRoute),object:(0,M.buildRequestHandler)(n,"get",E.busObjectKeyRoute),objectAdd:(0,M.buildRequestHandler)(n,"put",E.busObjectKeyRoute),objectsRename:(0,M.buildRequestHandler)(n,"post",E.busObjectsRenameRoute),objectsRemove:(0,M.buildRequestHandler)(n,"post",E.busObjectsRemoveRoute),objectStats:(0,M.buildRequestHandler)(n,"get",E.busStatsObjectsRoute),settingsGouging:(0,M.buildRequestHandler)(n,"get",E.busSettingsGougingRoute),settingsPinned:(0,M.buildRequestHandler)(n,"get",E.busSettingsPinnedRoute),settingsS3:(0,M.buildRequestHandler)(n,"get",E.busSettingsS3Route),settingsUpload:(0,M.buildRequestHandler)(n,"get",E.busSettingsUploadRoute),settingsGougingUpdate:(0,M.buildRequestHandler)(n,"put",E.busSettingsGougingRoute),settingsPinnedUpdate:(0,M.buildRequestHandler)(n,"put",E.busSettingsPinnedRoute),settingsS3Update:(0,M.buildRequestHandler)(n,"put",E.busSettingsS3Route),settingsUploadUpdate:(0,M.buildRequestHandler)(n,"put",E.busSettingsUploadRoute),alerts:(0,M.buildRequestHandler)(n,"get",E.busAlertsRoute),alertsDismiss:(0,M.buildRequestHandler)(n,"post",E.busAlertsDismissRoute),slabObjects:(0,M.buildRequestHandler)(n,"get",E.busSlabKeyObjectsRoute),contractMetrics:(0,M.buildRequestHandler)(n,"get",E.busMetricContractRoute),walletMetrics:(0,M.buildRequestHandler)(n,"get",E.busMetricWalletRoute),multipartUploadCreate:(0,M.buildRequestHandler)(n,"post",E.busMultipartCreateRoute),multipartUploadComplete:(0,M.buildRequestHandler)(n,"post",E.busMultipartCompleteRoute),multipartUploadAbort:(0,M.buildRequestHandler)(n,"post",E.busMultipartAbortRoute),multipartUploadListParts:(0,M.buildRequestHandler)(n,"post",E.busMultipartListpartsRoute),multipartUploadListUploads:(0,M.buildRequestHandler)(n,"post",E.busMultipartListuploadsRoute),multipartUploadAddPart:(0,M.buildRequestHandler)(n,"post",E.busMultipartPartRoute),autopilotConfig:(0,M.buildRequestHandler)(n,"get",R.busAutopilotRoute),autopilotConfigUpdate:(0,M.buildRequestHandler)(n,"put",R.busAutopilotRoute),authToken:(0,M.buildRequestHandler)(n,"post",T.authRoute),systemBackup:(0,M.buildRequestHandler)(n,"post",E.busSystemBackupRoute)}}({api:`${r}/api`,password:n}))},[r,n]),e}()};return(0,t.jsx)(D.Provider,{value:r,children:e})}e.s(["AppProvider",()=>F,"useApp",0,A],8828);var B=e.i(73799);let N=(0,c.createContext)({}),O=()=>(0,c.useContext)(N);function I({children:e}){let m=function(){let[e,t]=(0,c.useState)("list"),[m,g]=(0,c.useState)("spending"),{limit:y,offset:b}=(0,l.usePaginationOffset)(50),x=(0,u.useContracts)({config:{swr:{refreshInterval:j.defaultDatasetRefreshInterval}}}),S=(0,h.useSyncStatus)(),_=S.isSynced?S.nodeBlockHeight:S.estimatedBlockHeight,{dataset:T,isFetchingPrunableSizeAll:E,isFetchingPrunableSizeById:R,fetchPrunableSize:M,fetchPrunableSizeAll:D,hasFetchedAllPrunableSize:F}=function(){let e=(0,u.useContracts)({config:{swr:{refreshInterval:j.defaultDatasetRefreshInterval}}}),t=(0,h.useSyncStatus)(),r=t.isSynced?t.nodeBlockHeight:t.estimatedBlockHeight,n=(0,c.useMemo)(()=>{let t=(0,B.maybeFromNullishArrayResponse)(e.data);if(t)return t.map(e=>{let t="0000000000000000000000000000000000000000000000000000000000000000"!==e.renewedFrom,n=(0,C.blockHeightToTime)(r,e.startHeight),i=e.windowStart,a=(0,C.blockHeightToTime)(r,i);return{id:e.id,state:e.state,hostKey:e.hostKey,timeline:n,usability:e.usability,startTime:n,endTime:a,contractHeightStart:e.startHeight,contractHeightEnd:i,proofWindowHeightStart:e.windowStart,proofWindowHeightEnd:e.windowEnd,proofHeight:e.proofHeight,revisionHeight:e.revisionHeight,isRenewed:t,renewedFrom:e.renewedFrom,initialRenterFunds:new v.default(e.initialRenterFunds),spendingUploads:new v.default(e.spending.uploads),spendingDeletions:new v.default(e.spending.deletions),spendingSectorRoots:new v.default(e.spending.sectorRoots),spendingFundAccount:new v.default(e.spending.fundAccount),size:new v.default(e.size),onClick:()=>null,isSelected:!1}})||[]},[e,r]),{prunableSizes:i,isFetchingPrunableSizeAll:a,isFetchingPrunableSizeById:o,fetchPrunableSize:s,fetchPrunableSizeAll:l}=function(){let{bus:e}=A(),[t,r]=(0,c.useState)({}),[n,i]=(0,c.useState)({}),[a,o]=(0,c.useState)(!1),s=(0,c.useCallback)(async()=>{try{o(!0);let t=await e?.contractsPrunable();r(e=>({...e,...t?.data?.contracts.reduce((e,t)=>({...e,[t.id]:{id:t.id,size:t.size,prunable:t.prunable}}),{})}))}catch(e){(0,P.triggerErrorToast)({title:"Error",body:e.message})}finally{o(!1)}},[e]);return{prunableSizes:t,isFetchingPrunableSizeAll:a,isFetchingPrunableSizeById:n,fetchPrunableSize:(0,c.useCallback)(async t=>{try{i(e=>({...e,[t]:!0}));let n=await e?.contractSize({params:{id:t}});if(!n)return;r(e=>({...e,[t]:{id:t,...n.data}}))}catch(e){(0,P.triggerErrorToast)({title:"Error",body:e.message})}finally{i(e=>({...e,[t]:!1}))}},[e]),fetchPrunableSizeAll:s}}(),d=(0,c.useMemo)(()=>n?.map(e=>({...e,hasFetchedPrunableSize:i[e.id]?.prunable!==void 0,prunableSize:i[e.id]?.prunable!==void 0?new v.default(i[e.id].prunable):void 0,isFetchingPrunableSize:o[e.id],fetchPrunableSize:()=>s(e.id)}))||[],[n,i,s,o]),f=(0,c.useMemo)(()=>!!d?.every(e=>e.hasFetchedPrunableSize),[d]);return{dataset:d,isFetchingPrunableSizeAll:a,isFetchingPrunableSizeById:o,fetchPrunableSize:s,fetchPrunableSizeAll:l,hasFetchedAllPrunableSize:f}}(),{filters:N,setFilter:O,removeFilter:I,removeLastFilter:z,resetFilters:U}=(0,a.useClientFilters)(),{configurableColumns:L,visibleColumnIds:H,visibleColumns:W,sortableColumns:V,toggleColumnVisibility:q,setColumnsVisible:G,setColumnsHidden:K,toggleSort:$,setSortDirection:Y,setSortField:Z,sortField:X,sortDirection:J,resetDefaultColumnVisibility:Q}=(0,r.useTableState)("renterd/v0/contracts",{columns:f.columns,columnsDefaultVisible:d.columnsDefaultVisible,sortOptions:d.sortOptions,defaultSortField:d.defaultSortField}),{datasetFiltered:ee,datasetPage:et}=(0,o.useClientFilteredDataset)({dataset:T,filters:N,sortField:X,sortDirection:J,offset:b,limit:y}),{range:er}=(0,c.useMemo)(()=>(0,n.getContractsTimeRangeBlockHeight)(_,et||[]),[_,et]),en=(0,p.useSiascanUrl)(),ei=function({datasetFiltered:e}){let t=(0,c.useMemo)(()=>{if(e)return e.reduce((e,t)=>e.plus(t.size),new v.default(0))},[e]),r=(0,c.useMemo)(()=>{if(e)return e.reduce((e,t)=>t.prunableSize?e.plus(t.prunableSize):e,new v.default(0))},[e]),n=(0,c.useMemo)(()=>{if(e)return e.reduce((e,t)=>e.plus(t.initialRenterFunds),new v.default(0))},[e]),i=(0,c.useMemo)(()=>{if(e)return e.reduce((e,t)=>e.plus(t.spendingUploads),new v.default(0))},[e]),a=(0,c.useMemo)(()=>{if(e)return e.reduce((e,t)=>e.plus(t.spendingDeletions),new v.default(0))},[e]),o=(0,c.useMemo)(()=>{if(e)return e.reduce((e,t)=>e.plus(t.spendingFundAccount),new v.default(0))},[e]),s=(0,c.useMemo)(()=>{if(e)return e.reduce((e,t)=>e.plus(t.spendingSectorRoots),new v.default(0))},[e]);return(0,c.useMemo)(()=>({sizeTotal:t,prunableSizeTotal:r,initialRenterFundsTotal:n,spendingUploadsTotal:i,spendingDeletionsTotal:a,spendingFundAccountTotal:o,spendingSectorRootsTotal:s}),[t,r,n,i,a,o,s])}({datasetFiltered:ee}),ea=(0,s.useMultiSelect)(et),eo=(0,c.useMemo)(()=>{if(et)return et.map(e=>({...e,onClick:t=>ea.onSelect(e.id,t),isSelected:!!ea.selection[e.id]}))},[et,ea]),es=(0,i.useDatasetState)({datasetPage:eo,isValidating:x.isValidating,error:x.error,offset:b,filters:N}),el=(0,c.useMemo)(()=>({currentHeight:_,contractsTimeRange:er,siascanUrl:en,hasFetchedAllPrunableSize:F,isFetchingPrunableSizeAll:E,fetchPrunableSizeAll:D,filteredStats:ei,multiSelect:ea}),[_,er,en,F,E,D,ei,ea]),eu=(0,c.useMemo)(()=>{if(1===ea.selectedIds.length){let e=ea.selectedIds[0];return T?.find(t=>t.id===e)}},[T,ea.selectedIds]),{contractMetrics:ec}=k({start:new Date().getTime()-(0,w.daysInMilliseconds)(30)}),{contractMetrics:ed}=k({contractId:eu?.id,start:eu?.startTime||0,disabled:!eu}),ef=(0,c.useMemo)(()=>T?.reduce((e,{size:t})=>e.plus(t),new v.default(0))??new v.default(0),[T]);return{datasetState:es,limit:y,offset:b,isLoading:x.isLoading,error:x.error,datasetTotal:T?.length||0,datasetFilteredTotal:ee?.length||0,datasetPageTotal:eo?.length||0,visibleColumns:W,dataset:T,cellContext:el,datasetPage:eo,configurableColumns:L,visibleColumnIds:H,sortableColumns:V,toggleColumnVisibility:q,setColumnsVisible:G,setColumnsHidden:K,toggleSort:$,setSortDirection:Y,setSortField:Z,sortField:X,filters:N,setFilter:O,removeFilter:I,removeLastFilter:z,resetFilters:U,sortDirection:J,resetDefaultColumnVisibility:Q,viewMode:e,setViewMode:t,graphMode:m,setGraphMode:g,selectedContract:eu,allContractsSpendingMetrics:ec,selectedContractSpendingMetrics:ed,isFetchingPrunableSizeAll:E,isFetchingPrunableSizeById:R,fetchPrunableSize:M,fetchPrunableSizeAll:D,multiSelect:ea,contractSizeTotal:ef}}();return(0,t.jsx)(N.Provider,{value:m,children:e})}},66450,e=>{"use strict";e.s(["ContractsFilterPublicKeyDialog",()=>h,"publicKeyContainsFilter",()=>c]);var t=e.i(91398);e.i(86663);var r=e.i(48708),n=e.i(99865),i=e.i(50529),a=e.i(26093),o=e.i(757);e.i(56720);var s=e.i(48357),l=e.i(26801),u=e.i(84588);function c(e){return{id:"publicKeyContains",value:e,label:`public key contains ${(0,i.truncate)(e,20)}`,fn:t=>t.hostKey.includes(e)}}let d={publicKey:""},f=s.object().shape({publicKey:l.string().required("Required")});function h({trigger:e,open:i,onOpenChange:s}){let{closeDialog:l}=(0,u.useDialog)(),{setFilter:h}=(0,a.useContracts)(),p=(0,o.useFormik)({initialValues:d,validationSchema:f,onSubmit:e=>{h(c(e.publicKey)),p.resetForm(),l()}});return(0,t.jsx)(r.Dialog,{trigger:e,title:"Filter by public key",open:i,onOpenChange:e=>{e||p.resetForm(),s(e)},contentVariants:{className:"w-[400px]"},onSubmit:p.handleSubmit,children:(0,t.jsx)("div",{className:"flex flex-col gap-4",children:(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsx)(n.FormFieldFormik,{formik:p,title:"Public key",name:"publicKey",placeholder:"ed25519:02aabd26e627fd...",autoComplete:"off",type:"text",variants:{size:"medium"}}),(0,t.jsx)(n.FormSubmitButtonFormik,{formik:p,size:"medium",children:"Filter"})]})})})}},27913,66153,77761,15465,27908,58035,50952,85110,e=>{"use strict";e.s(["ContractsCmd",()=>x],27913);var t=e.i(91398),r=e.i(91962);e.s(["ContractsFilterCmd",()=>g],66153);var n=e.i(39389),i=e.i(8505),a=e.i(23683),o=e.i(84588),s=e.i(66450);let l={namespace:"contracts/filterPublicKey",label:"Contracts filter by public key"};function u({select:e,currentPage:n}){let i=(0,s.publicKeyContainsFilter)(""),{openDialog:a}=(0,o.useDialog)();return(0,t.jsx)(r.CommandGroup,{currentPage:n,commandPage:l,children:(0,t.jsx)(r.CommandItemSearch,{currentPage:n,commandPage:l,onSelect:()=>{e(),a("contractsFilterPublicKey")},children:i.label})})}function c({select:e,currentPage:n,parentPage:i,commandPage:a}){let{openDialog:s}=(0,o.useDialog)();return(0,t.jsx)(r.CommandItemNav,{currentPage:n,parentPage:i,commandPage:a,onSelect:()=>{e(),s("contractsFilterPublicKey")},children:l.label})}function d({currentPage:e,select:r}){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u,{currentPage:e,select:r}),(0,t.jsx)(n.ExpiryCmdGroup,{currentPage:e,select:r}),(0,t.jsx)(i.FormationCmdGroup,{currentPage:e,select:r}),(0,t.jsx)(a.RenewCmdGroup,{currentPage:e,select:r})]})}let f={namespace:"contracts",label:"Contracts"};function h({currentPage:e,parentPage:o,pushPage:s,select:l}){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c,{currentPage:e,parentPage:o,commandPage:f,select:l}),(0,t.jsx)(r.CommandItemNav,{currentPage:e,parentPage:o,commandPage:f,onSelect:()=>{s(i.contractFilterFormationPage)},children:i.contractFilterFormationPage.label}),(0,t.jsx)(r.CommandItemNav,{currentPage:e,parentPage:o,commandPage:f,onSelect:()=>{s(n.contractFilterExpiryPage)},children:n.contractFilterExpiryPage.label}),(0,t.jsx)(r.CommandItemNav,{currentPage:e,parentPage:o,commandPage:f,onSelect:()=>{s(a.contractFilterRenewPage)},children:a.contractFilterRenewPage.label})]})}var p=e.i(26093),m=e.i(91788);function g({currentPage:e,parentPage:r,pushPage:n,beforeSelect:i,afterSelect:a}){let{setFilter:o}=(0,p.useContracts)(),s=(0,m.useCallback)(e=>{i&&i(),e&&o(e),a&&a()},[o,i,a]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h,{parentPage:r,currentPage:e,pushPage:n,select:s}),(0,t.jsx)(d,{currentPage:e,select:s})]})}var y=e.i(17837),b=e.i(43652);let v={namespace:"contracts",label:"Contracts"};function x({currentPage:e,parentPage:n,pushPage:i,beforeSelect:a,afterSelect:s}){let l=(0,y.useRouter)(),{closeDialog:u}=(0,o.useDialog)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.CommandItemNav,{currentPage:e,parentPage:n,commandPage:n,onSelect:()=>{i(v)},children:v.label}),(0,t.jsx)(r.CommandGroup,{currentPage:e,commandPage:v,children:(0,t.jsx)(r.CommandItemSearch,{currentPage:e,commandPage:v,onSelect:()=>{l.push(b.routes.contracts.index),u()},children:"View contracts"})}),(0,t.jsx)(g,{parentPage:v,currentPage:e,beforeSelect:a,afterSelect:s,pushPage:i})]})}e.s(["AlertsCmd",()=>S],77761);let w={namespace:"alerts",label:"Alerts"};function S({currentPage:e,parentPage:n,pushPage:i}){let a=(0,y.useRouter)(),{closeDialog:s}=(0,o.useDialog)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.CommandItemNav,{currentPage:e,parentPage:n,commandPage:n,onSelect:()=>{i(w)},children:w.label}),(0,t.jsx)(r.CommandGroup,{currentPage:e,commandPage:w,children:(0,t.jsx)(r.CommandItemSearch,{currentPage:e,commandPage:w,onSelect:()=>{a.push(b.routes.alerts.index),s()},children:"View alerts"})})]})}e.s(["AddressCmdGroup",()=>F,"AddressCmdNav",()=>B],27908),e.s(["HostsFilterAddressDialog",()=>D,"filterAddressContains",()=>E],15465),e.i(86663);var k=e.i(48708),j=e.i(99865),C=e.i(99799),P=e.i(757);e.i(56720);var _=e.i(48357),T=e.i(26801);function E(e){return{id:"addressContains",value:e,label:`address contains ${e}`}}let R={address:""},M=_.object().shape({address:T.string().required("Required")});function D({trigger:e,open:r,onOpenChange:n}){let{closeDialog:i}=(0,o.useDialog)(),{setFilter:a}=(0,C.useHosts)(),s=(0,P.useFormik)({initialValues:R,validationSchema:M,onSubmit:e=>{a(E(e.address)),s.resetForm(),i()}});return(0,t.jsx)(k.Dialog,{trigger:e,title:"Filter by address",open:r,onOpenChange:e=>{e||s.resetForm(),n(e)},contentVariants:{className:"w-[400px]"},onSubmit:s.handleSubmit,children:(0,t.jsx)("div",{className:"flex flex-col gap-4",children:(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsx)(j.FormFieldFormik,{formik:s,title:"Address",name:"address",placeholder:"Partial match against domain or IP",autoComplete:"off",type:"text",variants:{size:"medium"}}),(0,t.jsx)(j.FormSubmitButtonFormik,{formik:s,size:"medium",children:"Filter"})]})})})}let A={namespace:"hosts/filterAddress",label:"Hosts filter by address"};function F({select:e,currentPage:n}){let{openDialog:i}=(0,o.useDialog)(),a=E("");return(0,t.jsx)(r.CommandGroup,{currentPage:n,commandPage:A,children:(0,t.jsx)(r.CommandItemSearch,{currentPage:n,commandPage:A,onSelect:()=>{e(),i("hostsFilterAddress")},children:a.label})})}function B({select:e,currentPage:n,parentPage:i,commandPage:a}){let{openDialog:s}=(0,o.useDialog)();return(0,t.jsx)(r.CommandItemNav,{currentPage:n,parentPage:i,commandPage:a,onSelect:()=>{e(),s("hostsFilterAddress")},children:A.label})}let N={namespace:"hosts/filterAllowBlock",label:"Hosts filter by allow/block status"},O=[{id:"filterMode",value:"allowed",label:"allowed"},{id:"filterMode",value:"blocked",label:"blocked"}];function I({select:e,currentPage:n}){return(0,t.jsx)(r.CommandGroup,{currentPage:n,commandPage:N,children:O.map(i=>(0,t.jsx)(r.CommandItemSearch,{currentPage:n,commandPage:N,onSelect:()=>{e(i)},children:i.label},i.id+i.value))})}e.s(["AllowBlockCmdGroup",()=>I,"hostsFilterAllowBlockPage",0,N],58035);let z={namespace:"hosts/filterActiveContracts",label:"Hosts filter by contracts"},U={id:"hasActiveContracts",bool:!0,label:"has active contracts"};function L({select:e,currentPage:n}){return(0,t.jsx)(r.CommandGroup,{currentPage:n,commandPage:z,children:(0,t.jsx)(r.CommandItemSearch,{currentPage:n,commandPage:z,onSelect:()=>{e(U)},children:U.label})})}e.s(["ContractsCmdGroup",()=>L,"hostsFilterContractsPage",0,z],50952);let H={namespace:"hosts/filterUsable",label:"Hosts filter by usable"},W=[{id:"usabilityMode",value:"usable",label:"usable"},{id:"usabilityMode",value:"unusable",label:"unusable"}];function V({select:e,currentPage:n}){return(0,t.jsx)(r.CommandGroup,{currentPage:n,commandPage:H,children:W.map(i=>(0,t.jsx)(r.CommandItemSearch,{currentPage:n,commandPage:H,onSelect:()=>{e(i)},children:i.label},i.id+i.value))})}e.s(["UsableCmdGroup",()=>V,"hostsFilterUsablePage",0,H],85110)},81566,22470,e=>{"use strict";e.s(["HostsCmd",()=>w],81566);var t=e.i(91398),r=e.i(91962);e.s(["HostsFilterCmd",()=>y],22470);var n=e.i(27908),i=e.i(58035),a=e.i(50952),o=e.i(85110),s=e.i(84588),l=e.i(88230);let u={namespace:"hosts/filterPublicKey",label:"Hosts filter by public key"};function c({select:e,currentPage:n}){let{openDialog:i}=(0,s.useDialog)(),a=(0,l.filterPublicKeyEquals)("");return(0,t.jsx)(r.CommandGroup,{currentPage:n,commandPage:u,children:(0,t.jsx)(r.CommandItemSearch,{currentPage:n,commandPage:u,onSelect:()=>{e(),i("hostsFilterPublicKey")},children:a.label})})}function d({select:e,currentPage:n,parentPage:i,commandPage:a}){let{openDialog:o}=(0,s.useDialog)();return(0,t.jsx)(r.CommandItemNav,{currentPage:n,parentPage:i,commandPage:a,onSelect:()=>{e(),o("hostsFilterPublicKey")},children:u.label})}function f({currentPage:e,select:r}){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.UsableCmdGroup,{currentPage:e,select:r}),(0,t.jsx)(a.ContractsCmdGroup,{currentPage:e,select:r}),(0,t.jsx)(n.AddressCmdGroup,{currentPage:e,select:r}),(0,t.jsx)(c,{currentPage:e,select:r}),(0,t.jsx)(i.AllowBlockCmdGroup,{currentPage:e,select:r})]})}let h={namespace:"hosts",label:"Hosts"};function p({currentPage:e,parentPage:s,pushPage:l,select:u}){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.CommandItemNav,{currentPage:e,parentPage:s,commandPage:h,onSelect:()=>{l(o.hostsFilterUsablePage)},children:o.hostsFilterUsablePage.label}),(0,t.jsx)(d,{currentPage:e,parentPage:s,commandPage:h,select:u}),(0,t.jsx)(n.AddressCmdNav,{currentPage:e,parentPage:s,commandPage:h,select:u}),(0,t.jsx)(r.CommandItemNav,{currentPage:e,parentPage:s,commandPage:h,onSelect:()=>{l(a.hostsFilterContractsPage)},children:a.hostsFilterContractsPage.label}),(0,t.jsx)(r.CommandItemNav,{currentPage:e,parentPage:s,commandPage:h,onSelect:()=>{l(i.hostsFilterAllowBlockPage)},children:i.hostsFilterAllowBlockPage.label})]})}var m=e.i(99799),g=e.i(91788);function y({currentPage:e,parentPage:r,pushPage:n,beforeSelect:i,afterSelect:a}){let{setFilter:o}=(0,m.useHosts)(),s=(0,g.useCallback)(e=>{i&&i(),e&&o(e),a&&a()},[o,i,a]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p,{parentPage:r,currentPage:e,pushPage:n,select:s}),(0,t.jsx)(f,{currentPage:e,pushPage:n,select:s})]})}var b=e.i(17837),v=e.i(43652);let x={namespace:"hosts",label:"Hosts"};function w({currentPage:e,parentPage:n,pushPage:i,beforeSelect:a,afterSelect:o}){let l=(0,b.useRouter)(),{closeDialog:u,openDialog:c}=(0,s.useDialog)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.CommandItemNav,{currentPage:e,parentPage:n,commandPage:n,onSelect:()=>{i(x)},children:x.label}),(0,t.jsx)(r.CommandGroup,{currentPage:e,commandPage:x,children:(0,t.jsx)(r.CommandItemSearch,{currentPage:e,commandPage:x,onSelect:()=>{l.push(v.routes.hosts.index),u()},children:"View hosts"})}),(0,t.jsx)(r.CommandItemSearch,{currentPage:e,commandPage:x,onSelect:()=>{c("hostsManageAllowBlock")},children:"Manage filter lists: allowlist + blocklist"}),(0,t.jsx)(y,{parentPage:x,currentPage:e,beforeSelect:a,afterSelect:o,pushPage:i})]})}},73338,e=>{"use strict";e.i(19513);var t=e.i(29144),r=e.i(66738),n=e.i(6582);let i=function(e,t){for(var r=e.length;r--&&(0,n.default)(t,e[r],0)>-1;);return r};var a=e.i(93815),o=e.i(48554),s=e.i(77563);let l=function(e,n,l){if((e=(0,o.default)(e))&&(l||void 0===n))return e.slice(0,(0,s.default)(e)+1);if(!e||!(n=(0,t.default)(n)))return e;var u=(0,a.default)(e),c=i(u,(0,a.default)(n))+1;return(0,r.default)(u,0,c).join("")},u=function(e,t){for(var r=-1,i=e.length;++r<i&&(0,n.default)(t,e[r],0)>-1;);return r};var c=/^\s+/;let d=function(e,n,i){if((e=(0,o.default)(e))&&(i||void 0===n))return e.replace(c,"");if(!e||!(n=(0,t.default)(n)))return e;var s=(0,a.default)(e),l=u(s,(0,a.default)(n));return(0,r.default)(s,l).join("")};function f(e,t){let r=l(e,"/"),n=d(d(t,"."),"/");return`${r}/${n}`}function h(e,t){let r=f(e=d(e,"/"),t);return r.endsWith("/")?r:r+"/"}function p(e){return e.split("/")[0]}function m(e){let t=(e=d(e,"/")).split("/").slice(1).join("/");return`/${t}`}function g(e){return{bucket:p(e),key:m(e).slice(1).split("/").map(encodeURIComponent).join("/")}}function y(e){let t=(e=d(e,"/")).split("/");return e.endsWith("/")?`${t[t.length-2]}/`:t[t.length-1]}function b(e){return e.endsWith("/")}function v(e){return(b(e=d(e,"/"))?e.slice(0,-1):e).split("/").slice(0,-1).join("/").concat("/")}function x(e){return b(e=d(e,"/"))?e.slice(0,-1).split("/"):e.split("/").slice(0,-1)}function w(e){return e.join("/")}function S(e){return b(e=d(e,"/"))?e:e.concat("/")}e.s(["bucketAndKeyParamsFromPath",()=>g,"buildDirectoryPath",()=>h,"ensureDirectory",()=>S,"getBucketFromPath",()=>p,"getDirectorySegmentsFromPath",()=>x,"getFilename",()=>y,"getKeyFromPath",()=>m,"getParentDirectoryPath",()=>v,"isDirectory",()=>b,"join",()=>f,"pathSegmentsToPath",()=>w],73338)},13949,e=>{"use strict";var t=e.i(91398);e.i(86663);var r=e.i(929);e.i(71487);var n=e.i(76993);function i({debouncedSearch:e}){return(0,t.jsxs)(r.Text,{color:"verySubtle",className:"flex flex-col gap-2 justify-center items-center mt-5 mb-3",children:[(0,t.jsxs)(r.Text,{color:"verySubtle",className:"flex gap-2 justify-center items-center",children:[(0,t.jsx)(n.Image16,{}),(0,t.jsx)(n.Video16,{}),(0,t.jsx)(n.Document16,{})]}),(0,t.jsx)(r.Text,{size:"12",color:"verySubtle",className:"flex justify-center",children:e?"No files match the query.":"Type a query to get started."})]})}e.s(["FileSearchEmpty",()=>i])},69509,e=>{"use strict";var t=e.i(91398);e.i(86663);var r=e.i(75821),n=e.i(17837),i=e.i(91788),a=e.i(73338);e.i(86283);var o=e.i(53658),s=e.i(43652),l=e.i(42431);let u=(0,i.createContext)({});function c({children:e}){let c=function(){let e=(0,n.useRouter)(),t=(0,n.useParams)(),u=t?.bucket,{filters:c,setFilter:d,removeFilter:f,removeLastFilter:h,resetFilters:p}=(0,r.useServerFilters)(),m=(0,i.useMemo)(()=>c.find(e=>"fileNamePrefix"===e.id)?.value||"",[c]),g=(0,i.useMemo)(()=>u?[u,...(t?.path||[]).map(decodeURIComponent)]:[],[u,t?.path]),y=(0,o.useBuckets)(),b=y.data?.find(e=>e.name===u),v=(0,i.useMemo)(()=>(0,a.pathSegmentsToPath)(g)+"/",[g]),[x,w]=(0,l.default)("renterd/v0/explorerMode",{defaultValue:"directory"}),S=(0,i.useCallback)(t=>{let r=t(g);if(0===r.length)return void e.push(s.routes.buckets.index);let n=s.routes.buckets.files.replace("[bucket]",r[0]).replace("[path]",r.slice(1).map(encodeURIComponent).join("/"));e.push(n)},[e,g]),k=0===g.length,j=1===g.length,C=g.length>0,P=(0,i.useCallback)(e=>{d({id:"fileNamePrefix",label:"",value:e})},[d]),_=(0,i.useCallback)(()=>{f("fileNamePrefix")},[f]),T=(0,i.useCallback)((e,t)=>{t?P(t):_(),S(()=>e)},[S,P,_]),E=(0,i.useCallback)(e=>{T((0,a.getDirectorySegmentsFromPath)(e),(0,a.getFilename)(e))},[T]),R=(0,i.useCallback)(e=>{"directory"===x?E(e):P((0,a.getKeyFromPath)(e).slice(1))},[x,E,P]),M=s.routes.buckets.uploads.replace("[bucket]",u||""),D=(0,i.useCallback)(()=>{b&&e.push(M)},[b,M,e]),A=(0,n.usePathname)(),F=u&&A.startsWith(M),B=(0,i.useCallback)(async()=>{!F&&"directory"===x||u&&(T([u],void 0),w("directory"))},[F,x,u,w,T]),N=(0,i.useCallback)(async()=>{!F&&"flat"===x||u&&(T([u],(0,a.getKeyFromPath)(v).slice(1)),w("flat"))},[F,x,u,v,w,T]);return{isViewingBuckets:k,isViewingABucket:C,isViewingRootOfABucket:j,isViewingUploads:F,buckets:y,activeBucket:b,activeBucketName:u,activeDirectory:g,navigateToActiveBucketUploads:D,setActiveDirectory:S,setActiveDirectoryAndFileNamePrefix:T,activeDirectoryPath:v,navigateToModeSpecificFiltering:R,filters:c,fileNamePrefixFilter:m,setFileNamePrefixFilter:P,setFilter:d,removeFilter:f,removeLastFilter:h,resetFilters:p,activeExplorerMode:x,setExplorerModeDirectory:B,setExplorerModeFlat:N}}();return(0,t.jsx)(u.Provider,{value:c,children:e})}e.s(["FilesManagerProvider",()=>c,"useFilesManager",0,()=>(0,i.useContext)(u)])},74135,66033,78870,22175,36009,77254,e=>{"use strict";e.s(["CmdKDialog",()=>G],74135);var t=e.i(91398);e.i(86663);var r=e.i(48708),n=e.i(76670);e.i(94066);var i=e.i(82156),a=e.i(43652),o=e.i(91788),s=e.i(48684),l=e.i(77786),u=e.i(41490),c=e.i(34530),d=e.i(40480),f=e.i(54413),h=e.i(10483),p=e.i(61732),m=e.i(21808),g=e.i(72186),y=e.i(66487),b=e.i(84588),v=e.i(17837),x=e.i(27913),w=e.i(77761),S=e.i(26093),k=e.i(81566),j=e.i(91962);e.i(86283);var C=e.i(53658),P=e.i(73338),_=e.i(929);e.i(71487);var T=e.i(76993),E=e.i(79317),R=e.i(13949),M=e.i(69509);let D={namespace:"files/search/all",label:"Search all files",prompt:"Search for files, eg: backups, photo_archive.zip, etc...",empty:R.FileSearchEmpty};function A(e){return{namespace:"files/search/bucket",label:"Search files in current bucket",prompt:"Search for files, eg: backups, photo_archive.zip, etc...",tag:e,empty:R.FileSearchEmpty}}function F({debouncedSearch:e,search:r,currentPage:n,beforeSelect:i,afterSelect:a,mode:s}){let{activeBucketName:l,navigateToModeSpecificFiltering:u}=(0,M.useFilesManager)(),c="bucket"===s&&l?A(l):D,d=n?.namespace===c.namespace,h="global"===s||"bucket"===s&&l,p=(0,o.useMemo)(()=>{let t={prefix:"",limit:10,delimiter:"",substring:e};return"bucket"===s&&l&&(t.bucket=l),t},[s,l,e]),m=(0,C.useObjects)({disabled:!d||!h,params:p,config:{swr:{keepPreviousData:!0}}});return d&&m.data?.objects?(0,t.jsx)(j.CommandGroup,{currentPage:n,commandPage:c,children:m.data?.objects.map(({key:e,bucket:o})=>{var l,d;let h,p,m,g,y=function(e,t,r){let n=Math.max(e.length-55,0);if(0===n)return e;let i=B(e),a=B(t),o=i.toLowerCase().indexOf(a.toLowerCase()),s=o+a.length-1,l=0,u=0;return i.split("/").map(e=>{if(l>=n)return u+=e.length,B(e);let t=u,r=u+e.length+1;return t<s&&r>o?(u+=e.length,B(e)):!e.includes(a)&&e.length>3?(u+=e.length,l+=e.length+1,"..."):(u+=e.length,B(e))}).reverse().join("/")}(e,r,55),{startIndex:b,endIndex:v}=(l=y,d=r,h=B(l),p=B(d),g=(m=h.toLowerCase().indexOf(p.toLowerCase()))+p.length,{endIndex:l.length-m,startIndex:l.length-g});return(0,t.jsx)(j.CommandItemSearch,{commandPage:c,currentPage:n,onSelect:()=>{i?.(),u(o+e),a?.()},value:e,children:(0,t.jsxs)("div",{className:"flex items-center gap-2 w-full",children:[(0,t.jsx)(_.Text,{color:"verySubtle",className:"group-data-[selected=true]:text-gray-1000 dark:group-data-[selected=true]:text-graydark-1000",children:(0,P.isDirectory)(e)?(0,t.jsx)(E.FolderIcon,{size:16}):(0,t.jsx)(T.Document16,{})}),(0,t.jsxs)(_.Text,{className:"flex items-center flex-1 overflow-hidden",children:[(0,t.jsx)(_.Text,{color:"verySubtle",ellipsis:!0,children:y.slice(0,b)}),(0,t.jsx)(_.Text,{color:"accent",ellipsis:!0,children:y.slice(b,v)}),(0,t.jsx)(_.Text,{color:"verySubtle",ellipsis:!0,children:y.slice(v)})]}),"global"===s?(0,t.jsx)(f.Button,{variant:"inactive",state:"waiting",size:"small",tabIndex:-1,children:o}):null]})},e)})}):null}function B(e){return e.split("").reverse().join("")}let N={namespace:"files",label:"Files"};function O({search:e,debouncedSearch:r,currentPage:n,parentPage:i,pushPage:o,beforeSelect:s,afterSelect:l}){let u=(0,v.useRouter)(),c=(0,v.usePathname)(),{closeDialog:d}=(0,b.useDialog)(),{activeBucket:f}=(0,M.useFilesManager)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j.CommandItemNav,{currentPage:n,parentPage:i,commandPage:i,onSelect:()=>{o(N)},children:N.label}),(0,t.jsxs)(j.CommandGroup,{currentPage:n,commandPage:N,children:[(0,t.jsx)(j.CommandItemSearch,{currentPage:n,commandPage:N,onSelect:()=>{c.startsWith(a.routes.buckets.index)||u.push(a.routes.buckets.index),d(),l?.()},children:"View files"}),(0,t.jsx)(j.CommandItemSearch,{currentPage:n,commandPage:N,onSelect:()=>{o(D),l?.()},children:"Search all files"}),f?(0,t.jsx)(j.CommandItemSearch,{currentPage:n,commandPage:N,onSelect:()=>{o(A(f.name)),l?.()},children:"Search files in bucket"}):null]}),(0,t.jsx)(F,{mode:"global",debouncedSearch:r,search:e,currentPage:n,beforeSelect:s,afterSelect:l}),(0,t.jsx)(F,{mode:"bucket",debouncedSearch:r,search:e,currentPage:n,beforeSelect:s,afterSelect:l})]})}var I=e.i(99799);function z(e,t){return e===t}function U(e){return"function"==typeof e?function(){return e}:e}function L(e,t,r){var n,i,a=r&&r.equalityFn||z,s=(i=(n=(0,o.useState)(U(e)))[1],[n[0],(0,o.useCallback)(function(e){return i(U(e))},[])]),l=s[0],u=s[1],c=function(e,t,r){var n=this,i=(0,o.useRef)(null),a=(0,o.useRef)(0),s=(0,o.useRef)(null),l=(0,o.useRef)([]),u=(0,o.useRef)(),c=(0,o.useRef)(),d=(0,o.useRef)(e),f=(0,o.useRef)(!0);(0,o.useEffect)(function(){d.current=e},[e]);var h=!t&&0!==t&&"undefined"!=typeof window;if("function"!=typeof e)throw TypeError("Expected a function");t=+t||0;var p=!!(r=r||{}).leading,m=!("trailing"in r)||!!r.trailing,g="maxWait"in r,y=g?Math.max(+r.maxWait||0,t):null;return(0,o.useEffect)(function(){return f.current=!0,function(){f.current=!1}},[]),(0,o.useMemo)(function(){var e=function(e){var t=l.current,r=u.current;return l.current=u.current=null,a.current=e,c.current=d.current.apply(r,t)},r=function(e,t){h&&cancelAnimationFrame(s.current),s.current=h?requestAnimationFrame(e):setTimeout(e,t)},o=function(e){if(!f.current)return!1;var r=e-i.current;return!i.current||r>=t||r<0||g&&e-a.current>=y},b=function(t){return s.current=null,m&&l.current?e(t):(l.current=u.current=null,c.current)},v=function e(){var n=Date.now();if(o(n))return b(n);if(f.current){var s=t-(n-i.current);r(e,g?Math.min(s,y-(n-a.current)):s)}},x=function(){var d=Date.now(),h=o(d);if(l.current=[].slice.call(arguments),u.current=n,i.current=d,h){if(!s.current&&f.current)return a.current=i.current,r(v,t),p?e(i.current):c.current;if(g)return r(v,t),e(i.current)}return s.current||r(v,t),c.current};return x.cancel=function(){s.current&&(h?cancelAnimationFrame(s.current):clearTimeout(s.current)),a.current=0,l.current=i.current=u.current=s.current=null},x.isPending=function(){return!!s.current},x.flush=function(){return s.current?b(Date.now()):c.current},x},[p,g,t,y,m,h])}((0,o.useCallback)(function(e){return u(e)},[u]),t,r),d=(0,o.useRef)(e);return a(d.current,e)||(c(e),d.current=e),[l,c]}function H({search:e}){return(0,t.jsxs)(_.Text,{color:"verySubtle",className:"flex flex-col gap-2 justify-center items-center mt-5 mb-3",children:[(0,t.jsx)(_.Text,{color:"verySubtle",className:"flex gap-2 justify-center items-center",children:(0,t.jsx)(T.Query16,{})}),(0,t.jsx)(_.Text,{size:"12",color:"verySubtle",className:"flex justify-center",children:e?"No results matching query.":"Type a query to get started."})]})}e.s(["useDebounce",()=>L],66033);let W={namespace:"keys",label:"S3 authentication keys"};function V({currentPage:e,parentPage:r,pushPage:n}){let i=(0,v.useRouter)(),{closeDialog:o,openDialog:s}=(0,b.useDialog)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j.CommandItemNav,{currentPage:e,parentPage:r,commandPage:r,onSelect:()=>{n(W)},children:W.label}),(0,t.jsxs)(j.CommandGroup,{currentPage:e,commandPage:W,children:[(0,t.jsx)(j.CommandItemSearch,{currentPage:e,commandPage:W,onSelect:()=>{i.push(a.routes.keys.index),o()},children:"View keys"}),(0,t.jsx)(j.CommandItemSearch,{currentPage:e,commandPage:W,onSelect:()=>{i.push(a.routes.keys.index),s("keysCreate")},children:"Create new S3 authentication keypair"})]})]})}function q({panel:e}){let{resetFilters:r}=(0,S.useContracts)(),{resetFilters:n}=(0,I.useHosts)(),{closeDialog:i}=(0,b.useDialog)(),j=(0,v.useRouter)(),C=(0,v.usePathname)(),[P,_]=(0,o.useState)(""),[T]=L(P,500),[E,R]=(0,o.useState)([]),M=E[E.length-1],D=0===E.length,A=(0,o.useCallback)(e=>{R(t=>[...t,e])},[R]),F=(0,o.useCallback)(()=>{i()},[i]),B=(0,o.useCallback)(()=>{_("")},[_]),N=M?.empty||H;return(0,t.jsxs)(h.Command,{label:"Command Menu",loop:!0,className:(0,s.cx)(e&&(0,u.panelStyles)()),onKeyDown:e=>{(E.length>0&&"Escape"===e.key||"Backspace"===e.key&&!P)&&(e.preventDefault(),R(e=>e.slice(0,-1)))},children:[!!M&&(0,t.jsxs)(c.Label,{className:"px-2 flex justify-between items-center",children:[M.label,M.tag?(0,t.jsx)(f.Button,{variant:"inactive",state:"waiting",tabIndex:-1,size:"small",children:M.tag}):null]}),(0,t.jsx)(h.Command.Input,{"aria-label":"search commands",name:"cmdk-input",value:P,onValueChange:_,className:(0,l.textFieldStyles)({variant:"ghost",focus:"none"}),placeholder:M?.prompt||(D?"Search for commands, eg: theme, redundancy":"Search commands")}),(0,t.jsx)(d.Separator,{className:"my-2"}),(0,t.jsxs)(h.Command.List,{children:[(0,t.jsx)(h.Command.Empty,{children:(0,t.jsx)(N,{search:P,debouncedSearch:T})}),(0,t.jsx)(m.AppCmdGroup,{currentPage:M,pushPage:A}),(0,t.jsx)(O,{debouncedSearch:T,search:P,currentPage:M,pushPage:A,beforeSelect:()=>{F()},afterSelect:()=>{B()}}),(0,t.jsx)(p.WalletCmdGroup,{currentPage:M,pushPage:A}),(0,t.jsx)(x.ContractsCmd,{currentPage:M,pushPage:A,beforeSelect:()=>{F(),r()},afterSelect:()=>{C.startsWith(a.routes.contracts.index)||j.push(a.routes.contracts.index),B()}}),(0,t.jsx)(k.HostsCmd,{currentPage:M,pushPage:A,beforeSelect:()=>{F(),n()},afterSelect:()=>{C.startsWith(a.routes.hosts.index)||j.push(a.routes.hosts.index),B()}}),(0,t.jsx)(V,{currentPage:M,pushPage:A,beforeSelect:()=>{F()},afterSelect:()=>{C.startsWith(a.routes.keys.index)||j.push(a.routes.keys.index),B()}}),(0,t.jsx)(w.AlertsCmd,{currentPage:M,pushPage:A,beforeSelect:()=>{F(),r()},afterSelect:()=>{C.startsWith(a.routes.alerts.index)||j.push(a.routes.alerts.index),B()}}),(0,t.jsx)(y.ConfigCmdGroup,{currentPage:M,pushPage:A}),(0,t.jsx)(g.NodeCmdGroup,{currentPage:M,pushPage:A})]})]})}function G({open:e,onOpenChange:s,setOpen:l}){let{isUnlockedAndAuthedRoute:u}=(0,i.useAppSettings)(),{isConnected:c}=(0,n.useConnectivity)({route:a.connectivityRoute});return(0,o.useEffect)(()=>{if(!u||!c)return;let e=e=>{"k"===e.key&&(e.metaKey||e.ctrlKey)&&l()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[u,c,l]),(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(r.Dialog,{open:e,title:"Command palette",titleVisuallyHidden:!0,onOpenChange:s,contentVariants:{className:"!absolute !p-1 w-[450px] top-[200px]"},bodyClassName:"!px-1 !py-1",closeClassName:"hidden",children:(0,t.jsx)(q,{})})})}var K=e.i(99865),$=e.i(8854),Y=e.i(4327),Z=e.i(757);e.i(56720);var X=e.i(48357),J=e.i(26801);let Q={name:""},ee=X.object().shape({name:J.string().required("Required")});function et({trigger:e,open:n,onOpenChange:i}){let{activeDirectoryPath:a}=(0,M.useFilesManager)(),o=(0,Y.useObjectUpload)(),s=(0,Z.useFormik)({initialValues:Q,validationSchema:ee,onSubmit:async(e,t)=>{let r=await o.put({params:(0,P.bucketAndKeyParamsFromPath)(a+e.name+"/"),payload:null});r.error?(0,$.triggerErrorToast)({title:"Error creating directory",body:r.error}):((0,$.triggerSuccessToast)({title:"Directory created"}),t.resetForm(),i(!1))}});return(0,t.jsx)(r.Dialog,{trigger:e,title:"New directory",open:n,onOpenChange:e=>{e||s.resetForm(),i(e)},contentVariants:{className:"w-[400px]"},children:(0,t.jsx)("div",{className:"flex flex-col gap-4",children:(0,t.jsx)("form",{onSubmit:s.handleSubmit,children:(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsx)(K.FormFieldFormik,{formik:s,title:"Name",name:"name",placeholder:"photos, backups, etc",autoComplete:"off",type:"text",variants:{size:"medium"}}),(0,t.jsx)(K.FormSubmitButtonFormik,{formik:s,size:"medium",children:"Create"})]})})})})}e.s(["FilesCreateDirectoryDialog",()=>et],78870);var er=e.i(78831),en=e.i(67419),ei=e.i(84172),ea=e.i(73797),eo=e.i(40410),es=e.i(26566);let el={publicKey:""},eu=X.object().shape({publicKey:J.string().required("Required")});function ec(){let e=(0,C.useHostsAllowlist)({config:{swr:{refreshInterval:6e4}}}),r=(0,es.useAllowlistUpdate)(),n=(0,Z.useFormik)({initialValues:el,validationSchema:eu,onSubmit:async(e,t)=>{await r([e.publicKey],[])?t.resetForm():t.setStatus({error:"Error updating allowlist"})}});(0,o.useEffect)(()=>{n.setStatus(void 0)},[n.values]);let i=n.values.publicKey,a=e.data?.filter(e=>!n.values.publicKey||e.includes(n.values.publicKey))||[];return(0,t.jsxs)("form",{onSubmit:n.handleSubmit,className:"flex flex-col gap-2 h-[400px]",children:[(0,t.jsx)(K.FieldGroupFormik,{title:"Public key",name:"publicKey",formik:n,withStatusError:!0,children:(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)(K.FormTextFieldFormik,{name:"publicKey",formik:n,placeholder:"ed25519:02aabd26e627fd...",autoComplete:"off",variants:{size:"small"}}),(0,t.jsx)(K.FormSubmitButtonFormik,{formik:n,size:"small",variant:"amber",withStatusError:!1,children:"Allow public key"})]})}),(0,t.jsxs)(u.Panel,{className:"p-2 flex gap-2 items-center",children:[(0,t.jsx)(_.Text,{children:(0,t.jsx)(T.Warning16,{})}),(0,t.jsxs)(en.Paragraph,{size:"12",children:[(0,t.jsx)(_.Text,{weight:"semibold",children:"Caution:"})," Please note that because the allowlist is inclusive, as soon as there are more than zero entries, contracting will be limited to only the hosts explicitly on the allowlist - all other existing contracts will immediately abort."]})]}),(0,t.jsx)("div",{className:"flex-1 overflow-hidden !-m-2",children:a.length?(0,t.jsx)(eo.ScrollArea,{children:(0,t.jsx)("div",{className:"p-2","data-testid":"allowlistPublicKeys",children:(0,t.jsx)(ei.PoolSelected,{options:a.map(e=>({value:e,label:`${e.slice(0,20)}...`}))||[],onClick:e=>(0,ea.copyToClipboard)(e,"allowed public key"),onRemove:e=>r([],[e])})})}):i?(0,t.jsxs)("div",{className:"flex flex-col gap-3 items-center justify-center h-[200px]",children:[(0,t.jsx)(_.Text,{color:"subtle",children:(0,t.jsx)(T.Filter32,{})}),(0,t.jsxs)(_.Text,{color:"subtle",children:["No existing entries match ",n.values.publicKey,"."]})]}):(0,t.jsxs)("div",{className:"flex flex-col gap-3 items-center justify-center h-[200px]",children:[(0,t.jsx)(_.Text,{color:"subtle",children:(0,t.jsx)(T.ListChecked32,{})}),(0,t.jsx)(_.Text,{color:"subtle",children:"The allowlist is empty."})]})})]})}var ed=e.i(83081);let ef={address:""},eh=["45.148.30.56","51.158.108.244","siacentral.ddnsfree.com","siacentral.mooo.com"],ep=X.object().shape({address:J.string().required("Required")});function em(){let e=(0,C.useHostsBlocklist)({config:{swr:{refreshInterval:6e4}}}),r=(0,ed.useBlocklistUpdate)(),n=(0,Z.useFormik)({initialValues:ef,validationSchema:ep,onSubmit:async(e,t)=>{await r([e.address],[])?t.resetForm():t.setStatus({error:"Error updating blocklist"})}});(0,o.useEffect)(()=>{n.setStatus(void 0)},[n.values]);let i=n.values.address,a=(0,o.useMemo)(()=>e.data?.filter(e=>!n.values.address||e.includes(n.values.address))||[],[e.data,n.values.address]),s=(0,o.useMemo)(()=>eh.filter(t=>!e.data?.find(e=>e===t)).map(e=>({address:e})),[e.data]);return(0,t.jsxs)("form",{onSubmit:n.handleSubmit,className:"flex flex-col gap-2 h-[400px]",children:[(0,t.jsx)(K.FieldGroupFormik,{title:"Address",name:"address",formik:n,withStatusError:!0,children:(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)(K.FormTextFieldFormik,{name:"address",formik:n,placeholder:"eg: 51.258.128.144 or spam.ddnsfree.com",autoComplete:"off",variants:{size:"small"}}),(0,t.jsx)(K.FormSubmitButtonFormik,{formik:n,size:"small",variant:"red",withStatusError:!1,children:"Block address"})]})}),(0,t.jsx)("div",{className:"flex-1 overflow-hidden !-m-2",children:(0,t.jsx)(eo.ScrollArea,{children:(0,t.jsxs)("div",{className:"p-2",children:[!!s.length&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex gap-1 flex-wrap",children:[(0,t.jsx)(_.Text,{size:"12",color:"subtle",children:"Suggestions:"}),s.map(({address:e},r)=>(0,t.jsxs)(_.Text,{size:"12",underline:"hover",className:"cursor-pointer",onClick:()=>n.setFieldValue("address",e),children:[e,r!==s.length-1&&(0,t.jsx)(_.Text,{children:","})]},e))]}),(0,t.jsx)(d.Separator,{className:"my-2"})]}),a.length?(0,t.jsx)("div",{"data-testid":"blocklistAddresses",children:(0,t.jsx)(ei.PoolSelected,{options:a.map(e=>({value:e,label:`${e.slice(0,20)}...`}))||[],onClick:e=>(0,ea.copyToClipboard)(e,"blocked address"),onRemove:e=>r([],[e])})}):i?(0,t.jsxs)("div",{className:"flex flex-col gap-3 items-center justify-center h-[200px]",children:[(0,t.jsx)(_.Text,{color:"subtle",children:(0,t.jsx)(T.Filter32,{})}),(0,t.jsxs)(_.Text,{color:"subtle",children:["No existing entries match ",n.values.address,"."]})]}):(0,t.jsxs)("div",{className:"flex flex-col gap-3 items-center justify-center h-[200px]",children:[(0,t.jsx)(_.Text,{color:"subtle",children:(0,t.jsx)(T.ListChecked32,{})}),(0,t.jsx)(_.Text,{color:"subtle",children:"The blocklist is empty."})]})]})})})]})}function eg({trigger:e,open:n,onOpenChange:i}){return(0,t.jsx)(r.Dialog,{trigger:e,title:"Manage host blocklist and allowlist",open:n,onOpenChange:e=>{i(e)},contentVariants:{className:"w-[500px]"},children:(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsx)(en.Paragraph,{size:"12",children:"The allowlist and blocklist limit the set of hosts that renterd will consider when forming contracts. The blocklist excludes hosts with matching addresses whereas the allowlist restricts consideration to hosts with a matching public key. Each list's filtering is enabled and applied when it contains more than zero entries."}),(0,t.jsxs)(er.Tabs,{defaultValue:"blocklist",children:[(0,t.jsxs)(er.TabsList,{"aria-label":"blocklist and allowlist tabs",children:[(0,t.jsx)(er.TabsTrigger,{"aria-label":"view blocklist",value:"blocklist",children:"Block"}),(0,t.jsx)(er.TabsTrigger,{"aria-label":"view allowlist",value:"allowlist",children:"Allow"})]}),(0,t.jsx)(er.TabsContent,{value:"blocklist",children:(0,t.jsx)(em,{})}),(0,t.jsx)(er.TabsContent,{value:"allowlist",children:(0,t.jsx)(ec,{})})]})]})})}function ey({panel:e}){let{closeDialog:r}=(0,b.useDialog)(),n=(0,v.useRouter)(),i=(0,v.usePathname)(),[p,m]=(0,o.useState)(""),[g]=L(p,500),{activeBucket:y}=(0,M.useFilesManager)(),x=(0,o.useCallback)(()=>{r()},[r]),w=A(y?.name);return(0,t.jsxs)(h.Command,{label:w.label,shouldFilter:!1,className:(0,s.cx)(e&&(0,u.panelStyles)()),children:[(0,t.jsxs)(c.Label,{className:"px-2 flex justify-between items-center",children:["File search in current bucket",!!y&&(0,t.jsx)(f.Button,{variant:"inactive",state:"waiting",tabIndex:-1,size:"small",children:y.name})]}),(0,t.jsx)(h.Command.Input,{"aria-label":"search files",name:"search-files-menu-input",value:p,onValueChange:m,className:(0,l.textFieldStyles)({variant:"ghost",focus:"none"}),placeholder:w.prompt}),(0,t.jsx)(d.Separator,{className:"my-2"}),(0,t.jsx)("div",{className:"overflow-hidden",children:(0,t.jsxs)(h.Command.List,{children:[(0,t.jsx)(h.Command.Empty,{children:(0,t.jsx)(R.FileSearchEmpty,{search:p,debouncedSearch:g})}),(0,t.jsx)(F,{mode:"bucket",debouncedSearch:g,search:p,currentPage:w,beforeSelect:()=>{x()},afterSelect:()=>{i.startsWith(a.routes.buckets.index)||n.push(a.routes.buckets.index)}})]})})]})}function eb({open:e,onOpenChange:n,trigger:i}){return(0,t.jsx)(r.Dialog,{open:e,trigger:i,onOpenChange:n,contentVariants:{className:"!absolute !p-1 w-[450px] top-[200px]"},bodyClassName:"!px-1 !py-1",closeClassName:"hidden",children:(0,t.jsx)(ey,{})})}e.s(["HostsAllowBlockDialog",()=>eg],22175),e.s(["FilesSearchBucketDialog",()=>eb],36009),e.s(["RenterdSendSiacoinDialog",()=>ew],77254);var ev=e.i(20156),ex=e.i(63761);function ew(){let{dialog:e,onOpenChange:r}=(0,b.useDialog)(),n=(0,C.useWallet)(),i=(0,C.useTxPoolRecommendedFee)(),a=(0,o.useMemo)(()=>i.data?new ex.default(i.data).times(1200):new ex.default(0),[i.data]),s=(0,C.useWalletSend)(),l=(0,o.useCallback)(async({address:e,hastings:t,includeFee:r})=>{let n=await s.post({payload:{address:e,amount:t.toString(),subtractMinerFee:r}});return n.error?{error:n.error}:{transactionId:n.data}},[s]);return(0,t.jsx)(ev.WalletSendSiacoinDialog,{balance:n.data?new ex.default(n.data.spendable):void 0,send:l,fee:a,open:"sendSiacoin"===e,onOpenChange:r})}},329,e=>{"use strict";var t=e.i(91398);e.i(86663);var r=e.i(15222),n=e.i(275);e.i(86283);var i=e.i(53658),a=e.i(91788),o=e.i(17837),s=e.i(24397),l=e.i(80985),u=e.i(79757),c=e.i(929),d=e.i(91952),f=e.i(38921),h=e.i(33478),p=e.i(16517),m=e.i(26069),g=e.i(29976);e.i(37869);var y=e.i(59999),b=e.i(31363);e.i(71487);var v=e.i(76993);let x=[{id:"transactionId",label:"transaction ID",category:"general",render:({data:{id:e},context:r})=>e?(0,t.jsx)(d.ValueCopyable,{size:"12",value:e,label:"transaction ID",type:"transaction",siascanUrl:r.siascanUrl}):null},{id:"type",label:"type",category:"general",fixed:!0,render:({data:{txType:e}})=>(0,t.jsx)(g.Badge,{size:"small",children:(0,b.getTxTypeLabel)(e)})},{id:"height",label:"height",category:"general",contentClassName:"justify-end",render:({data:{height:e,pending:r,maturityHeight:n,isMature:i}})=>r?(0,t.jsx)(c.Text,{size:"12",ellipsis:!0,children:(0,t.jsx)(f.LoadingDots,{})}):e?e&&n&&n>e?(0,t.jsx)(m.Tooltip,{content:i?"The maturity height has been reached.":"The maturity height has not been reached, therefore the output is still locked.",children:(0,t.jsxs)("div",{className:"flex flex-col gap-[5px]",children:[(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsxs)(c.Text,{size:"12",font:"mono",ellipsis:!0,color:i?"green":"red",className:"flex gap-1 items-center",children:[i?(0,t.jsx)(v.Unlocked16,{}):(0,t.jsx)(v.Locked16,{}),n.toLocaleString()]})}),(0,t.jsxs)("div",{className:"flex justify-between items-end gap-1",children:[(0,t.jsx)("div",{className:"pl-[8px] pb-[6px]",children:(0,t.jsx)("div",{className:"border-l border-b border-gray-800 dark:border-graydark-800 h-[20px] w-[7px]"})}),(0,t.jsx)(c.Text,{size:"12",font:"mono",color:"subtle",ellipsis:!0,children:e.toLocaleString()})]})]})}):(0,t.jsx)(c.Text,{size:"12",font:"mono",ellipsis:!0,children:e.toLocaleString()}):null},{id:"timestamp",label:"timestamp",category:"general",contentClassName:"justify-end",render:({data:{timestamp:e,pending:r}})=>r?(0,t.jsx)(c.Text,{size:"12",ellipsis:!0,children:(0,t.jsx)(f.LoadingDots,{})}):(0,t.jsx)(c.Text,{size:"12",ellipsis:!0,children:(0,y.humanDate)(e,{timeStyle:"short"})})},{id:"amount",label:"amount",category:"general",contentClassName:"w-[120px] justify-end",render:({data:{amountSc:e,amountSf:r}})=>e?(0,t.jsxs)("div",{className:"flex flex-col gap-2 items-end",children:[!e.isZero()&&(0,t.jsx)(h.ValueCurrency,{displayBoth:!0,size:"12",value:e}),!!r&&(0,t.jsx)(p.ValueSf,{size:"12",value:r})]}):null},{id:"fee",label:"fee",category:"general",contentClassName:"w-[120px] justify-end",render:({data:{fee:e}})=>e?(0,t.jsx)(h.ValueCurrency,{displayBoth:!0,size:"12",variant:"value",value:e}):null},{id:"contractId",label:"contract ID",category:"general",render:({data:{contractId:e},context:r})=>e?(0,t.jsx)(d.ValueCopyable,{size:"12",value:e,label:"contract ID",siascanUrl:r.siascanUrl}):null}];var w=e.i(32869),S=e.i(84147),k=e.i(41399);let j=["transactionId","type","height","timestamp","amount","fee"],C=[];var P=e.i(63761);let _=[],T=(0,a.createContext)({});function E({children:e}){let c=function(){let e=(0,o.useSearchParams)(),t=Number(e.get("limit")||50),c=Number(e.get("offset")||0),d=(0,i.useWalletEvents)({params:{limit:t,offset:c},config:{swr:{refreshInterval:l.defaultDatasetRefreshInterval}}}),f=(0,i.useWalletPending)({config:{swr:{refreshInterval:l.defaultDatasetRefreshInterval}}}),h=(0,u.useSyncStatus)(),p=(0,a.useMemo)(()=>{if(!d.data||!f.data)return;let e=f.data.map(e=>{let t=(0,w.calculateScValue)(e),r=(0,S.getEventFee)(e);return{id:e.id,timestamp:0,pending:!0,type:e.type,txType:(0,S.getEventTxType)(e),isMature:!1,amountSc:t,fee:r}}),t=d.data.map(e=>{let t=(0,w.calculateScValue)(e),r=(0,S.getEventFee)(e),n=(0,S.getEventContractId)(e),i=e.maturityHeight<=h.nodeBlockHeight;return{id:e.id,type:e.type,txType:(0,S.getEventTxType)(e),timestamp:new Date(e.timestamp).getTime(),maturityHeight:e.maturityHeight,isMature:i,height:e.index.height,pending:!1,amountSc:t,fee:r,contractId:n}});return 0===c?[...e.reverse(),...t]:[...t]},[d.data,f.data,h.nodeBlockHeight,c]),{configurableColumns:m,visibleColumnIds:g,visibleColumns:y,sortableColumns:b,toggleColumnVisibility:v,setColumnsVisible:T,setColumnsHidden:E,toggleSort:R,setSortDirection:M,setSortField:D,sortField:A,sortDirection:F,resetDefaultColumnVisibility:B}=(0,n.useTableState)("renterd/v0/events",{columns:x,columnsDefaultVisible:j,sortOptions:C,defaultSortField:"id"}),N=d.isValidating||f.isValidating,O=d.error||f.error,I=(0,r.useDatasetState)({datasetPage:p,isValidating:N,error:O,offset:c,filters:_}),z=(0,s.useSiascanUrl)(),U=(0,a.useMemo)(()=>({siascanUrl:z}),[z]),L=(0,k.daysInMilliseconds)(1),H=(0,a.useMemo)(()=>new Date(new Date().getTime()-30*L).toISOString(),[30,L]),W=(0,i.useMetricsWallet)({params:{start:H,interval:L,n:30}});return{balances:(0,a.useMemo)(()=>(W.data||[]).map(e=>({sc:new P.default(e.spendable).plus(e.unconfirmed).toNumber(),timestamp:new Date(e.timestamp).getTime()})).sort((e,t)=>e.timestamp>=t.timestamp?1:-1),[W.data]),metrics:W,datasetPage:p,error:O,datasetState:I,offset:c,limit:t,datasetPageTotal:p?.length||0,defaultPageSize:50,cellContext:U,configurableColumns:m,visibleColumnIds:g,sortableColumns:b,toggleColumnVisibility:v,setColumnsVisible:T,setColumnsHidden:E,toggleSort:R,setSortDirection:M,setSortField:D,sortField:A,sortDirection:F,resetDefaultColumnVisibility:B,filters:_,visibleColumns:y}}();return(0,t.jsx)(T.Provider,{value:c,children:e})}e.s(["TransactionsProvider",()=>E,"useTransactions",0,()=>(0,a.useContext)(T)],329)},72870,24023,92623,83431,65872,e=>{"use strict";e.s(["RenterdTransactionDetailsDialog",()=>o],72870);var t=e.i(91398),r=e.i(91788);e.i(86663);var n=e.i(5521),i=e.i(84588),a=e.i(329);function o(){let{id:e,dialog:o,onOpenChange:s}=(0,i.useDialog)(),{datasetPage:l}=(0,a.useTransactions)(),u=(0,r.useMemo)(()=>l?.find(t=>t.id===e),[l,e]);return(0,t.jsx)(n.TransactionDetailsDialog,{id:e,transaction:u,open:"transactionDetails"===o,onOpenChange:s})}e.s(["FilesBucketDeleteDialog",()=>b],24023);var s=e.i(67419),l=e.i(48708),u=e.i(8854),c=e.i(86411),d=e.i(35929),f=e.i(79476),h=e.i(51281),p=e.i(44953),m=e.i(58021);e.i(86283);var g=e.i(53658);let y={name:""};function b({trigger:e,open:n,onOpenChange:a}){let{id:o}=(0,i.useDialog)(),b=(0,g.useBucketDelete)(),v=(0,m.useForm)({mode:"all",defaultValues:y}),{handleOpenChange:x,closeAndReset:w}=(0,p.useDialogFormHelpers)({form:v,onOpenChange:a,defaultValues:y}),S=(0,r.useCallback)(async e=>{let t=await b.delete({params:{name:e.name}});t.error?(0,u.triggerErrorToast)({title:"Error deleting bucket",body:t.error}):((0,u.triggerSuccessToast)({title:"Bucket permanently deleted"}),w())},[b,w]),k=(0,r.useMemo)(()=>({name:{type:"text",title:"Name",placeholder:o,validation:{required:"required",validate:{equals:e=>e===o||"bucket name does not match"}}}}),[o]),j=(0,c.useOnInvalid)(k);return(0,t.jsx)(l.Dialog,{title:"Delete Bucket",trigger:e,open:n,onOpenChange:x,contentVariants:{className:"w-[400px]"},onSubmit:v.handleSubmit(S,j),children:(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsx)(s.Paragraph,{size:"14",children:"Before you delete a bucket you must ensure that it is empty. Re-enter the bucket name to confirm the removal."}),(0,t.jsx)("div",{children:(0,t.jsx)(h.Code,{color:"gray",children:o})}),(0,t.jsx)(f.FieldText,{name:"name",form:v,fields:k,autoComplete:"off"}),(0,t.jsx)(d.FormSubmitButton,{variant:"red",form:v,children:"Delete"})]})})}e.s(["FilesBucketPolicyDialog",()=>w],92623);var v=e.i(21496);let x={visibility:"public"};function w({trigger:e,open:n,onOpenChange:a}){let{id:o,closeDialog:f}=(0,i.useDialog)(),h=(0,g.useBucket)({disabled:!n,params:{name:o},config:{swr:{revalidateOnFocus:!1}}}),p=(0,g.useBucketPolicyUpdate)(),y=(0,m.useForm)({mode:"all",defaultValues:x});(0,r.useEffect)(()=>{y.reset({visibility:h.data?.policy?.publicReadAccess?"public":"private"})},[y,h.data]);let b=(0,r.useCallback)(async e=>{let t=await p.put({params:{name:o},payload:{policy:{publicReadAccess:"public"===e.visibility}}});t.error?(0,u.triggerErrorToast)({title:"Error updating bucket policy",body:t.error}):((0,u.triggerSuccessToast)({title:"Bucket policy has been updated"}),y.reset(),f())},[y,o,p,f]),w=(0,r.useMemo)(()=>({visibility:{type:"text",title:"Read Access",placeholder:o,validation:{required:"required"},options:[{label:"Public",value:"public"},{label:"Private",value:"private"}]}}),[o]),S=(0,c.useOnInvalid)(w);return(0,t.jsx)(l.Dialog,{title:`Change Policy: ${o}`,trigger:e,open:n,onOpenChange:e=>{e||y.reset(x),a(e)},contentVariants:{className:"w-[400px]"},onSubmit:y.handleSubmit(b,S),children:(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsx)(s.Paragraph,{size:"14",children:"Update the bucket's policy to set read access to either private or public. Files in public read access buckets can be accessed without authentication via the S3 API."}),(0,t.jsx)(v.FieldSelect,{name:"visibility",form:y,fields:w}),(0,t.jsx)(d.FormSubmitButton,{variant:"accent",form:y,children:"Update policy"})]})})}e.s(["FilesBucketCreateDialog",()=>k],83431);let S={name:""};function k({trigger:e,open:n,onOpenChange:a}){let{closeDialog:o}=(0,i.useDialog)(),s=(0,g.useBucketCreate)(),h=(0,m.useForm)({mode:"all",defaultValues:S}),p=(0,r.useCallback)(async e=>{let t=await s.post({payload:{name:e.name}});t.error?(0,u.triggerErrorToast)({title:"Error creating bucket",body:t.error}):((0,u.triggerSuccessToast)({title:"Bucket created"}),h.reset(),o())},[h,s,o]),y=(0,r.useMemo)(()=>({name:{type:"text",title:"Name",placeholder:"photos, backups, etc",validation:{required:"required"}}}),[]),b=(0,c.useOnInvalid)(y);return(0,t.jsx)(l.Dialog,{title:"Create Bucket",description:"A bucket is an isolated collection of files.",trigger:e,open:n,onOpenChange:e=>{e||h.reset(S),a(e)},contentVariants:{className:"w-[400px]"},onSubmit:h.handleSubmit(p,b),children:(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsx)(f.FieldText,{name:"name",form:h,fields:y,autoComplete:"off"}),(0,t.jsx)(d.FormSubmitButton,{form:h,children:"Create bucket"})]})})}var j=e.i(73338);function C(e,t){let r=(0,j.pathSegmentsToPath)(e);return t?.collisions?.length&&(r=".."===t.collisions[0].id?(0,j.pathSegmentsToPath)(e.slice(0,-1)):String(t.collisions[0].id)),r}function P(e,t){let r=[];for(let n of e){let e=(0,j.getFilename)(n),i=(0,j.getBucketFromPath)(n),a=(0,j.getKeyFromPath)(n),o=(0,j.getKeyFromPath)((0,j.join)(t,e));a!==o&&r.push({bucket:i,from:a,to:o,mode:e.endsWith("/")?"multi":"single"})}return r.sort((e,t)=>e.from===t.from?0:e.from.startsWith(t.from)?-1:1),r}function _(e,t){let r=(0,j.join)((0,j.getParentDirectoryPath)(e),t),n=(0,j.isDirectory)(e);return n&&(r=(0,j.ensureDirectory)(r)),{bucket:(0,j.getBucketFromPath)(e),from:(0,j.getKeyFromPath)(e),to:(0,j.getKeyFromPath)(r),mode:n?"multi":"single"}}e.s(["getMoveFileDestinationDirectory",()=>C,"getMoveFileOperations",()=>P,"getRenameFileRenameParams",()=>_],65872)},14491,e=>{"use strict";var t=e.i(10514);e.s(["toPairs",()=>t.default])},11956,e=>{"use strict";e.s(["columnsDefaultVisible",0,["type","name","readAccess","size","health"],"defaultSortDirection",0,"asc","defaultSortField",0,"name","sortOptions",0,[{id:"name",label:"name",clientId:"path",category:"general"},{id:"health",label:"health",clientId:"health",category:"general"},{id:"size",label:"size",clientId:"size",category:"general"}]])},5024,e=>{"use strict";var t=e.i(91398);e.i(86663);var r=e.i(8854);e.i(94066);var n=e.i(87267),i=e.i(6922),a=e.i(93659);e.i(86283);var o=e.i(53658),s=e.i(4327);e.i(25605);var l=e.i(5646);e.i(37869);var u=e.i(28787),c=e.i(41399),d=e.i(91788),f=e.i(27454);class h{static #e=5;static #t=0;static #r=[];static get activeSlots(){return h.#t}static setGlobalMaxConcurrentParts(e){if(e<1)throw Error("globalMaxConcurrentParts must be at least 1.");h.#e=e}static async acquireSlot(){return h.activeSlots<h.#e?void h.#t++:new Promise(e=>{h.#r.push(e)})}static releaseSlot(){h.#t=Math.max(h.#t-1,0);let e=h.#r.shift();e&&(h.#t++,e())}#n;#i;#a;#o;#s;#l;#u;#c;#d=()=>null;#f;#h;#p;#m;#g;#y;#b;#v=500;#x=6e4;#w=this.#v;constructor(e){this.#n=e.bucket,this.#i=e.key,this.#o=e.partSize||5242880,this.#a=e.file,this.#s=e.api,this.#l=e.onProgress||(()=>null),this.#u=e.onError||(()=>null),this.#c=e.onComplete||(()=>null),this.#f={},this.#h={},this.#p=[],this.#m=[],this.#g=void 0,this.#y=!1,this.#b=!1}async create(){let e={bucket:this.#n,key:this.#i},t=await this.#s.busUploadCreate.post({payload:e});if(!t.data?.uploadID)return;this.#g=t.data.uploadID;let r=Math.ceil(this.#a.size/this.#o);return this.#p=Array.from({length:r},(e,t)=>t+1),this.#g}async start(){let e=new Promise(e=>{this.#d=e}),t=Math.min(h.#e,Math.ceil(this.#a.size/this.#o));for(let e=0;e<t;e++)this.#S(e);await e}async abort(){if(this.#y=!0,Object.keys(this.#h).map(Number).forEach(e=>{this.#h[e].abort()}),this.#g)try{await this.#s.busUploadAbort.post({payload:{bucket:this.#n,key:this.#i,uploadID:this.#g}})}catch(e){(0,r.triggerErrorToast)({title:"Error aborting upload",body:e.message})}this.#d?.()}setOnProgress(e){this.#l=e}setOnError(e){this.#u=e}setOnComplete(e){this.#c=e}async #S(e){await h.acquireSlot();try{for(;!this.#y&&!this.#b;){let e=this.#k();if(!e)break;try{let t=(e-1)*this.#o,r=this.#a.slice(t,t+this.#o);await this.#j(e,r,t),this.#C()}catch(t){if(t instanceof p);else if(t instanceof m){await this.abort(),this.#u(t);break}else this.#P(e),await this.#_()}}}finally{h.releaseSlot(),this.#T()}}#k(){return this.#p.pop()}#P(e){this.#p.push(e)}#C(){this.#w=this.#v}async #_(){let e=(0,f.delay)(this.#w);this.#w=Math.min(2*this.#w,this.#x),await e}async #T(){if(!this.#b&&!this.#y&&!this.#p.length&&!Object.keys(this.#h).length){this.#b=!0;try{let e={bucket:this.#n,key:this.#i,uploadID:this.#g,parts:this.#m.sort((e,t)=>e.partNumber-t.partNumber)};await this.#s.busUploadComplete.post({payload:e}),this.#c()}catch(e){this.#u(e)}this.#d()}}#E(e,t){this.#f[e]=t.loaded;let r=Math.min(Object.keys(this.#f).map(Number).reduce((e,t)=>e+=this.#f[t],0),this.#a.size),n=this.#a.size,i=Math.round(r/n*100);this.#l({sent:r,total:n,percentage:i})}async #j(e,t,r){let n=new AbortController;this.#h[e]=n;try{let i=await this.#s.workerUploadPart.put({params:{key:this.#i.slice(1),bucket:this.#n,uploadid:this.#g,encryptionoffset:r,partnumber:e},payload:t,config:{axios:{onUploadProgress:t=>this.#E(e,t),signal:n.signal}}});if(i.error){if("canceled"===i.error)throw new p;throw Error(i.error)}let a=i.headers?.etag;if(!a)throw new m;let o={partNumber:e,eTag:a.replace(/"/g,"")};this.#m.push(o)}finally{delete this.#h[e]}}}class p extends Error{constructor(){super("canceled"),this.name="CanceledError"}}class m extends Error{constructor(){super("No ETag in response, add ETag to Access-Control-Expose-Headers list"),this.name="NoETagError"}}var g=e.i(73338),y=e.i(69509);let b=(0,d.createContext)({});function v({children:e}){let f=function(){let{activeDirectoryPath:e}=(0,y.useFilesManager)(),t=(0,o.useBuckets)(),f=(0,i.useMutate)(),p=(0,s.useMultipartUploadPart)(),m=(0,o.useMultipartUploadComplete)(),b=(0,o.useMultipartUploadCreate)(),v=(0,o.useMultipartUploadAbort)(),[x,w,S]=(0,a.useThrottledStateMap)({}),k=(0,o.useSettingsUpload)({config:{swr:{refreshInterval:(0,c.minutesInMilliseconds)(1)}}}),j=(0,d.useMemo)(()=>Object.values(S),[S]),C=j.length>0,P=(0,d.useCallback)(({id:e,uploadStatus:t,multipartId:r,loaded:n})=>{w(i=>(i[e]={...i[e],multipartId:r,uploadStatus:t,loaded:n},i))},[w]),_=(0,d.useCallback)(e=>{w(t=>{let r=t[e.id];return r&&r.loaded!==e.loaded&&(t[e.id]={...r,loaded:e.loaded,uploadStatus:e.loaded===e.size?"uploading to hosts":"uploading to daemon",size:e.size}),t})},[w]),T=(0,d.useCallback)(e=>{w(t=>(delete t[e],t))},[w]),E=(0,d.useCallback)(async({id:e,path:t,bucket:i,uploadFile:a})=>{let o,s=(0,g.getKeyFromPath)(t);h.setGlobalMaxConcurrentParts("2"==(window.location.href.startsWith("https://")?"2":"1.1")?25:5);let c=new h({file:a,key:s,bucket:i.name,api:F.current,partSize:(o=k.data?.redundancy.minShards||1,(0,u.MiBToBytes)(4).times(o)).toNumber()});return c.setOnError(t=>{(0,r.triggerErrorToast)({title:"Error uploading file",body:t.message}),F.current.removeUpload(e)}),c.setOnProgress(t=>{F.current.updateUploadProgress({id:e,loaded:t.sent,size:t.total})}),c.setOnComplete(async()=>{(0,n.throttle)(l.busObjectsRoute,5e3,()=>f(e=>e.startsWith(l.busObjectsRoute))),F.current.removeUpload(e)}),c},[k.data,f]),R=(0,d.useCallback)(async({id:e,path:t,bucket:r,name:n,uploadFile:i})=>{let a=await E({id:e,path:t,bucket:r,uploadFile:i});if(!a)return;let o=(0,g.getKeyFromPath)(t),s={id:e,path:t,key:o,bucket:r,name:n,size:i.size,loaded:0,isUploading:!0,multipartId:void 0,multipartUpload:a,uploadStatus:"queued",uploadFile:i,createdAt:new Date().toISOString(),uploadAbort:async()=>{F.current.removeUpload(e),a.abort()},type:"file"};w(t=>(t[e]=s,t))},[E,w]),M=(0,d.useCallback)(async({id:e,upload:t})=>{P({id:e,uploadStatus:"uploading to daemon",loaded:0});let n=await t.create();if(!n){(0,r.triggerErrorToast)({title:"Error creating upload",body:"Failed to create upload"}),P({id:e,uploadStatus:"queued",loaded:0});return}P({id:e,uploadStatus:"uploading to daemon",multipartId:n,loaded:0}),await t.start()},[P]),D=(0,d.useCallback)(()=>(0,n.throttle)("checkAndStartUploads",500,()=>{let e=Object.values(x.current),t=e.filter(e=>"uploading to daemon"===e.uploadStatus||"uploading to hosts"===e.uploadStatus),r=e.filter(e=>"queued"===e.uploadStatus),n=Math.max(5-t.length,0);r.slice(0,n).forEach(e=>{e.multipartUpload&&M({id:e.id,upload:e.multipartUpload})})}),[x,M]),A=(0,d.useCallback)(n=>{n.forEach(n=>{let i=n.path||n.name,a=(0,g.join)(e,i),o=n.name,s=(0,g.getBucketFromPath)(a),l=t.data?.find(e=>e.name===s);l?(x.current[a]&&((0,r.triggerErrorToast)({title:"Already uploading file, aborting previous upload.",body:a}),x.current[a].uploadAbort?.()),R({id:a,path:a,name:o,bucket:l,uploadFile:n})):(0,r.triggerErrorToast)({title:"Bucket not found",body:s})})},[e,R,t.data,x]),F=(0,d.useRef)({checkAndStartUploads:D,workerUploadPart:p,busUploadComplete:m,busUploadCreate:b,busUploadAbort:v,removeUpload:T,updateUploadProgress:_,updateStatusToUploading:P,mutate:f});F.current={checkAndStartUploads:D,busUploadAbort:v,busUploadComplete:m,busUploadCreate:b,workerUploadPart:p,mutate:f,removeUpload:T,updateUploadProgress:_,updateStatusToUploading:P},(0,d.useEffect)(()=>{if(C){let e=setInterval(()=>{F.current.checkAndStartUploads()},500);return()=>clearInterval(e)}},[C]),function({uploadsList:e}){(0,d.useEffect)(()=>{let t=t=>{if(e.length>0){let r=`Warning, closing the tab will abort all ${e.length} active uploads.`;return t.returnValue=r,r}};return e.length>0&&window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)}},[e])}({uploadsList:j});let B=(0,d.useMemo)(()=>[...new Set(j.map(e=>e.bucket))],[j]);return{uploadFiles:A,uploadsMap:S,uploadsList:j,bucketsWithUploads:B}}();return(0,t.jsx)(b.Provider,{value:f,children:e})}function x(e){return e}e.s(["UploadsManagerProvider",()=>v,"getUploadId",()=>x,"useUploadsManager",0,()=>(0,d.useContext)(b)],5024)},2159,14533,33069,e=>{"use strict";e.s(["useDataset",()=>p],2159),e.i(86283);var t=e.i(53658);e.s(["useDataset",()=>d],14533),e.i(19513);var r=e.i(76824),n=e.i(14491),i=e.i(50323),a=e.i(26093),o=e.i(11956),s=e.i(73338),l=e.i(69509),u=e.i(91788),c=e.i(5024);function d({id:e,objects:t,tableState:d}){let{activeBucket:f,activeBucketName:h,fileNamePrefixFilter:p,activeDirectoryPath:m,buckets:g,setActiveDirectory:y}=(0,l.useFilesManager)(),{uploadsList:b}=(0,c.useUploadsManager)(),{dataset:v}=(0,a.useContracts)(),x=(0,i.default)(t.isValidating||g.isValidating?void 0:[e,h,m],()=>{let i={};if(f){if((t.data||b.length)&&(t.data?.forEach(({key:e,size:t,health:r})=>{let n=(0,s.join)(f.name,e),a=(0,s.getFilename)(e);i[n]={id:n,path:n,bucket:f,key:e,size:t,health:r,name:a,type:(0,s.isDirectory)(e)?"directory":"file"}}),"filesFlat"!==e)){for(let e of b)if(e.path.startsWith(m)){if(!e.path.startsWith(m))continue;let t=e.path.slice(m.length).split("/");if(t.length<=1)continue;let r=t[0],n=(0,s.join)(m,r)+"/";if(i[n])continue;i[n]={id:n,path:n,bucket:f,key:(0,s.getKeyFromPath)(n),size:0,health:0,name:r+"/",type:"directory"}}b.filter(({path:e})=>{if(!e.startsWith(m))return!1;let t=1===e.slice(m.length).split("/").length,r=p?(0,s.join)(m,p):m;return t&&e.startsWith(r)}).forEach(e=>{i[e.path]=e})}}else g.data?.forEach(e=>{let t=e.name,r=(0,s.buildDirectoryPath)(t,""),n=(0,s.getKeyFromPath)(r);i[t]={id:r,path:r,bucket:e,key:n,size:0,health:0,name:t,onClick:()=>{y(e=>e.concat(t))},type:"bucket"}});let a=o.sortOptions.find(e=>e.id===d.sortField),l=(0,r.sortBy)((0,n.toPairs)(i).map(e=>e[1]),a?.clientId||"path");return"desc"===d.sortDirection&&l.reverse(),l},{keepPreviousData:!0});return(0,u.useEffect)(()=>{x.mutate()},[t.data,b,v,g.data,p]),x}var f=e.i(80985);e.i(86663);var h=e.i(60662);function p({tableState:e}){let{activeBucketName:r,activeDirectoryPath:n,fileNamePrefixFilter:i}=(0,l.useFilesManager)(),{limit:a,marker:o}=(0,h.usePaginationMarker)(50),c=(0,s.bucketAndKeyParamsFromPath)(n),p=(0,u.useMemo)(()=>{let t=c.key;i&&(t+=i.startsWith("/")?i.slice(1):i);let r={prefix:t,bucket:c.bucket,sortby:e.sortField,sortdir:e.sortDirection,limit:a,delimiter:"/"};return o&&(r.marker=o),r},[i,c,e.sortField,e.sortDirection,o,a]),m=(0,t.useObjects)({disabled:!r,params:p,config:{swr:{refreshInterval:f.defaultDatasetRefreshInterval}}}),g=d({id:"filesDirectory",objects:(0,u.useMemo)(()=>({isValidating:m.isValidating,data:m.data?.objects}),[m.isValidating,m.data?.objects]),tableState:e});return{limit:a,marker:o,nextMarker:m.data?.nextMarker||null,isMore:!!m.data?.hasMore,response:m,dataset:g.data,refresh:m.mutate}}var m=e.i(8854),g=e.i(65872);function y({multiSelect:e,dataset:r,activeDirectory:n,setActiveDirectory:i,refresh:a}){let[o,l]=(0,u.useState)(void 0),[,c]=(0,u.useState)(),d=(0,t.useObjectsRename)(),f=(0,u.useCallback)(async(t,r)=>{if(t.length){for(let e of(0,g.getMoveFileOperations)(t,r)){let{bucket:t,from:r,to:n,mode:i}=e,a=await d.post({payload:{force:!1,bucket:t,from:r,to:n,mode:i}});a.error&&(0,m.triggerErrorToast)({title:"Error moving files",body:a.error})}a(),e.deselectAll()}},[a,d,e]),h=(0,u.useMemo)(()=>{let t=(0,g.getMoveFileDestinationDirectory)(n);return(0,g.getMoveFileOperations)(e.selectedIds,t).length},[e.selectedIds,n]),p=(0,u.useCallback)(async()=>{e.selectedIds.length&&f(e.selectedIds,(0,g.getMoveFileDestinationDirectory)(n))},[e.selectedIds,n,f]),y=(0,u.useCallback)(async e=>{o&&f(o.map(e=>e.path),(0,g.getMoveFileDestinationDirectory)(n,e))},[o,n,f]),b=(0,u.useCallback)(e=>{if(!e)return void c(e=>{e&&clearTimeout(e)});let t=setTimeout(()=>{i(()=>e)},500);c(e=>(e&&clearTimeout(e),t))},[c,i]),v=(0,u.useCallback)(e=>{if(e.collisions?.length){let t=e.collisions?.[0].id;".."===t?b(n.slice(0,-1)):b((0,s.getDirectorySegmentsFromPath)(t))}else b(void 0)},[b,n]),x=(0,u.useCallback)(t=>{let n=String(t.active.id);if(e.selectedIds.includes(n))l(Object.entries(e.selection).map(([,e])=>e));else{let e=r?.find(e=>e.id===t.active.id);l(e?[e]:void 0)}},[r,l,e]),w=(0,u.useCallback)(e=>{v(e)},[v]),S=(0,u.useCallback)(e=>{v(e)},[v]);return{onDragEnd:(0,u.useCallback)(async e=>{b(void 0),l(void 0),y(e)},[l,b,y]),onDragOver:w,onDragCancel:(0,u.useCallback)(async e=>{b(void 0),l(void 0)},[l,b]),onDragMove:S,onDragStart:x,draggingObjects:o,moveSelectedFiles:p,moveSelectedFilesOperationCount:h}}e.s(["useMove",()=>y],33069)},13848,e=>{"use strict";e.s(["useDataset",()=>s]),e.i(86283);var t=e.i(53658),r=e.i(14533),n=e.i(91788),i=e.i(69509),a=e.i(80985);e.i(86663);var o=e.i(60662);function s({tableState:e}){let{activeBucketName:s,fileNamePrefixFilter:l}=(0,i.useFilesManager)(),{limit:u,marker:c}=(0,o.usePaginationMarker)(50),d=(0,n.useMemo)(()=>{let t="";l&&(t+=l.startsWith("/")?l.slice(1):l);let r={prefix:t,bucket:s,sortby:e.sortField,sortdir:e.sortDirection,limit:u,delimiter:""};return c&&(r.marker=c),r},[l,s,e.sortField,e.sortDirection,c,u]),f=(0,t.useObjects)({disabled:!s,params:d,config:{swr:{refreshInterval:a.defaultDatasetRefreshInterval}}}),h=(0,n.useMemo)(()=>({isValidating:f.isValidating,data:f.data?.objects}),[f.isValidating,f.data]),p=(0,r.useDataset)({id:"filesFlat",objects:h,tableState:e});return{limit:u,marker:c,nextMarker:f.data?.nextMarker||null,response:f,isMore:!!f.data?.hasMore,dataset:p.data,refresh:f.mutate}}},76356,20687,62625,58581,54953,e=>{"use strict";e.s(["columns",()=>N],76356);var t=e.i(91398);e.i(86663);var r=e.i(54413),n=e.i(7379),i=e.i(21324),a=e.i(929),o=e.i(26069),s=e.i(82129);e.i(71487);var l=e.i(76993);e.i(37869);var u=e.i(59999),c=e.i(53667);e.s(["DirectoryContextMenu",()=>x],20687);var d=e.i(57184),f=e.i(79317),h=e.i(67419),p=e.i(8854),m=e.i(84588),g=e.i(91788);e.i(86283);var y=e.i(53658),b=e.i(73338),v=e.i(87400);function x({path:e,size:n}){let i=function(){let{openConfirmDialog:e}=(0,m.useDialog)(),r=(0,y.useObjectsRemove)(),{multiSelect:n}=(0,v.useFilesActiveMode)();return(0,g.useCallback)((i,a)=>e({title:"Delete directory",action:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.Delete16,{}),"Delete"]}),variant:"red",body:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsxs)(h.Paragraph,{size:"14",children:["Are you sure you would like to delete the following directory which contains ",(0,u.humanBytes)(a)," of data:"]}),(0,t.jsx)(h.Paragraph,{size:"14",font:"mono",className:"break-words",children:i})]}),onConfirm:async()=>{let e=(0,b.getBucketFromPath)(i),t=(0,b.getKeyFromPath)(i),a=await r.post({payload:{bucket:e,prefix:t}});if(a.error)(0,p.triggerErrorToast)({title:"Error deleting directory",body:a.error});else if((0,p.triggerSuccessToast)({title:"Deleted directory"}),n){let e=(0,b.ensureDirectory)(i),t=Object.keys(n.selection).filter(t=>t===i||t.startsWith(e));t.length>0&&n.deselect(t)}}}),[e,r,n])}(),{openDialog:a}=(0,m.useDialog)();return(0,t.jsxs)(d.DropdownMenu,{trigger:(0,t.jsx)(r.Button,{"aria-label":"Directory context menu",size:"none",variant:"ghost",icon:"hover",children:(0,t.jsx)(f.FolderIcon,{size:16})}),contentProps:{align:"start",onClick:e=>{e.stopPropagation()}},children:[(0,t.jsx)(d.DropdownMenuLabel,{children:"Actions"}),(0,t.jsxs)(d.DropdownMenuItem,{onSelect:()=>{a("fileRename",e)},children:[(0,t.jsx)(d.DropdownMenuLeftSlot,{children:(0,t.jsx)(l.Edit16,{})}),"Rename directory"]}),(0,t.jsxs)(d.DropdownMenuItem,{onSelect:()=>{i(e,n)},children:[(0,t.jsx)(d.DropdownMenuLeftSlot,{children:(0,t.jsx)(l.Delete16,{})}),"Delete directory"]})]})}var w=e.i(63761),S=e.i(57439),k=e.i(38921);let j={excellent:1,good:.5,poor:0};function C({health:e=0,size:r,isDirectory:n}){let i="excellent",a="green",o=e,s=(0,t.jsx)(l.CheckmarkFilled16,{});return e<j.excellent&&(i="good",a="green",s=(0,t.jsx)(l.CheckmarkFilled16,{})),e<j.good&&(i="poor",a="amber",s=(0,t.jsx)(l.WarningFilled16,{})),e<j.poor&&(i="bad",a="red",s=(0,t.jsx)(l.Misuse16,{})),n&&0===r&&(i="excellent",a="green",s=(0,t.jsx)(l.CheckmarkFilled16,{}),o=1),e>1&&(o=1),e<0&&(o=0),{label:i+" health",color:a,icon:s,displayHealth:o}}e.s(["getFileHealth",()=>C,"healthThresholds",0,j],62625);var P=e.i(40410),_=e.i(40480),T=e.i(48684);e.i(19513);var E=e.i(76824);function R({path:e,isUploading:r,type:n,health:i,size:o}){let s="directory"===n,l=(0,y.useObject)({disabled:r||s,params:(0,b.bucketAndKeyParamsFromPath)(e),config:{swr:{dedupingInterval:5e3}}}),{displayHealth:u,label:c}=C({health:i,size:o,isDirectory:s});if(l.isValidating)return(0,t.jsx)(M,{displayHealth:u,label:c,children:(0,t.jsx)("div",{className:"flex justify-center my-2",children:(0,t.jsx)(k.LoadingDots,{})})});if(!l.data)return(0,t.jsx)(M,{displayHealth:u,label:c,children:(0,t.jsx)(a.Text,{size:"12",children:"Error fetching slab metadata."})});let d=(0,E.sortBy)(l.data.slabs?.map(e=>({...e.slab,id:`${e.offset}${e.length}${e.slab.encryptionKey}`,isPartialSlab:!!e.slab.shards,contractSetShards:e.slab.shards?.length?function({totalShards:e,minShards:t,health:r}){let n=Math.ceil(r*(e-t))+t;return n<=0?0:n>e?e:n}({totalShards:e.slab.shards.length,minShards:e.slab.minShards,health:e.slab.health}):0}))||[],"contractSetShards");return(0,t.jsx)(M,{className:d.length>15?"h-[300px]":"",displayHealth:u,label:c,minShards:d.find(e=>e.minShards)?.minShards,totalShards:d.find(e=>e.shards)?.shards?.length,children:d.map(e=>(0,t.jsx)("div",{className:"flex justify-between gap-2",children:(0,t.jsx)(a.Text,{size:"12",className:"flex items-center",children:e.isPartialSlab?`${e.contractSetShards}/${e.shards?.length}`:"partial slab"})},e.id))})}function M({className:e,displayHealth:r,label:n,children:i,minShards:o,totalShards:s}){return(0,t.jsxs)("div",{className:(0,T.cx)("z-10 flex flex-col pb-1 -mx-1 overflow-hidden",e),children:[(0,t.jsxs)("div",{className:"flex justify-between gap-2 pt-0.5 pb-px px-2",children:[(0,t.jsx)(a.Text,{size:"12",children:n}),(0,t.jsxs)(a.Text,{size:"12",children:[(100*r).toFixed(0),"%"]})]}),o&&s?(0,t.jsxs)("div",{className:"flex justify-between gap-2 pt-0.5 pb-px px-2",children:[(0,t.jsx)(a.Text,{size:"12",color:"subtle",children:"redundancy"}),(0,t.jsxs)(a.Text,{size:"12",color:"subtle",children:[o," of ",s]})]}):null,(0,t.jsx)("div",{className:"px-2",children:(0,t.jsx)(_.Separator,{className:"w-full my-1"})}),(0,t.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,t.jsx)(P.ScrollArea,{children:(0,t.jsx)("div",{className:"px-2",children:i})})})]})}function D(e){let{name:r,isUploading:n,type:i,health:o,size:s}=e,l="directory"===i,{displayHealth:u,label:c,color:d,icon:f}=C({health:o,size:s,isDirectory:l}),h=`${(100*u).toFixed(0)}%`;return l?".."===r?null:(0,t.jsx)(S.HoverCard,{rootProps:{openDelay:100},trigger:(0,t.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer",children:[(0,t.jsx)(a.Text,{color:d,children:f}),(0,t.jsx)(a.Text,{color:"verySubtle",size:"12",children:h})]}),children:(0,t.jsx)("div",{className:"z-10 flex flex-col -mx-1 overflow-hidden",children:(0,t.jsxs)("div",{className:"flex justify-between gap-2 py-0.5 px-2",children:[(0,t.jsx)(a.Text,{size:"12",children:c}),(0,t.jsx)(a.Text,{size:"12",children:h})]})})}):n?(0,t.jsx)(k.LoadingDots,{}):(0,t.jsx)(S.HoverCard,{rootProps:{openDelay:100},trigger:(0,t.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer",children:[(0,t.jsx)(a.Text,{color:d,children:f}),(0,t.jsx)(a.Text,{color:"verySubtle",size:"12",children:h})]}),children:(0,t.jsx)(R,{...e})})}e.i(71211),e.i(55920),e.s(["FilesHealthColumn",()=>D],58581),e.s(["BucketContextMenu",()=>F],54953);var A=e.i(47438);function F({name:e}){let{openDialog:n}=(0,m.useDialog)();return(0,t.jsxs)(d.DropdownMenu,{trigger:(0,t.jsx)(r.Button,{size:"none",variant:"ghost",icon:"hover",children:(0,t.jsx)(A.BucketIcon,{size:16})}),contentProps:{align:"start",onClick:e=>{e.stopPropagation()}},children:[(0,t.jsx)(d.DropdownMenuLabel,{children:"Actions"}),(0,t.jsxs)(d.DropdownMenuItem,{onSelect:()=>{n("filesBucketPolicy",e)},children:[(0,t.jsx)(d.DropdownMenuLeftSlot,{children:(0,t.jsx)(l.Rule16,{})}),"Change policy"]}),(0,t.jsxs)(d.DropdownMenuItem,{onSelect:()=>{n("filesDeleteBucket",e)},children:[(0,t.jsx)(d.DropdownMenuLeftSlot,{children:(0,t.jsx)(l.Delete16,{})}),"Delete bucket"]})]})}var B=e.i(69509);let N=[{id:"type",label:"",fixed:!0,contentClassName:"!pl-3 !pr-4",cellClassName:"w-[20px] !pl-0 !pr-0",heading:({context:{isViewingBuckets:e,multiSelect:r}})=>e?null:(0,t.jsx)(i.ControlGroup,{className:"flex h-4",children:(0,t.jsx)(n.Checkbox,{onClick:r.onSelectPage,checked:r.isPageAllSelected})}),render:function({data:{isUploading:e,type:n,name:i,path:a,size:o}}){return e?(0,t.jsx)(r.Button,{size:"none",variant:"ghost",state:"waiting",children:(0,t.jsx)(l.Document16,{})}):"bucket"===n?(0,t.jsx)(F,{name:i}):"directory"===n?(0,t.jsx)(x,{path:a,size:o}):(0,t.jsx)(c.FileContextMenu,{path:a})}},{id:"name",label:"name",category:"general",render:function({data:{path:e,name:r,type:n}}){let{setFileNamePrefixFilter:i}=(0,B.useFilesManager)(),o=(0,b.getKeyFromPath)(e).slice(1);return"bucket"===n?null:"directory"===n?(0,t.jsx)(a.Text,{ellipsis:!0,color:"accent",weight:"semibold",underline:"hover",className:"cursor-pointer",onClick:e=>{e.stopPropagation(),i((0,b.getParentDirectoryPath)(o))},children:o}):(0,t.jsx)(a.Text,{ellipsis:!0,weight:"semibold",underline:"hover",className:"cursor-pointer",onClick:e=>{e.stopPropagation(),i((0,b.getParentDirectoryPath)(o))},children:o})}},{id:"readAccess",label:"public read access",contentClassName:"justify-center",render:function({data:e}){if(".."===e.name)return null;let n=e.bucket?.policy?.publicReadAccess;return(0,t.jsx)(o.Tooltip,{content:n?"The bucket policy allows public read access.":"The bucket policy only allows private read access.",children:(0,t.jsx)("div",{children:(0,t.jsx)(r.Button,{variant:"ghost",state:"waiting",children:(0,t.jsx)(a.Text,{color:n?"contrast":"verySubtle",className:"flex gap-0.5 items-center",children:n?(0,t.jsx)(l.Earth16,{}):(0,t.jsx)(l.Locked16,{})})})})})}},{id:"size",label:"size",contentClassName:"justify-end",render:function({data:{type:e,name:r,size:n}}){return"bucket"===e||".."===r?null:(0,t.jsx)(s.ValueNum,{size:"12",value:new w.default(n),variant:"value",color:"subtle",weight:"regular",format:e=>(0,u.humanBytes)(e.toNumber())})}},{id:"health",label:"health",contentClassName:"justify-center",render:function({data:e}){let{type:r,isUploading:n,loaded:i,size:s}=e;if("bucket"===r)return null;if(n){let e=i?(i/s*100).toFixed(0)+"%":"0%";return(0,t.jsx)(o.Tooltip,{content:`Uploaded ${(0,u.humanBytes)(i||0)}/${(0,u.humanBytes)(s)}`,children:(0,t.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer",children:[(0,t.jsx)(a.Text,{color:"subtle",children:(0,t.jsx)(l.Upload16,{className:"scale-75"})}),(0,t.jsx)(a.Text,{color:"subtle",size:"12",children:e})]})})}return(0,t.jsx)(D,{...e})}}]},2553,285,e=>{"use strict";e.s(["FilesFlatProvider",()=>h,"useFilesFlat",()=>f],2553);var t=e.i(91398);e.i(86663);var r=e.i(15222),n=e.i(65132),i=e.i(91788),a=e.i(13848),o=e.i(69509),s=e.i(76356),l=e.i(275),u=e.i(11956);function c(e){return(0,l.useTableState)("renterd/v0/files",{columns:e,columnsDefaultVisible:u.columnsDefaultVisible,sortOptions:u.sortOptions,defaultSortField:u.defaultSortField,defaultSortDirection:u.defaultSortDirection})}e.s(["useFilesTableState",()=>c],285);let d=(0,i.createContext)({}),f=()=>(0,i.useContext)(d);function h({children:e}){let l=function(){let e=c(s.columns),{activeBucket:t,filters:l,isViewingBuckets:u}=(0,o.useFilesManager)(),{limit:d,marker:f,nextMarker:h,response:p,isMore:m,refresh:g,dataset:y}=(0,a.useDataset)({tableState:e}),b=(0,i.useMemo)(()=>y,[y]),v=(0,n.useMultiSelect)(y);(0,i.useEffect)(()=>{t&&v.deselectAll()},[t]);let x=(0,i.useMemo)(()=>{if(b)return b.map(e=>({...e,isSelected:!!v.selection[e.id],onClick:t=>v.onSelect(e.id,t)}))},[b,v]),w=(0,r.useDatasetState)({datasetPage:x,isValidating:p.isValidating,error:p.error,marker:f,filters:l}),S=(0,i.useMemo)(()=>({isViewingBuckets:u,multiSelect:v}),[v,u]);return{datasetState:w,multiSelect:v,cellContext:S,refresh:g,limit:d,datasetPage:x,marker:f,nextMarker:h,isMore:m,datasetPageTotal:y?.length||0,tableState:e}}();return(0,t.jsx)(d.Provider,{value:l,children:e})}},53667,87400,e=>{"use strict";e.s(["FileContextMenu",()=>w],53667);var t=e.i(91398);e.i(86663);var r=e.i(57184),n=e.i(54413),i=e.i(73797),a=e.i(51281);e.i(71487);var o=e.i(76993),s=e.i(67419),l=e.i(8854),u=e.i(84588),c=e.i(91788);e.i(86283);var d=e.i(53658),f=e.i(73338);e.s(["useFilesActiveMode",()=>g],87400);var h=e.i(69509),p=e.i(2553),m=e.i(79455);function g(){let{activeExplorerMode:e,isViewingBuckets:t}=(0,h.useFilesManager)(),r=(0,p.useFilesFlat)(),n=(0,m.useFilesDirectory)();return"flat"!==e||t?n:r}function y({path:e}){let n=(0,d.useObject)({params:(0,f.bucketAndKeyParamsFromPath)(e),config:{swr:{dedupingInterval:5e3}}});return(0,t.jsxs)(r.DropdownMenuItem,{disabled:!n.data,onSelect:()=>{n.data&&(0,i.copyToClipboard)(JSON.stringify(n.data,null,2),"object metadata")},children:[(0,t.jsx)(r.DropdownMenuLeftSlot,{children:(0,t.jsx)(o.Copy16,{})}),"Copy metadata"]})}e.i(94066);var b=e.i(82156);e.i(25605);var v=e.i(10282);e.i(37869);var x=e.i(41399);function w({trigger:e,path:p,contentProps:m}){let{navigateToModeSpecificFiltering:w}=(0,h.useFilesManager)(),{getAuthenticatedFileUrl:S,getDownloadUrl:k,downloadFiles:j}=function(){let{settings:e}=(0,b.useAppSettings)(),t=(0,d.useAuthToken)(),r=(0,c.useCallback)((t,r)=>{let{bucket:n,key:i}=(0,f.bucketAndKeyParamsFromPath)(t),a=`${v.workerObjectKeyRoute.replace(":key",i)}?bucket=${n}&dl=true`;r&&(a+=`&apikey=${r}`);let o=e.api||location.origin,s=o.startsWith("https")?"https":"http",l=o.replace("https://","").replace("http://","");return`${s}://${l}/api${a}`},[e]),n=(0,c.useCallback)(t=>{let{bucket:r,key:n}=(0,f.bucketAndKeyParamsFromPath)(t),i=`${v.workerObjectKeyRoute.replace(":key",n)}?bucket=${r}`,a=e.api||location.origin,o=a.startsWith("https")?"https":"http",s=a.replace("https://","").replace("http://","");return`${o}://:${e.password}@${s}/api${i}`},[e]),i=(0,c.useCallback)(async()=>{let e=await t.post({params:{validity:(0,x.minutesInMilliseconds)(1)}});return e.error?((0,l.triggerErrorToast)({title:"Failed to get auth token for download",body:e.error}),null):e.data?.token??null},[t]);return{downloadFiles:(0,c.useCallback)(async e=>{let t=await i();t&&e.forEach(async e=>{let n=r(e,t);window.open(n)})},[i,r]),getDownloadUrl:r,getAuthenticatedFileUrl:n}}(),C=function(){let{openConfirmDialog:e}=(0,u.useDialog)(),r=(0,d.useObjectsRemove)(),{multiSelect:n}=g();return(0,c.useCallback)(i=>e({title:"Delete file",action:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.Delete16,{}),"Delete"]}),variant:"red",body:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)(s.Paragraph,{size:"14",children:"Are you sure you would like to delete the following file:"}),(0,t.jsx)(s.Paragraph,{size:"14",font:"mono",className:"break-words",children:i})]}),onConfirm:async()=>{let e=(0,f.getBucketFromPath)(i),t=(0,f.getKeyFromPath)(i),a=await r.post({payload:{bucket:e,prefix:t}});a.error?(0,l.triggerErrorToast)({title:"Error deleting file",body:a.error}):((0,l.triggerSuccessToast)({title:"Deleted file"}),n?.selection[i]&&n.deselect([i]))}}),[e,r,n])}(),{openDialog:P}=(0,u.useDialog)();return(0,t.jsxs)(r.DropdownMenu,{trigger:e||(0,t.jsx)(n.Button,{size:"none","aria-label":"File context menu",variant:"ghost",icon:"hover",children:(0,t.jsx)(o.Document16,{})}),contentProps:{align:"start",...m,onClick:e=>{e.stopPropagation()}},children:[(0,t.jsx)(r.DropdownMenuLabel,{children:"Actions"}),(0,t.jsxs)(r.DropdownMenuItem,{onSelect:async()=>{j([p])},children:[(0,t.jsx)(r.DropdownMenuLeftSlot,{children:(0,t.jsx)(o.Download16,{})}),"Download file"]}),(0,t.jsxs)(r.DropdownMenuItem,{onSelect:()=>P("fileRename",p),children:[(0,t.jsx)(r.DropdownMenuLeftSlot,{children:(0,t.jsx)(o.Edit16,{})}),"Rename file"]}),(0,t.jsxs)(r.DropdownMenuItem,{onSelect:()=>C(p),children:[(0,t.jsx)(r.DropdownMenuLeftSlot,{children:(0,t.jsx)(o.Delete16,{})}),"Delete file"]}),(0,t.jsx)(r.DropdownMenuLabel,{children:"Filter"}),(0,t.jsxs)(r.DropdownMenuItem,{onSelect:()=>{w(p)},children:[(0,t.jsx)(r.DropdownMenuLeftSlot,{children:(0,t.jsx)(o.Filter16,{})}),"Filter by file name"]}),(0,t.jsx)(r.DropdownMenuLabel,{children:"Copy"}),(0,t.jsxs)(r.DropdownMenuItem,{onSelect:()=>{(0,i.copyToClipboard)(p,"file path")},children:[(0,t.jsx)(r.DropdownMenuLeftSlot,{children:(0,t.jsx)(o.Copy16,{})}),"Copy file path"]}),(0,t.jsxs)(r.DropdownMenuItem,{onSelect:()=>{(0,i.copyToClipboard)((0,f.getFilename)(p),"file path")},children:[(0,t.jsx)(r.DropdownMenuLeftSlot,{children:(0,t.jsx)(o.Copy16,{})}),"Copy file name"]}),(0,t.jsxs)(r.DropdownMenuItem,{onSelect:()=>{(0,i.copyToClipboard)(k(p),"file URL")},children:[(0,t.jsx)(r.DropdownMenuLeftSlot,{children:(0,t.jsx)(o.Copy16,{})}),"Copy URL"]}),(0,t.jsxs)(r.DropdownMenuItem,{onSelect:()=>{(0,i.copyToClipboardCustom)({text:S(p),title:"Copied authenticated file URL to clipboard",body:(0,t.jsxs)(t.Fragment,{children:["The authenticated URL contains the ",(0,t.jsx)(a.Code,{children:"renterd"})," ","password, be careful when pasting or sharing the URL."]}),icon:(0,t.jsx)(o.Warning24,{className:"text-amber-600"}),options:{duration:1e5}})},children:[(0,t.jsx)(r.DropdownMenuLeftSlot,{children:(0,t.jsx)(o.Copy16,{})}),"Copy authenticated URL"]}),(0,t.jsx)(y,{path:p})]})}},79455,e=>{"use strict";e.s(["FilesDirectoryProvider",()=>P,"useFilesDirectory",()=>C],79455);var t=e.i(91398);e.i(86663);var r=e.i(15222),n=e.i(65132),i=e.i(91788),a=e.i(2159),o=e.i(33069),s=e.i(69509),l=e.i(54413),u=e.i(7379),c=e.i(21324),d=e.i(929),f=e.i(26069),h=e.i(82129);e.i(71487);var p=e.i(76993),m=e.i(79317);e.i(37869);var g=e.i(59999),y=e.i(53667),b=e.i(20687),v=e.i(63761),x=e.i(58581),w=e.i(54953);let S=[{id:"type",label:"",fixed:!0,contentClassName:"!pl-3 !pr-4",cellClassName:"w-[20px] !pl-0 !pr-0",heading:({context:{isViewingBuckets:e,multiSelect:r}})=>e?null:(0,t.jsx)(c.ControlGroup,{className:"flex h-4",children:(0,t.jsx)(u.Checkbox,{"aria-label":"select all files",onClick:r.onSelectPage,checked:r.isPageAllSelected})}),render:function({data:{isUploading:e,type:r,name:n,path:i,size:a}}){let{setActiveDirectory:o}=(0,s.useFilesManager)();return e?(0,t.jsx)(l.Button,{size:"none",variant:"ghost",state:"waiting",children:(0,t.jsx)(p.Document16,{})}):".."===n?(0,t.jsx)(l.Button,{size:"none",variant:"ghost",icon:"hover",onClick:e=>{e.stopPropagation(),o(e=>e.slice(0,-1))},children:(0,t.jsx)(m.FolderIcon,{size:16})}):"bucket"===r?(0,t.jsx)(w.BucketContextMenu,{name:n}):"directory"===r?(0,t.jsx)(b.DirectoryContextMenu,{path:i,size:a}):(0,t.jsx)(y.FileContextMenu,{path:i})}},{id:"name",label:"name",category:"general",contentClassName:"max-w-[600px]",render:function({data:{name:e,type:r}}){let{setActiveDirectoryAndFileNamePrefix:n,setActiveDirectory:i}=(0,s.useFilesManager)();return"bucket"===r?(0,t.jsx)(d.Text,{ellipsis:!0,color:"accent",weight:"semibold",className:"cursor-pointer",underline:"hover",onClick:t=>{t.stopPropagation(),n([e],"")},children:e}):"directory"===r?".."===e?(0,t.jsx)(d.Text,{ellipsis:!0,color:"accent",weight:"semibold",className:"cursor-pointer",underline:"hover",onClick:e=>{e.stopPropagation(),i(e=>e.slice(0,-1))},children:e}):(0,t.jsx)(d.Text,{ellipsis:!0,color:"accent",weight:"semibold",className:"cursor-pointer",underline:"hover",onClick:t=>{t.stopPropagation(),i(t=>t.concat(e.slice(0,-1)))},children:e}):(0,t.jsx)(d.Text,{ellipsis:!0,weight:"semibold",children:e})}},{id:"readAccess",label:"public read access",contentClassName:"justify-center",render:function({data:e}){if(".."===e.name)return null;let r=e.bucket?.policy?.publicReadAccess;return(0,t.jsx)(f.Tooltip,{content:r?"The bucket policy allows public read access.":"The bucket policy only allows private read access.",children:(0,t.jsx)("div",{children:(0,t.jsx)(l.Button,{variant:"ghost",state:"waiting",children:(0,t.jsx)(d.Text,{color:r?"contrast":"verySubtle",className:"flex gap-0.5 items-center",children:r?(0,t.jsx)(p.Earth16,{}):(0,t.jsx)(p.Locked16,{})})})})})}},{id:"size",label:"size",contentClassName:"justify-end",render:function({data:{type:e,name:r,size:n}}){return"bucket"===e||".."===r?null:(0,t.jsx)(h.ValueNum,{size:"12",value:new v.default(n),variant:"value",color:"subtle",weight:"regular",format:e=>(0,g.humanBytes)(e.toNumber())})}},{id:"health",label:"health",contentClassName:"justify-center",render:function({data:e}){let{type:r,isUploading:n,loaded:i,size:a}=e;if("bucket"===r)return null;if(n){let e=i?(i/a*100).toFixed(0)+"%":"0%";return(0,t.jsx)(f.Tooltip,{content:`Uploaded ${(0,g.humanBytes)(i||0)}/${(0,g.humanBytes)(a)}`,children:(0,t.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer",children:[(0,t.jsx)(d.Text,{color:"subtle",children:(0,t.jsx)(p.Upload16,{className:"scale-75"})}),(0,t.jsx)(d.Text,{color:"subtle",size:"12",children:e})]})})}return(0,t.jsx)(x.FilesHealthColumn,{...e})}}];var k=e.i(285);let j=(0,i.createContext)({}),C=()=>(0,i.useContext)(j);function P({children:e}){let l=function(){let e=(0,k.useFilesTableState)(S),{activeDirectory:t,activeBucket:l,setActiveDirectory:u,filters:c,isViewingBuckets:d}=(0,s.useFilesManager)(),{limit:f,marker:h,nextMarker:p,isMore:m,response:g,refresh:y,dataset:b}=(0,a.useDataset)({tableState:e}),v=(0,n.useMultiSelect)(b);(0,i.useEffect)(()=>{l&&v.deselectAll()},[l]);let x=(0,i.useMemo)(()=>{if(b)return t.length>0&&b.length>0?[{bucket:l,id:"..",name:"..",path:"..",key:"..",size:0,type:"directory",onClick:()=>{u(e=>e.slice(0,-1))}},...b]:b},[b]),{onDragEnd:w,onDragOver:j,onDragCancel:C,onDragMove:P,onDragStart:_,draggingObjects:T,moveSelectedFiles:E,moveSelectedFilesOperationCount:R}=(0,o.useMove)({dataset:b,activeDirectory:t,setActiveDirectory:u,refresh:y,multiSelect:v}),M=(0,i.useMemo)(()=>{if(x)return x.map(e=>"bucket"===e.type||".."===e.id?e:{...e,isSelected:!!v.selection[e.id],onClick:t=>v.onSelect(e.id,t)})},[x,v]),D=(0,i.useMemo)(()=>{if(M)return M.map(e=>T&&T.find(t=>t.id!==e.id)&&"directory"===e.type?{...e,isDroppable:!0}:{...e,isDraggable:"bucket"!==e.type&&!e.isUploading})},[M,T]),A=(0,r.useDatasetState)({datasetPage:D,isValidating:g.isValidating,error:g.error,marker:h,filters:c}),F=(0,i.useMemo)(()=>({isViewingBuckets:d,multiSelect:v}),[v,d]);return{datasetState:A,multiSelect:v,cellContext:F,refresh:y,limit:f,marker:h,nextMarker:p,isMore:m,datasetPage:D,datasetPageTotal:b?.length||0,onDragStart:_,onDragEnd:w,onDragMove:P,onDragCancel:C,onDragOver:j,draggingObjects:T,moveSelectedFiles:E,moveSelectedFilesOperationCount:R,tableState:e}}();return(0,t.jsx)(j.Provider,{value:l,children:e})}},97570,(e,t,r)=>{"use strict";r.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return(r+n)*3/4-n},r.toByteArray=function(e){var t,r,n=u(e),o=n[0],s=n[1],l=new a((o+s)*3/4-s),c=0,d=s>0?o-4:o;for(r=0;r<d;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;return 2===s&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,l[c++]=255&t),1===s&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t),l},r.fromByteArray=function(e){for(var t,r=e.length,i=r%3,a=[],o=0,s=r-i;o<s;o+=16383)a.push(function(e,t,r){for(var i,a=[],o=t;o<r;o+=3)i=(e[o]<<16&0xff0000)+(e[o+1]<<8&65280)+(255&e[o+2]),a.push(n[i>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}(e,o,o+16383>s?s:o+16383));return 1===i?a.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===i&&a.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),a.join("")};for(var n=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=o.length;s<l;++s)n[s]=o[s],i[o.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}i[45]=62,i[95]=63},31164,(e,t,r)=>{r.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,l=(1<<s)-1,u=l>>1,c=-7,d=r?i-1:0,f=r?-1:1,h=e[t+d];for(d+=f,a=h&(1<<-c)-1,h>>=-c,c+=s;c>0;a=256*a+e[t+d],d+=f,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=n;c>0;o=256*o+e[t+d],d+=f,c-=8);if(0===a)a=1-u;else{if(a===l)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),a-=u}return(h?-1:1)*o*Math.pow(2,a-n)},r.write=function(e,t,r,n,i,a){var o,s,l,u=8*a-i-1,c=(1<<u)-1,d=c>>1,f=5960464477539062e-23*(23===i),h=n?0:a-1,p=n?1:-1,m=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(s=+!!isNaN(t),o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+d>=1?t+=f/l:t+=f*Math.pow(2,1-d),t*l>=2&&(o++,l/=2),o+d>=c?(s=0,o=c):o+d>=1?(s=(t*l-1)*Math.pow(2,i),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[r+h]=255&s,h+=p,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;e[r+h]=255&o,h+=p,o/=256,u-=8);e[r+h-p]|=128*m}},16148,(e,t,r)=>{"use strict";let n=e.r(97570),i=e.r(31164),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function o(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return c(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e){var n=e,i=t;if(("string"!=typeof i||""===i)&&(i="utf8"),!s.isEncoding(i))throw TypeError("Unknown encoding: "+i);let r=0|p(n,i),a=o(r),l=a.write(n,i);return l!==r&&(a=a.slice(0,l)),a}if(ArrayBuffer.isView(e)){var a=e;if(O(a,Uint8Array)){let e=new Uint8Array(a);return f(e.buffer,e.byteOffset,e.byteLength)}return d(a)}if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(O(e,ArrayBuffer)||e&&O(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(O(e,SharedArrayBuffer)||e&&O(e.buffer,SharedArrayBuffer)))return f(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let l=e.valueOf&&e.valueOf();if(null!=l&&l!==e)return s.from(l,t,r);let u=function(e){if(s.isBuffer(e)){let t=0|h(e.length),r=o(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?o(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(u)return u;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return u(e),o(e<0?0:0|h(e))}function d(e){let t=e.length<0?0:0|h(e.length),r=o(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function f(e,t,r){let n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),s.prototype),n}function h(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function p(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||O(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return B(e).length;default:if(i)return n?-1:F(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,r){let i=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=I[e[n]];return i}(this,t,r);case"utf8":case"utf-8":return v(this,t,r);case"ascii":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":var a,o,s;return a=this,o=t,s=r,0===o&&s===a.length?n.fromByteArray(a):n.fromByteArray(a.slice(o,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){let n=e.slice(t,r),i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}(this,t,r);default:if(i)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function g(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,i){var a;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(a=r*=1)!=a&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length)if(i)return -1;else r=e.length-1;else if(r<0)if(!i)return -1;else r=0;if("string"==typeof t&&(t=s.from(t,n)),s.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,i);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(i)return Uint8Array.prototype.indexOf.call(e,t,r);else return Uint8Array.prototype.lastIndexOf.call(e,t,r);return b(e,[t],r,n,i)}throw TypeError("val must be string, number or Buffer")}function b(e,t,r,n,i){let a,o=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;o=2,s/=2,l/=2,r/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){let n=-1;for(a=r;a<s;a++)if(u(e,a)===u(t,-1===n?0:a-n)){if(-1===n&&(n=a),a-n+1===l)return n*o}else -1!==n&&(a-=a-n),n=-1}else for(r+l>s&&(r=s-l),a=r;a>=0;a--){let r=!0;for(let n=0;n<l;n++)if(u(e,a+n)!==u(t,n)){r=!1;break}if(r)return a}return -1}function v(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let t=e[i],a=null,o=t>239?4:t>223?3:t>191?2:1;if(i+o<=r){let r,n,s,l;switch(o){case 1:t<128&&(a=t);break;case 2:(192&(r=e[i+1]))==128&&(l=(31&t)<<6|63&r)>127&&(a=l);break;case 3:r=e[i+1],n=e[i+2],(192&r)==128&&(192&n)==128&&(l=(15&t)<<12|(63&r)<<6|63&n)>2047&&(l<55296||l>57343)&&(a=l);break;case 4:r=e[i+1],n=e[i+2],s=e[i+3],(192&r)==128&&(192&n)==128&&(192&s)==128&&(l=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&s)>65535&&l<1114112&&(a=l)}}null===a?(a=65533,o=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=o}var a=n;let o=a.length;if(o<=4096)return String.fromCharCode.apply(String,a);let s="",l=0;for(;l<o;)s+=String.fromCharCode.apply(String,a.slice(l,l+=4096));return s}function x(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function w(e,t,r,n,i,a){if(!s.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function S(e,t,r,n,i){R(t,n,i,e,r,7);let a=Number(t&BigInt(0xffffffff));e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a;let o=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function k(e,t,r,n,i){R(t,n,i,e,r,7);let a=Number(t&BigInt(0xffffffff));e[r+7]=a,a>>=8,e[r+6]=a,a>>=8,e[r+5]=a,a>>=8,e[r+4]=a;let o=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function j(e,t,r,n,i,a){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function C(e,t,r,n,a){return t*=1,r>>>=0,a||j(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function P(e,t,r,n,a){return t*=1,r>>>=0,a||j(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}r.Buffer=s,r.SlowBuffer=function(e){return+e!=e&&(e=0),s.alloc(+e)},r.INSPECT_MAX_BYTES=50,r.kMaxLength=0x7fffffff,s.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,r){return(u(e),e<=0)?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)},s.allocUnsafe=function(e){return c(e)},s.allocUnsafeSlow=function(e){return c(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(O(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),O(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:+(n<r)},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;let n=s.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let t=e[r];if(O(t,Uint8Array))i+t.length>n.length?(s.isBuffer(t)||(t=s.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else if(s.isBuffer(t))t.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return n},s.byteLength=p,s.prototype._isBuffer=!0,s.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},s.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},s.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},s.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?v(this,0,e):m.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){let e="",t=r.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},a&&(s.prototype[a]=s.prototype.inspect),s.prototype.compare=function(e,t,r,n,i){if(O(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;let a=i-n,o=r-t,l=Math.min(a,o),u=this.slice(n,i),c=e.slice(t,r);for(let e=0;e<l;++e)if(u[e]!==c[e]){a=u[e],o=c[e];break}return a<o?-1:+(o<a)},s.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},s.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},s.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},s.prototype.write=function(e,t,r,n){var i,a,o,s,l,u,c,d;if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let f=this.length-t;if((void 0===r||r>f)&&(r=f),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let h=!1;for(;;)switch(n){case"hex":return function(e,t,r,n){let i;r=Number(r)||0;let a=e.length-r;n?(n=Number(n))>a&&(n=a):n=a;let o=t.length;for(n>o/2&&(n=o/2),i=0;i<n;++i){var s;let n=parseInt(t.substr(2*i,2),16);if((s=n)!=s)break;e[r+i]=n}return i}(this,e,t,r);case"utf8":case"utf-8":return i=t,a=r,N(F(e,this.length-i),this,i,a);case"ascii":case"latin1":case"binary":return o=t,s=r,N(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,o,s);case"base64":return l=t,u=r,N(B(e),this,l,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,d=r,N(function(e,t){let r,n,i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i.push(r%256),i.push(n);return i}(e,this.length-c),this,c,d);default:if(h)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),h=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},s.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,s.prototype),n},s.prototype.readUintLE=s.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||x(e,t,this.length);let n=this[e],i=1,a=0;for(;++a<t&&(i*=256);)n+=this[e+a]*i;return n},s.prototype.readUintBE=s.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||x(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},s.prototype.readUint8=s.prototype.readUInt8=function(e,t){return e>>>=0,t||x(e,1,this.length),this[e]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||x(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||x(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||x(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||x(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readBigUInt64LE=z(function(e){M(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&D(e,this.length-8);let n=t+256*this[++e]+65536*this[++e]+0x1000000*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+0x1000000*r;return BigInt(n)+(BigInt(i)<<BigInt(32))}),s.prototype.readBigUInt64BE=z(function(e){M(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&D(e,this.length-8);let n=0x1000000*t+65536*this[++e]+256*this[++e]+this[++e],i=0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),s.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||x(e,t,this.length);let n=this[e],i=1,a=0;for(;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},s.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||x(e,t,this.length);let n=t,i=1,a=this[e+--n];for(;n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},s.prototype.readInt8=function(e,t){return(e>>>=0,t||x(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||x(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},s.prototype.readInt16BE=function(e,t){e>>>=0,t||x(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||x(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||x(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readBigInt64LE=z(function(e){M(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&D(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+0x1000000*this[++e])}),s.prototype.readBigInt64BE=z(function(e){M(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&D(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r)}),s.prototype.readFloatLE=function(e,t){return e>>>=0,t||x(e,4,this.length),i.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||x(e,4,this.length),i.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||x(e,8,this.length),i.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||x(e,8,this.length),i.read(this,e,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;w(this,e,t,r,n,0)}let i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;w(this,e,t,r,n,0)}let i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},s.prototype.writeUint8=s.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigUInt64LE=z(function(e,t=0){return S(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=z(function(e,t=0){return k(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(e,t,r,n){if(e*=1,t>>>=0,!n){let n=Math.pow(2,8*r-1);w(this,e,t,r,n-1,-n)}let i=0,a=1,o=0;for(this[t]=255&e;++i<r&&(a*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/a|0)-o&255;return t+r},s.prototype.writeIntBE=function(e,t,r,n){if(e*=1,t>>>=0,!n){let n=Math.pow(2,8*r-1);w(this,e,t,r,n-1,-n)}let i=r-1,a=1,o=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/a|0)-o&255;return t+r},s.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigInt64LE=z(function(e,t=0){return S(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=z(function(e,t=0){return k(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeFloatLE=function(e,t,r){return C(this,e,t,!0,r)},s.prototype.writeFloatBE=function(e,t,r){return C(this,e,t,!1,r)},s.prototype.writeDoubleLE=function(e,t,r){return P(this,e,t,!0,r)},s.prototype.writeDoubleBE=function(e,t,r){return P(this,e,t,!1,r)},s.prototype.copy=function(e,t,r,n){if(!s.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},s.prototype.fill=function(e,t,r,n){let i;if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){let t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{let a=s.isBuffer(e)?e:s.from(e,n),o=a.length;if(0===o)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=a[i%o]}return this};let _={};function T(e,t,r){_[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function E(e){let t="",r=e.length,n=+("-"===e[0]);for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function R(e,t,r,n,i,a){if(e>r||e<t){let n,i="bigint"==typeof t?"n":"";throw n=a>3?0===t||t===BigInt(0)?`>= 0${i} and < 2${i} ** ${(a+1)*8}${i}`:`>= -(2${i} ** ${(a+1)*8-1}${i}) and < 2 ** ${(a+1)*8-1}${i}`:`>= ${t}${i} and <= ${r}${i}`,new _.ERR_OUT_OF_RANGE("value",n,e)}M(i,"offset"),(void 0===n[i]||void 0===n[i+a])&&D(i,n.length-(a+1))}function M(e,t){if("number"!=typeof e)throw new _.ERR_INVALID_ARG_TYPE(t,"number",e)}function D(e,t,r){if(Math.floor(e)!==e)throw M(e,r),new _.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new _.ERR_BUFFER_OUT_OF_BOUNDS;throw new _.ERR_OUT_OF_RANGE(r||"offset",`>= ${+!!r} and <= ${t}`,e)}T("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),T("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),T("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>0x100000000?i=E(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=E(i)),i+="n"),n+=` It must be ${t}. Received ${i}`},RangeError);let A=/[^+/0-9A-Za-z-_]/g;function F(e,t){let r;t=t||1/0;let n=e.length,i=null,a=[];for(let o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319||o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return a}function B(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(A,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function N(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function O(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}let I=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function z(e){return"undefined"==typeof BigInt?U:e}function U(){throw Error("BigInt not supported")}},79753,(e,t,r)=>{"use strict";var n,i="object"==typeof Reflect?Reflect:null,a=i&&"function"==typeof i.apply?i.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(e,t){return new Promise(function(r,n){var i,a,o;function s(r){e.removeListener(t,l),n(r)}function l(){"function"==typeof e.removeListener&&e.removeListener("error",s),r([].slice.call(arguments))}y(e,t,l,{once:!0}),"error"!==t&&(i=e,a=s,o={once:!0},"function"==typeof i.on&&y(i,"error",a,o))})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function u(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function d(e,t,r,n){if(u(r),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),o=a[t]),void 0===o)o=a[t]=r,++e._eventsCount;else if("function"==typeof o?o=a[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(i=c(e))>0&&o.length>i&&!o.warned){o.warned=!0;var i,a,o,s=Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=o.length,console&&console.warn&&console.warn(s)}return e}function f(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=f.bind(n);return i.listener=r,n.wrapFn=i,i}function p(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):g(i,i.length)}function m(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function g(e,t){for(var r=Array(t),n=0;n<t;++n)r[n]=e[n];return r}function y(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else if("function"==typeof e.addEventListener)e.addEventListener(t,function i(a){n.once&&e.removeEventListener(t,i),r(a)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||o(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var o,s=Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var l=i[e];if(void 0===l)return!1;if("function"==typeof l)a(l,this,t);else for(var u=l.length,c=g(l,u),r=0;r<u;++r)a(c[r],this,t);return!0},s.prototype.addListener=function(e,t){return d(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return d(this,e,t,!0)},s.prototype.once=function(e,t){return u(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,n,i,a,o;if(u(t),void 0===(n=this._events)||void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,a=r.length-1;a>=0;a--)if(r[a]===t||r[a].listener===t){o=r[a].listener,i=a;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0==arguments.length){var i,a=Object.keys(r);for(n=0;n<a.length;++n)"removeListener"!==(i=a[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},49026,(e,t,r)=>{var n=e.i(21168),i=e.i(50461),a={8992:function(e){e.exports=function(e,r,n){if(e.filter)return e.filter(r,n);if(null==e||"function"!=typeof r)throw TypeError();for(var i=[],a=0;a<e.length;a++)if(t.call(e,a)){var o=e[a];r.call(n,o,a,e)&&i.push(o)}return i};var t=Object.prototype.hasOwnProperty},5555:function(e,t,r){"use strict";var n=r(1212),i=r(1909),a=r(8737);e.exports=r(8772)||n.call(a,i)},9905:function(e,t,r){"use strict";var n=r(1212),i=r(1909),a=r(5555);e.exports=function(){return a(n,i,arguments)}},1909:function(e){"use strict";e.exports=Function.prototype.apply},8737:function(e){"use strict";e.exports=Function.prototype.call},7152:function(e,t,r){"use strict";var n=r(1212),i=r(8202),a=r(8737),o=r(5555);e.exports=function(e){if(e.length<1||"function"!=typeof e[0])throw new i("a function is required");return o(n,a,e)}},8772:function(e){"use strict";e.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},516:function(e,t,r){"use strict";var n=r(3197),i=r(9042),a=i(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&a(e,".prototype.")>-1?i(r):r}},9042:function(e,t,r){"use strict";var n=r(3143),i=r(446),a=r(7152),o=r(9905);e.exports=function(e){var t=a(arguments),r=e.length-(arguments.length-1);return n(t,1+(r>0?r:0),!0)},i?i(e.exports,"apply",{value:o}):e.exports.apply=o},819:function(e,t,r){"use strict";var n=r(446),i=r(5182),a=r(8202),o=r(3990);e.exports=function(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new a("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new a("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new a("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new a("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new a("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new a("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,c=arguments.length>6&&arguments[6],d=!!o&&o(e,t);if(n)n(e,t,{configurable:null===u&&d?d.configurable:!u,enumerable:null===s&&d?d.enumerable:!s,value:r,writable:null===l&&d?d.writable:!l});else if(!c&&(s||l||u))throw new i("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");else e[t]=r}},6211:function(e,t,r){"use strict";var n,i=r(7152),a=r(3990);try{n=[].__proto__===Array.prototype}catch(e){if(!e||"object"!=typeof e||!("code"in e)||"ERR_PROTO_ACCESS"!==e.code)throw e}var o=!!n&&a&&a(Object.prototype,"__proto__"),s=Object,l=s.getPrototypeOf;e.exports=o&&"function"==typeof o.get?i([o.get]):"function"==typeof l&&function(e){return l(null==e?e:s(e))}},446:function(e){"use strict";var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch(e){t=!1}e.exports=t},7181:function(e){"use strict";e.exports=EvalError},1545:function(e){"use strict";e.exports=Error},22:function(e){"use strict";e.exports=RangeError},2803:function(e){"use strict";e.exports=ReferenceError},5182:function(e){"use strict";e.exports=SyntaxError},8202:function(e){"use strict";e.exports=TypeError},3284:function(e){"use strict";e.exports=URIError},2811:function(e){"use strict";e.exports=Object},6144:function(e){var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString;e.exports=function(e,n,i){if("[object Function]"!==r.call(n))throw TypeError("iterator must be a function");var a=e.length;if(a===+a)for(var o=0;o<a;o++)n.call(i,e[o],o,e);else for(var s in e)t.call(e,s)&&n.call(i,e[s],s,e)}},3136:function(e){"use strict";var t=Object.prototype.toString,r=Math.max,n=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var i=0;i<t.length;i+=1)r[i+e.length]=t[i];return r},i=function(e,t){for(var r=[],n=t||0,i=0;n<e.length;n+=1,i+=1)r[i]=e[n];return r},a=function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r};e.exports=function(e){var o,s=this;if("function"!=typeof s||"[object Function]"!==t.apply(s))throw TypeError("Function.prototype.bind called on incompatible "+s);for(var l=i(arguments,1),u=r(0,s.length-l.length),c=[],d=0;d<u;d++)c[d]="$"+d;if(o=Function("binder","return function ("+a(c,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof o){var t=s.apply(this,n(l,arguments));return Object(t)===t?t:this}return s.apply(e,n(l,arguments))}),s.prototype){var f=function(){};f.prototype=s.prototype,o.prototype=new f,f.prototype=null}return o}},1212:function(e,t,r){"use strict";var n=r(3136);e.exports=Function.prototype.bind||n},3197:function(e,t,r){"use strict";var n,i=r(2811),a=r(1545),o=r(7181),s=r(22),l=r(2803),u=r(5182),c=r(8202),d=r(3284),f=r(7173),h=r(847),p=r(2916),m=r(9882),g=r(3291),y=r(553),b=r(8629),v=Function,x=function(e){try{return v('"use strict"; return ('+e+").constructor;")()}catch(e){}},w=r(3990),S=r(446),k=function(){throw new c},j=w?function(){try{return arguments.callee,k}catch(e){try{return w(arguments,"callee").get}catch(e){return k}}}():k,C=r(4871)(),P=r(699),_=r(7823),T=r(7904),E=r(1909),R=r(8737),M={},D="undefined"!=typeof Uint8Array&&P?P(Uint8Array):n,A={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":C&&P?P([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":M,"%AsyncGenerator%":M,"%AsyncGeneratorFunction%":M,"%AsyncIteratorPrototype%":M,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":a,"%eval%":eval,"%EvalError%":o,"%Float16Array%":"undefined"==typeof Float16Array?n:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":v,"%GeneratorFunction%":M,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":C&&P?P(P([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&C&&P?P((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":i,"%Object.getOwnPropertyDescriptor%":w,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":s,"%ReferenceError%":l,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&C&&P?P((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":C&&P?P(""[Symbol.iterator]()):n,"%Symbol%":C?Symbol:n,"%SyntaxError%":u,"%ThrowTypeError%":j,"%TypedArray%":D,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":d,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet,"%Function.prototype.call%":R,"%Function.prototype.apply%":E,"%Object.defineProperty%":S,"%Object.getPrototypeOf%":_,"%Math.abs%":f,"%Math.floor%":h,"%Math.max%":p,"%Math.min%":m,"%Math.pow%":g,"%Math.round%":y,"%Math.sign%":b,"%Reflect.getPrototypeOf%":T};if(P)try{null.error}catch(e){var F=P(P(e));A["%Error.prototype%"]=F}var B=function e(t){var r;if("%AsyncFunction%"===t)r=x("async function () {}");else if("%GeneratorFunction%"===t)r=x("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=x("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&P&&(r=P(i.prototype))}return A[t]=r,r},N={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},O=r(1212),I=r(3270),z=O.call(R,Array.prototype.concat),U=O.call(E,Array.prototype.splice),L=O.call(R,String.prototype.replace),H=O.call(R,String.prototype.slice),W=O.call(R,RegExp.prototype.exec),V=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,q=/\\(\\)?/g,G=function(e){var t=H(e,0,1),r=H(e,-1);if("%"===t&&"%"!==r)throw new u("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new u("invalid intrinsic syntax, expected opening `%`");var n=[];return L(e,V,function(e,t,r,i){n[n.length]=r?L(i,q,"$1"):t||e}),n},K=function(e,t){var r,n=e;if(I(N,n)&&(n="%"+(r=N[n])[0]+"%"),I(A,n)){var i=A[n];if(i===M&&(i=B(n)),void 0===i&&!t)throw new c("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new u("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new c('"allowMissing" argument must be a boolean');if(null===W(/^%?[^%]*%?$/,e))throw new u("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=G(e),n=r.length>0?r[0]:"",i=K("%"+n+"%",t),a=i.name,o=i.value,s=!1,l=i.alias;l&&(n=l[0],U(r,z([0,1],l)));for(var d=1,f=!0;d<r.length;d+=1){var h=r[d],p=H(h,0,1),m=H(h,-1);if(('"'===p||"'"===p||"`"===p||'"'===m||"'"===m||"`"===m)&&p!==m)throw new u("property names with quotes must have matching quotes");if("constructor"!==h&&f||(s=!0),n+="."+h,I(A,a="%"+n+"%"))o=A[a];else if(null!=o){if(!(h in o)){if(!t)throw new c("base intrinsic for "+e+" exists, but the property is not available.");return}if(w&&d+1>=r.length){var g=w(o,h);o=(f=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:o[h]}else f=I(o,h),o=o[h];f&&!s&&(A[a]=o)}}return o}},7823:function(e,t,r){"use strict";e.exports=r(2811).getPrototypeOf||null},7904:function(e){"use strict";e.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},699:function(e,t,r){"use strict";var n=r(7904),i=r(7823),a=r(6211);e.exports=n?function(e){return n(e)}:i?function(e){if(!e||"object"!=typeof e&&"function"!=typeof e)throw TypeError("getProto: not an object");return i(e)}:a?function(e){return a(e)}:null},4596:function(e){"use strict";e.exports=Object.getOwnPropertyDescriptor},3990:function(e,t,r){"use strict";var n=r(4596);if(n)try{n([],"length")}catch(e){n=null}e.exports=n},7122:function(e,t,r){"use strict";var n=r(446),i=function(){return!!n};i.hasArrayLengthDefineBug=function(){if(!n)return null;try{return 1!==n([],"length",{value:1}).length}catch(e){return!0}},e.exports=i},9942:function(e,t,r){"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(3773);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},3773:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},4871:function(e,t,r){"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(5960);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},5960:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(var n in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(e,t);if(42!==a.value||!0!==a.enumerable)return!1}return!0}},3270:function(e,t,r){"use strict";var n=Function.prototype.call,i=Object.prototype.hasOwnProperty;e.exports=r(1212).call(n,i)},3782:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},5157:function(e){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,r=Object.prototype.toString,n=function(e){return(!t||!e||"object"!=typeof e||!(Symbol.toStringTag in e))&&"[object Arguments]"===r.call(e)},i=function(e){return!!n(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==r.call(e)&&"[object Function]"===r.call(e.callee)},a=function(){return n(arguments)}();n.isLegacyArguments=i,e.exports=a?n:i},3391:function(e){"use strict";var t=Object.prototype.toString,r=Function.prototype.toString,n=/^\s*(?:function)?\*/,i="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,a=Object.getPrototypeOf,o=function(){if(!i)return!1;try{return Function("return function*() {}")()}catch(e){}}(),s=o?a(o):{};e.exports=function(e){return"function"==typeof e&&(!!n.test(r.call(e))||(i?a(e)===s:"[object GeneratorFunction]"===t.call(e)))}},994:function(t,r,n){"use strict";var i=n(6144),a=n(1349),o=n(516),s=o("Object.prototype.toString"),l=n(9942)()&&"symbol"==typeof Symbol.toStringTag,u=a(),c=o("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return -1},d=o("String.prototype.slice"),f={},h=n(2154),p=Object.getPrototypeOf;l&&h&&p&&i(u,function(t){var r=new e.g[t];if(!(Symbol.toStringTag in r))throw EvalError("this engine has support for Symbol.toStringTag, but "+t+" does not have the property! Please report this.");var n=p(r),i=h(n,Symbol.toStringTag);i||(i=h(p(n),Symbol.toStringTag)),f[t]=i.get});var m=function(e){var t=!1;return i(f,function(r,n){if(!t)try{t=r.call(e)===n}catch(e){}}),t};t.exports=function(e){return!!e&&"object"==typeof e&&(l?!!h&&m(e):c(u,d(s(e),8,-1))>-1)}},7173:function(e){"use strict";e.exports=Math.abs},847:function(e){"use strict";e.exports=Math.floor},219:function(e){"use strict";e.exports=Number.isNaN||function(e){return e!=e}},2916:function(e){"use strict";e.exports=Math.max},9882:function(e){"use strict";e.exports=Math.min},3291:function(e){"use strict";e.exports=Math.pow},553:function(e){"use strict";e.exports=Math.round},8629:function(e,t,r){"use strict";var n=r(219);e.exports=function(e){return n(e)||0===e?e:e<0?-1:1}},3143:function(e,t,r){"use strict";var n=r(3197),i=r(819),a=r(7122)(),o=r(3990),s=r(8202),l=n("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new s("`fn` is not a function");if("number"!=typeof t||t<0||t>0xffffffff||l(t)!==t)throw new s("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,u=!0;if("length"in e&&o){var c=o(e,"length");c&&!c.configurable&&(n=!1),c&&!c.writable&&(u=!1)}return(n||u||!r)&&(a?i(e,"length",t,!0,!0):i(e,"length",t)),e}},2369:function(e){e.exports=function(e){return e instanceof n.Buffer}},5584:function(e,t,r){"use strict";var n=r(5157),i=r(3391),a=r(1490),o=r(994);function s(e){return e.call.bind(e)}var l="undefined"!=typeof BigInt,u="undefined"!=typeof Symbol,c=s(Object.prototype.toString),d=s(Number.prototype.valueOf),f=s(String.prototype.valueOf),h=s(Boolean.prototype.valueOf);if(l)var p=s(BigInt.prototype.valueOf);if(u)var m=s(Symbol.prototype.valueOf);function g(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function y(e){return"[object Map]"===c(e)}function b(e){return"[object Set]"===c(e)}function v(e){return"[object WeakMap]"===c(e)}function x(e){return"[object WeakSet]"===c(e)}function w(e){return"[object ArrayBuffer]"===c(e)}function S(e){return"undefined"!=typeof ArrayBuffer&&(w.working?w(e):e instanceof ArrayBuffer)}function k(e){return"[object DataView]"===c(e)}function j(e){return"undefined"!=typeof DataView&&(k.working?k(e):e instanceof DataView)}t.isArgumentsObject=n,t.isGeneratorFunction=i,t.isTypedArray=o,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):o(e)||j(e)},t.isUint8Array=function(e){return"Uint8Array"===a(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===a(e)},t.isUint16Array=function(e){return"Uint16Array"===a(e)},t.isUint32Array=function(e){return"Uint32Array"===a(e)},t.isInt8Array=function(e){return"Int8Array"===a(e)},t.isInt16Array=function(e){return"Int16Array"===a(e)},t.isInt32Array=function(e){return"Int32Array"===a(e)},t.isFloat32Array=function(e){return"Float32Array"===a(e)},t.isFloat64Array=function(e){return"Float64Array"===a(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===a(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===a(e)},y.working="undefined"!=typeof Map&&y(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(y.working?y(e):e instanceof Map)},b.working="undefined"!=typeof Set&&b(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(b.working?b(e):e instanceof Set)},v.working="undefined"!=typeof WeakMap&&v(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(v.working?v(e):e instanceof WeakMap)},x.working="undefined"!=typeof WeakSet&&x(new WeakSet),t.isWeakSet=function(e){return x(e)},w.working="undefined"!=typeof ArrayBuffer&&w(new ArrayBuffer),t.isArrayBuffer=S,k.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&k(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=j;var C="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function P(e){return"[object SharedArrayBuffer]"===c(e)}function _(e){return void 0!==C&&(void 0===P.working&&(P.working=P(new C)),P.working?P(e):e instanceof C)}function T(e){return g(e,d)}function E(e){return g(e,f)}function R(e){return g(e,h)}function M(e){return l&&g(e,p)}function D(e){return u&&g(e,m)}t.isSharedArrayBuffer=_,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===c(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===c(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===c(e)},t.isGeneratorObject=function(e){return"[object Generator]"===c(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===c(e)},t.isNumberObject=T,t.isStringObject=E,t.isBooleanObject=R,t.isBigIntObject=M,t.isSymbolObject=D,t.isBoxedPrimitive=function(e){return T(e)||E(e)||R(e)||M(e)||D(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(S(e)||_(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw Error(e+" is not supported in userland")}})})},8177:function(e,t,r){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},a=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(u(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,i=n.length,o=String(e).replace(a,function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),s=n[r];r<i;s=n[++r])y(s)||!S(s)?o+=" "+s:o+=" "+u(s);return o},t.deprecate=function(e,r){if(void 0!==i.default&&!0===i.default.noDeprecation)return e;if(void 0===i.default)return function(){return t.deprecate(e,r).apply(this,arguments)};var n=!1;return function(){if(!n){if(i.default.throwDeprecation)throw Error(r);i.default.traceDeprecation?console.trace(r):console.error(r),n=!0}return e.apply(this,arguments)}};var o={},s=/^$/;if(i.default.env.NODE_DEBUG){var l=i.default.env.NODE_DEBUG;s=RegExp("^"+(l=l.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase())+"$","i")}function u(e,r){var n={seen:[],stylize:d};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),g(r)?n.showHidden=r:r&&t._extend(n,r),x(n.showHidden)&&(n.showHidden=!1),x(n.depth)&&(n.depth=2),x(n.colors)&&(n.colors=!1),x(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),f(n,e,n.depth)}function c(e,t){var r=u.styles[t];return r?"\x1b["+u.colors[r][0]+"m"+e+"\x1b["+u.colors[r][1]+"m":e}function d(e,t){return e}function f(e,r,n){if(e.customInspect&&r&&C(r.inspect)&&r.inspect!==t.inspect&&!(r.constructor&&r.constructor.prototype===r)){var i,a,o,s,l,u,c=r.inspect(n,e);return v(c)||(c=f(e,c,n)),c}var d=function(e,t){if(x(t))return e.stylize("undefined","undefined");if(v(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return b(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):y(t)?e.stylize("null","null"):void 0}(e,r);if(d)return d;var S=Object.keys(r),P=(l={},S.forEach(function(e,t){l[e]=!0}),l);if(e.showHidden&&(S=Object.getOwnPropertyNames(r)),j(r)&&(S.indexOf("message")>=0||S.indexOf("description")>=0))return h(r);if(0===S.length){if(C(r)){var _=r.name?": "+r.name:"";return e.stylize("[Function"+_+"]","special")}if(w(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(k(r))return e.stylize(Date.prototype.toString.call(r),"date");if(j(r))return h(r)}var T="",R=!1,M=["{","}"];if(m(r)&&(R=!0,M=["[","]"]),C(r)&&(T=" [Function"+(r.name?": "+r.name:"")+"]"),w(r)&&(T=" "+RegExp.prototype.toString.call(r)),k(r)&&(T=" "+Date.prototype.toUTCString.call(r)),j(r)&&(T=" "+h(r)),0===S.length&&(!R||0==r.length))return M[0]+T+M[1];if(n<0)if(w(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");else return e.stylize("[Object]","special");return e.seen.push(r),u=R?function(e,t,r,n,i){for(var a=[],o=0,s=t.length;o<s;++o)E(t,String(o))?a.push(p(e,t,r,n,String(o),!0)):a.push("");return i.forEach(function(i){i.match(/^\d+$/)||a.push(p(e,t,r,n,i,!0))}),a}(e,r,n,P,S):S.map(function(t){return p(e,r,n,P,t,R)}),e.seen.pop(),i=u,a=T,o=M,s=0,i.reduce(function(e,t){return s++,t.indexOf("\n")>=0&&s++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?o[0]+(""===a?"":a+"\n ")+" "+i.join(",\n  ")+" "+o[1]:o[0]+a+" "+i.join(", ")+" "+o[1]}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,r,n,i,a){var o,s,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),E(n,i)||(o="["+i+"]"),!s&&(0>e.seen.indexOf(l.value)?(s=y(r)?f(e,l.value,null):f(e,l.value,r-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),x(o)){if(a&&i.match(/^\d+$/))return s;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function m(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function y(e){return null===e}function b(e){return"number"==typeof e}function v(e){return"string"==typeof e}function x(e){return void 0===e}function w(e){return S(e)&&"[object RegExp]"===P(e)}function S(e){return"object"==typeof e&&null!==e}function k(e){return S(e)&&"[object Date]"===P(e)}function j(e){return S(e)&&("[object Error]"===P(e)||e instanceof Error)}function C(e){return"function"==typeof e}function P(e){return Object.prototype.toString.call(e)}function _(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(!o[e=e.toUpperCase()])if(s.test(e)){var r=i.default.pid;o[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else o[e]=function(){};return o[e]},t.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=r(5584),t.isArray=m,t.isBoolean=g,t.isNull=y,t.isNullOrUndefined=function(e){return null==e},t.isNumber=b,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=x,t.isRegExp=w,t.types.isRegExp=w,t.isObject=S,t.isDate=k,t.types.isDate=k,t.isError=j,t.types.isNativeError=j,t.isFunction=C,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(2369);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,r;console.log("%s - %s",(r=[_((e=new Date).getHours()),_(e.getMinutes()),_(e.getSeconds())].join(":"),[e.getDate(),T[e.getMonth()],r].join(" ")),t.format.apply(t,arguments))},t.inherits=r(3782),t._extend=function(e,t){if(!t||!S(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var R="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function M(e,t){if(!e){var r=Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw TypeError('The "original" argument must be of type Function');if(R&&e[R]){var t=e[R];if("function"!=typeof t)throw TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,R,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise(function(e,n){t=e,r=n}),i=[],a=0;a<arguments.length;a++)i.push(arguments[a]);i.push(function(e,n){e?r(e):t(n)});try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),R&&Object.defineProperty(t,R,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},t.promisify.custom=R,t.callbackify=function(e){if("function"!=typeof e)throw TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var n=t.pop();if("function"!=typeof n)throw TypeError("The last argument must be of type Function");var a=this,o=function(){return n.apply(a,arguments)};e.apply(this,t).then(function(e){i.default.nextTick(o.bind(null,null,e))},function(e){i.default.nextTick(M.bind(null,e,o))})}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,n(e)),t}},1490:function(t,r,n){"use strict";var i=n(6144),a=n(1349),o=n(516),s=o("Object.prototype.toString"),l=n(9942)()&&"symbol"==typeof Symbol.toStringTag,u=a(),c=o("String.prototype.slice"),d={},f=n(2154),h=Object.getPrototypeOf;l&&f&&h&&i(u,function(t){if("function"==typeof e.g[t]){var r=new e.g[t];if(!(Symbol.toStringTag in r))throw EvalError("this engine has support for Symbol.toStringTag, but "+t+" does not have the property! Please report this.");var n=h(r),i=f(n,Symbol.toStringTag);i||(i=f(h(n),Symbol.toStringTag)),d[t]=i.get}});var p=function(e){var t=!1;return i(d,function(r,n){if(!t)try{var i=r.call(e);i===n&&(t=i)}catch(e){}}),t},m=n(994);t.exports=function(e){return!!m(e)&&(l?p(e):c(s(e),8,-1))}},1349:function(t,r,n){"use strict";var i=n(8992);t.exports=function(){return i(["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],function(t){return"function"==typeof e.g[t]})}},2154:function(e,t,r){"use strict";e.exports=r(3990)}},o={};function s(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={exports:{}},n=!0;try{a[e](r,r.exports,s),n=!1}finally{n&&delete o[e]}return r.exports}s.ab="/ROOT/node_modules/next/dist/compiled/util/",t.exports=s(8177)},15784,(e,t,r)=>{var n=e.i(50461),i={782:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},646:function(e){"use strict";let t={};function r(e,r,n){n||(n=Error);class i extends n{constructor(e,t,n){super("string"==typeof r?r:r(e,t,n))}}i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(!Array.isArray(e))return`of ${t} ${String(e)}`;{let r=e.length;return(e=e.map(e=>String(e)),r>2)?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:2===r?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}}r("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(e,t,r){var i,a,o,s;let l,u;if("string"==typeof t&&(i="not ",t.substr(0,i.length)===i)?(l="must not be",t=t.replace(/^not /,"")):l="must be",a=" argument",(void 0===o||o>e.length)&&(o=e.length),e.substring(o-a.length,o)===a)u=`The ${e} ${l} ${n(t,"type")}`;else{let r=("number"!=typeof s&&(s=0),s+1>e.length||-1===e.indexOf(".",s))?"argument":"property";u=`The "${e}" ${r} ${l} ${n(t,"type")}`}return u+`. Received type ${typeof r}`},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},403:function(e,t,r){"use strict";var i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=c;var a=r(709),o=r(337);r(782)(c,a);for(var s=i(o.prototype),l=0;l<s.length;l++){var u=s[l];c.prototype[u]||(c.prototype[u]=o.prototype[u])}function c(e){if(!(this instanceof c))return new c(e);a.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||n.default.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},889:function(e,t,r){"use strict";e.exports=i;var n=r(170);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(782)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},709:function(t,r,i){"use strict";t.exports=P,P.ReadableState=C,i(361).EventEmitter;var a,o,s,l,u,c=function(e,t){return e.listeners(t).length},d=i(678),f=i(300).Buffer,h=e.g.Uint8Array||function(){},p=i(837);o=p&&p.debuglog?p.debuglog("stream"):function(){};var m=i(379),g=i(25),y=i(776).getHighWaterMark,b=i(646).q,v=b.ERR_INVALID_ARG_TYPE,x=b.ERR_STREAM_PUSH_AFTER_EOF,w=b.ERR_METHOD_NOT_IMPLEMENTED,S=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;i(782)(P,d);var k=g.errorOrDestroy,j=["error","close","destroy","pause","resume"];function C(e,t,r){a=a||i(403),e=e||{},"boolean"!=typeof r&&(r=t instanceof a),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=y(this,e,"readableHighWaterMark",r),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(s||(s=i(704).s),this.decoder=new s(e.encoding),this.encoding=e.encoding)}function P(e){if(a=a||i(403),!(this instanceof P))return new P(e);var t=this instanceof a;this._readableState=new C(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),d.call(this)}function _(e,t,r,n,i){o("readableAddChunk",t);var a,s,l=e._readableState;if(null===t)l.reading=!1,function(e,t){if(o("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?R(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,M(e)))}}(e,l);else if(i||(s=function(e,t){var r;return f.isBuffer(t)||t instanceof h||"string"==typeof t||void 0===t||e.objectMode||(r=new v("chunk",["string","Buffer","Uint8Array"],t)),r}(l,t)),s)k(e,s);else if(l.objectMode||t&&t.length>0)if("string"==typeof t||l.objectMode||Object.getPrototypeOf(t)===f.prototype||(a=t,t=f.from(a)),n)l.endEmitted?k(e,new S):T(e,l,t,!0);else if(l.ended)k(e,new x);else{if(l.destroyed)return!1;l.reading=!1,l.decoder&&!r?(t=l.decoder.write(t),l.objectMode||0!==t.length?T(e,l,t,!1):D(e,l)):T(e,l,t,!1)}else n||(l.reading=!1,D(e,l));return!l.ended&&(l.length<l.highWaterMark||0===l.length)}function T(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&R(e)),D(e,t)}function E(e,t){var r;if(e<=0||0===t.length&&t.ended)return 0;if(t.objectMode)return 1;if(e!=e)if(t.flowing&&t.length)return t.buffer.head.data.length;else return t.length;return(e>t.highWaterMark&&((r=e)>=0x40000000?r=0x40000000:(r--,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r++),t.highWaterMark=r),e<=t.length)?e:t.ended?t.length:(t.needReadable=!0,0)}function R(e){var t=e._readableState;o("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(o("emitReadable",t.flowing),t.emittedReadable=!0,n.default.nextTick(M,e))}function M(e){var t=e._readableState;o("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,O(e)}function D(e,t){t.readingMore||(t.readingMore=!0,n.default.nextTick(A,e,t))}function A(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(o("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function F(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function B(e){o("readable nexttick read 0"),e.read(0)}function N(e,t){o("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),O(e),t.flowing&&!t.reading&&e.read(0)}function O(e){var t=e._readableState;for(o("flow",t.flowing);t.flowing&&null!==e.read(););}function I(e,t){var r;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r)}function z(e){var t=e._readableState;o("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.default.nextTick(U,t,e))}function U(e,t){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function L(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return -1}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),P.prototype.destroy=g.destroy,P.prototype._undestroy=g.undestroy,P.prototype._destroy=function(e,t){t(e)},P.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=f.from(e,t),t=""),r=!0),_(this,e,t,!1,r)},P.prototype.unshift=function(e){return _(this,e,null,!0,!1)},P.prototype.isPaused=function(){return!1===this._readableState.flowing},P.prototype.setEncoding=function(e){s||(s=i(704).s);var t=new s(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this},P.prototype.read=function(e){o("read",e),e=parseInt(e,10);var t,r=this._readableState,n=e;if(0!==e&&(r.emittedReadable=!1),0===e&&r.needReadable&&((0!==r.highWaterMark?r.length>=r.highWaterMark:r.length>0)||r.ended))return o("read: emitReadable",r.length,r.ended),0===r.length&&r.ended?z(this):R(this),null;if(0===(e=E(e,r))&&r.ended)return 0===r.length&&z(this),null;var i=r.needReadable;return o("need readable",i),(0===r.length||r.length-e<r.highWaterMark)&&o("length less than watermark",i=!0),r.ended||r.reading?o("reading or ended",i=!1):i&&(o("do read"),r.reading=!0,r.sync=!0,0===r.length&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1,r.reading||(e=E(n,r))),null===(t=e>0?I(e,r):null)?(r.needReadable=r.length<=r.highWaterMark,e=0):(r.length-=e,r.awaitDrain=0),0===r.length&&(r.ended||(r.needReadable=!0),n!==e&&r.ended&&z(this)),null!==t&&this.emit("data",t),t},P.prototype._read=function(e){k(this,new w("_read()"))},P.prototype.pipe=function(e,t){var r,i=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,o("pipe count=%d opts=%j",a.pipesCount,t);var s=t&&!1===t.end||e===n.default.stdout||e===n.default.stderr?g:l;function l(){o("onend"),e.end()}a.endEmitted?n.default.nextTick(s):i.once("end",s),e.on("unpipe",function t(r,n){o("onunpipe"),r===i&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,o("cleanup"),e.removeListener("close",p),e.removeListener("finish",m),e.removeListener("drain",u),e.removeListener("error",h),e.removeListener("unpipe",t),i.removeListener("end",l),i.removeListener("end",g),i.removeListener("data",f),d=!0,a.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&u())});var u=(r=i,function(){var e=r._readableState;o("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&c(r,"data")&&(e.flowing=!0,O(r))});e.on("drain",u);var d=!1;function f(t){o("ondata");var r=e.write(t);o("dest.write",r),!1===r&&((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==L(a.pipes,e))&&!d&&(o("false write response, pause",a.awaitDrain),a.awaitDrain++),i.pause())}function h(t){o("onerror",t),g(),e.removeListener("error",h),0===c(e,"error")&&k(e,t)}function p(){e.removeListener("finish",m),g()}function m(){o("onfinish"),e.removeListener("close",p),g()}function g(){o("unpipe"),i.unpipe(e)}return i.on("data",f),!function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",h),e.once("close",p),e.once("finish",m),e.emit("pipe",i),a.flowing||(o("pipe resume"),i.resume()),e},P.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)n[a].emit("unpipe",this,{hasUnpiped:!1});return this}var o=L(t.pipes,e);return -1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},P.prototype.on=function(e,t){var r=d.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"!==e||i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,o("on readable",i.length,i.reading),i.length?R(this):i.reading||n.default.nextTick(B,this)),r},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(e,t){var r=d.prototype.removeListener.call(this,e,t);return"readable"===e&&n.default.nextTick(F,this),r},P.prototype.removeAllListeners=function(e){var t=d.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&n.default.nextTick(F,this),t},P.prototype.resume=function(){var e,t,r=this._readableState;return r.flowing||(o("resume"),r.flowing=!r.readableListening,e=this,(t=r).resumeScheduled||(t.resumeScheduled=!0,n.default.nextTick(N,e,t))),r.paused=!1,this},P.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},P.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",function(){if(o("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){o("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<j.length;a++)e.on(j[a],this.emit.bind(this,j[a]));return this._read=function(t){o("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(P.prototype[Symbol.asyncIterator]=function(){return void 0===l&&(l=i(871)),l(this)}),Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),P._fromList=I,Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(P.from=function(e,t){return void 0===u&&(u=i(727)),u(P,e,t)})},170:function(e,t,r){"use strict";e.exports=c;var n=r(646).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,a=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,l=r(403);function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new a);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function c(e){if(!(this instanceof c))return new c(e);l.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush(function(t,r){f(e,t,r)})}function f(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new o;return e.push(null)}r(782)(c,l),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,r){r(new i("_transform()"))},c.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},c.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,function(e){t(e)})}},337:function(t,r,i){"use strict";function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){var r=t,n=e,i=r.entry;for(r.entry=null;i;){var a=i.callback;n.pendingcb--,a(void 0),i=i.next}n.corkedRequestsFree.next=r}}t.exports=P,P.WritableState=C;var o,s,l={deprecate:i(769)},u=i(678),c=i(300).Buffer,d=e.g.Uint8Array||function(){},f=i(25),h=i(776).getHighWaterMark,p=i(646).q,m=p.ERR_INVALID_ARG_TYPE,g=p.ERR_METHOD_NOT_IMPLEMENTED,y=p.ERR_MULTIPLE_CALLBACK,b=p.ERR_STREAM_CANNOT_PIPE,v=p.ERR_STREAM_DESTROYED,x=p.ERR_STREAM_NULL_VALUES,w=p.ERR_STREAM_WRITE_AFTER_END,S=p.ERR_UNKNOWN_ENCODING,k=f.errorOrDestroy;function j(){}function C(e,t,r){o=o||i(403),e=e||{},"boolean"!=typeof r&&(r=t instanceof o),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=h(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,i=r.sync,a=r.writecb;if("function"!=typeof a)throw new y;if(r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t)--r.pendingcb,i?(n.default.nextTick(a,t),n.default.nextTick(D,e,r),e._writableState.errorEmitted=!0,k(e,t)):(a(t),e._writableState.errorEmitted=!0,k(e,t),D(e,r));else{var o=R(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||E(e,r),i?n.default.nextTick(T,e,r,o,a):T(e,r,o,a)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}i(782)(P,u),C.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t};try{Object.defineProperty(C.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}function P(e){var t=this instanceof(o=o||i(403));if(!t&&!s.call(P,this))return new P(e);this._writableState=new C(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function _(e,t,r,n,i,a,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new v("write")):r?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function T(e,t,r,n){var i,a;r||(i=e,0===(a=t).length&&a.needDrain&&(a.needDrain=!1,i.emit("drain"))),t.pendingcb--,n(),D(e,t)}function E(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=Array(t.bufferedRequestCount),i=t.corkedRequestsFree;i.entry=r;for(var o=0,s=!0;r;)n[o]=r,r.isBuf||(s=!1),r=r.next,o+=1;n.allBuffers=s,_(e,t,!0,t.length,n,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,u=r.encoding,c=r.callback,d=t.objectMode?1:l.length;if(_(e,t,!1,d,l,u,c),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function R(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function M(e,t){e._final(function(r){t.pendingcb--,r&&k(e,r),t.prefinished=!0,e.emit("prefinish"),D(e,t)})}function D(e,t){var r=R(t);if(r&&(t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.default.nextTick(M,e,t))),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(P,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===P&&e&&e._writableState instanceof C}})):s=function(e){return e instanceof this},P.prototype.pipe=function(){k(this,new b)},P.prototype.write=function(e,t,r){var i,a,o,s,l,u,f,h=this._writableState,p=!1,g=!h.objectMode&&(i=e,c.isBuffer(i)||i instanceof d);return(g&&!c.isBuffer(e)&&(a=e,e=c.from(a)),"function"==typeof t&&(r=t,t=null),g?t="buffer":t||(t=h.defaultEncoding),"function"!=typeof r&&(r=j),h.ending)?(o=r,k(this,s=new w),n.default.nextTick(o,s)):(g||(l=e,u=r,null===l?f=new x:"string"==typeof l||h.objectMode||(f=new m("chunk",["string","Buffer"],l)),!f||(k(this,f),n.default.nextTick(u,f),0)))&&(h.pendingcb++,p=function(e,t,r,n,i,a){if(!r){var o,s,l=(o=n,s=i,t.objectMode||!1===t.decodeStrings||"string"!=typeof o||(o=c.from(o,s)),o);n!==l&&(r=!0,i="buffer",n=l)}var u=t.objectMode?1:n.length;t.length+=u;var d=t.length<t.highWaterMark;if(d||(t.needDrain=!0),t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else _(e,t,!1,u,n,i,a);return d}(this,h,g,e,t,r)),p},P.prototype.cork=function(){this._writableState.corked++},P.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||E(this,e))},P.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new S(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(P.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(P.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),P.prototype._write=function(e,t,r){r(new g("_write()"))},P.prototype._writev=null,P.prototype.end=function(e,t,r){var i,a,o,s=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),s.corked&&(s.corked=1,this.uncork()),s.ending||(i=this,a=s,o=r,a.ending=!0,D(i,a),o&&(a.finished?n.default.nextTick(o):i.once("finish",o)),a.ended=!0,i.writable=!1),this},Object.defineProperty(P.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),P.prototype.destroy=f.destroy,P.prototype._undestroy=f.undestroy,P.prototype._destroy=function(e,t){t(e)}},871:function(e,t,r){"use strict";function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a,o=r(698),s=Symbol("lastResolve"),l=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),d=Symbol("lastPromise"),f=Symbol("handlePromise"),h=Symbol("stream");function p(e,t){return{value:e,done:t}}function m(e){var t=e[s];if(null!==t){var r=e[h].read();null!==r&&(e[d]=null,e[s]=null,e[l]=null,t(p(r,!1)))}}function g(e){n.default.nextTick(m,e)}var y=Object.getPrototypeOf(function(){}),b=Object.setPrototypeOf((i(a={get stream(){return this[h]},next:function(){var e,t,r=this,i=this[u];if(null!==i)return Promise.reject(i);if(this[c])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise(function(e,t){n.default.nextTick(function(){r[u]?t(r[u]):e(p(void 0,!0))})});var a=this[d];if(a)t=new Promise((e=this,function(t,r){a.then(function(){e[c]?t(p(void 0,!0)):e[f](t,r)},r)}));else{var o=this[h].read();if(null!==o)return Promise.resolve(p(o,!1));t=new Promise(this[f])}return this[d]=t,t}},Symbol.asyncIterator,function(){return this}),i(a,"return",function(){var e=this;return new Promise(function(t,r){e[h].destroy(null,function(e){e?r(e):t(p(void 0,!0))})})}),a),y);e.exports=function(e){var t,r=Object.create(b,(i(t={},h,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,l,{value:null,writable:!0}),i(t,u,{value:null,writable:!0}),i(t,c,{value:e._readableState.endEmitted,writable:!0}),i(t,f,{value:function(e,t){var n=r[h].read();n?(r[d]=null,r[s]=null,r[l]=null,e(p(n,!1))):(r[s]=e,r[l]=t)},writable:!0}),t));return r[d]=null,o(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[l];null!==t&&(r[d]=null,r[s]=null,r[l]=null,t(e)),r[u]=e;return}var n=r[s];null!==n&&(r[d]=null,r[s]=null,r[l]=null,n(p(void 0,!0))),r[c]=!0}),e.on("readable",g.bind(null,r)),r}},379:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var i=r(300).Buffer,a=r(837).inspect,o=a&&a.custom||"inspect";e.exports=function(){var e;function t(){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");this.head=null,this.tail=null,this.length=0}return e=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return i.alloc(0);for(var t,r,n=i.allocUnsafe(e>>>0),a=this.head,o=0;a;)t=a.data,r=o,i.prototype.copy.call(t,n,r),o+=a.data.length,a=a.next;return n}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,a=e>i.length?i.length:e;if(a===i.length?n+=i:n+=i.slice(0,e),0==(e-=a)){a===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(a));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=i.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var a=r.data,o=e>a.length?a.length:e;if(a.copy(t,t.length-e,0,o),0==(e-=o)){o===a.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=a.slice(o));break}++n}return this.length-=n,t}},{key:o,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],i in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t,{depth:0,customInspect:!1}))}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,e),t}()},25:function(e){"use strict";function t(e,t){i(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||(!e._readableState||e._readableState.emitClose)&&e.emit("close")}function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,a){var o=this,s=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return s||l?a?a(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.default.nextTick(i,this,e)):n.default.nextTick(i,this,e)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!a&&e?o._writableState?o._writableState.errorEmitted?n.default.nextTick(r,o):(o._writableState.errorEmitted=!0,n.default.nextTick(t,o,e)):n.default.nextTick(t,o,e):a?(n.default.nextTick(r,o),a(e)):n.default.nextTick(r,o)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},698:function(e,t,r){"use strict";var n=r(646).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,a){if("function"==typeof r)return e(t,null,r);r||(r={}),o=a||i,s=!1,a=function(){if(!s){s=!0;for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];o.apply(this,t)}};var o,s,l=r.readable||!1!==r.readable&&t.readable,u=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||f()},d=t._writableState&&t._writableState.finished,f=function(){u=!1,d=!0,l||a.call(t)},h=t._readableState&&t._readableState.endEmitted,p=function(){l=!1,h=!0,u||a.call(t)},m=function(e){a.call(t,e)},g=function(){var e;return l&&!h?(t._readableState&&t._readableState.ended||(e=new n),a.call(t,e)):u&&!d?(t._writableState&&t._writableState.ended||(e=new n),a.call(t,e)):void 0},y=function(){t.req.on("finish",f)};return t.setHeader&&"function"==typeof t.abort?(t.on("complete",f),t.on("abort",g),t.req?y():t.on("request",y)):u&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",p),t.on("finish",f),!1!==r.error&&t.on("error",m),t.on("close",g),function(){t.removeListener("complete",f),t.removeListener("abort",g),t.removeListener("request",y),t.req&&t.req.removeListener("finish",f),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",f),t.removeListener("end",p),t.removeListener("error",m),t.removeListener("close",g)}}},727:function(e,t,r){"use strict";function n(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,i)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var a=r(646).q.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,r){if(t&&"function"==typeof t.next)o=t;else if(t&&t[Symbol.asyncIterator])o=t[Symbol.asyncIterator]();else if(t&&t[Symbol.iterator])o=t[Symbol.iterator]();else throw new a("iterable",["Iterable"],t);var o,s=new e(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],i in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({objectMode:!0},r)),l=!1;function u(){return c.apply(this,arguments)}function c(){var e;return e=function*(){try{var e=yield o.next(),t=e.value;e.done?s.push(null):s.push((yield t))?u():l=!1}catch(e){s.destroy(e)}},(c=function(){var t=this,r=arguments;return new Promise(function(i,a){var o=e.apply(t,r);function s(e){n(o,i,a,s,l,"next",e)}function l(e){n(o,i,a,s,l,"throw",e)}s(void 0)})}).apply(this,arguments)}return s._read=function(){l||(l=!0,u())},s}},442:function(e,t,r){"use strict";var n,i=r(646).q,a=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function l(e){e()}function u(e,t){return e.pipe(t)}e.exports=function(){for(var e,t,i=arguments.length,c=Array(i),d=0;d<i;d++)c[d]=arguments[d];var f=(e=c).length&&"function"==typeof e[e.length-1]?e.pop():s;if(Array.isArray(c[0])&&(c=c[0]),c.length<2)throw new a("streams");var h=c.map(function(e,i){var a,s,u,d,p,m,g=i<c.length-1;return a=i>0,u=s=function(e){t||(t=e),e&&h.forEach(l),g||(h.forEach(l),f(t))},d=!1,s=function(){d||(d=!0,u.apply(void 0,arguments))},p=!1,e.on("close",function(){p=!0}),void 0===n&&(n=r(698)),n(e,{readable:g,writable:a},function(e){if(e)return s(e);p=!0,s()}),m=!1,function(t){if(!p&&!m){if(m=!0,e.setHeader&&"function"==typeof e.abort)return e.abort();if("function"==typeof e.destroy)return e.destroy();s(t||new o("pipe"))}}});return c.reduce(u)}},776:function(e,t,r){"use strict";var n=r(646).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var a=null!=t.highWaterMark?t.highWaterMark:i?t[r]:null;if(null!=a){if(!(isFinite(a)&&Math.floor(a)===a)||a<0)throw new n(i?r:"highWaterMark",a);return Math.floor(a)}return e.objectMode?16:16384}}},678:function(e,t,r){e.exports=r(781)},55:function(e,t,r){var n=r(300),i=n.Buffer;function a(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(a(n,t),t.Buffer=o),o.prototype=Object.create(i.prototype),a(i,o),o.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return i(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},o.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n.SlowBuffer(e)}},173:function(e,t,r){e.exports=i;var n=r(361).EventEmitter;function i(){n.call(this)}r(782)(i,n),i.Readable=r(709),i.Writable=r(337),i.Duplex=r(403),i.Transform=r(170),i.PassThrough=r(889),i.finished=r(698),i.pipeline=r(442),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function a(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",a),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",l));var o=!1;function s(){o||(o=!0,e.end())}function l(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(c(),0===n.listenerCount(this,"error"))throw e}function c(){r.removeListener("data",i),e.removeListener("drain",a),r.removeListener("end",s),r.removeListener("close",l),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",c),r.removeListener("close",c),e.removeListener("close",c)}return r.on("error",u),e.on("error",u),r.on("end",c),r.on("close",c),e.on("close",c),e.emit("pipe",r),e}},704:function(e,t,r){"use strict";var n=r(55).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){var t;if(!e)return"utf8";for(;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=c,this.end=d,t=3;break;default:this.write=f,this.end=h;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if((192&t[0])!=128)return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if((192&t[1])!=128)return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&(192&t[2])!=128)return e.lastNeed=2,""}}(this,e,0);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length)}function l(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function c(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.s=a,a.prototype.write=function(e){var t,r;if(0===e.length)return"";if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},a.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=o(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=o(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=o(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},769:function(t){t.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}};function r(t){try{if(!e.g.localStorage)return!1}catch(e){return!1}var r=e.g.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}},300:function(t){"use strict";t.exports=e.r(16148)},361:function(t){"use strict";t.exports=e.r(79753)},781:function(t){"use strict";t.exports=e.r(79753).EventEmitter},837:function(t){"use strict";t.exports=e.r(49026)}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}},n=!0;try{i[e](r,r.exports,o),n=!1}finally{n&&delete a[e]}return r.exports}o.ab="/ROOT/node_modules/next/dist/compiled/stream-browserify/",t.exports=o(173)},27049,(e,t,r)=>{"use strict";t.exports=e.r(15784)},32415,(e,t,r)=>{"use strict";var n=e.i(21168);if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,r.nodebuffer=void 0!==n.Buffer,r.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)r.blob=!1;else{var i=new ArrayBuffer(0);try{r.blob=0===new Blob([i],{type:"application/zip"}).size}catch(e){try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(i),r.blob=0===a.getBlob("application/zip").size}catch(e){r.blob=!1}}}try{r.nodestream=!!e.r(27049).Readable}catch(e){r.nodestream=!1}},35081,(e,t,r)=>{"use strict";var n=e.r(90651),i=e.r(32415),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(e){for(var t,r,i,o,s,l,u,c=[],d=0,f=e.length,h=f,p="string"!==n.getTypeOf(e);d<e.length;)h=f-d,p?(t=e[d++],r=d<f?e[d++]:0,i=d<f?e[d++]:0):(t=e.charCodeAt(d++),r=d<f?e.charCodeAt(d++):0,i=d<f?e.charCodeAt(d++):0),o=t>>2,s=(3&t)<<4|r>>4,l=h>1?(15&r)<<2|i>>6:64,u=h>2?63&i:64,c.push(a.charAt(o)+a.charAt(s)+a.charAt(l)+a.charAt(u));return c.join("")},r.decode=function(e){var t,r,n,o,s,l,u,c,d=0,f=0,h="data:";if(e.substr(0,h.length)===h)throw Error("Invalid base64 input, it looks like a data url.");var p=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===a.charAt(64)&&p--,e.charAt(e.length-2)===a.charAt(64)&&p--,p%1!=0)throw Error("Invalid base64 input, bad content length.");for(c=i.uint8array?new Uint8Array(0|p):Array(0|p);d<e.length;)o=a.indexOf(e.charAt(d++)),s=a.indexOf(e.charAt(d++)),l=a.indexOf(e.charAt(d++)),u=a.indexOf(e.charAt(d++)),t=o<<2|s>>4,r=(15&s)<<4|l>>2,n=(3&l)<<6|u,c[f++]=t,64!==l&&(c[f++]=r),64!==u&&(c[f++]=n);return c}},1222,(e,t,r)=>{"use strict";var n=e.i(21168);t.exports={isNode:void 0!==n.Buffer,newBufferFrom:function(e,t){if(n.Buffer.from&&n.Buffer.from!==Uint8Array.from)return n.Buffer.from(e,t);if("number"==typeof e)throw Error('The "data" argument must not be a number');return new n.Buffer(e,t)},allocBuffer:function(e){if(n.Buffer.alloc)return n.Buffer.alloc(e);var t=new n.Buffer(e);return t.fill(0),t},isBuffer:function(e){return n.Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},55424,(e,t,r)=>{"use strict";var n,i,a=e.g.MutationObserver||e.g.WebKitMutationObserver;if(a){var o=0,s=new a(d),l=e.g.document.createTextNode("");s.observe(l,{characterData:!0}),n=function(){l.data=o=++o%2}}else if(e.g.setImmediate||void 0===e.g.MessageChannel)n="document"in e.g&&"onreadystatechange"in e.g.document.createElement("script")?function(){var t=e.g.document.createElement("script");t.onreadystatechange=function(){d(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.g.document.documentElement.appendChild(t)}:function(){setTimeout(d,0)};else{var u=new e.g.MessageChannel;u.port1.onmessage=d,n=function(){u.port2.postMessage(0)}}var c=[];function d(){i=!0;for(var e,t,r=c.length;r;){for(t=c,c=[],e=-1;++e<r;)t[e]();r=c.length}i=!1}t.exports=function(e){1!==c.push(e)||i||n()}},10819,(e,t,r)=>{"use strict";var n=e.r(55424);function i(){}var a={},o=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function u(e){if("function"!=typeof e)throw TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==i&&h(this,e)}function c(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function d(e,t,r){n(function(){var n;try{n=t(r)}catch(t){return a.reject(e,t)}n===e?a.reject(e,TypeError("Cannot resolve promise with itself")):a.resolve(e,n)})}function f(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function h(e,t){var r=!1;function n(t){r||(r=!0,a.reject(e,t))}function i(t){r||(r=!0,a.resolve(e,t))}var o=p(function(){t(i,n)});"error"===o.status&&n(o.value)}function p(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}t.exports=u,u.prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then(function(r){return t.resolve(e()).then(function(){return r})},function(r){return t.resolve(e()).then(function(){throw r})})},u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===o)return this;var r=new this.constructor(i);return this.state!==l?d(r,this.state===s?e:t,this.outcome):this.queue.push(new c(r,e,t)),r},c.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},c.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},c.prototype.callRejected=function(e){a.reject(this.promise,e)},c.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},a.resolve=function(e,t){var r=p(f,t);if("error"===r.status)return a.reject(e,r.value);var n=r.value;if(n)h(e,n);else{e.state=s,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e},a.reject=function(e,t){e.state=o,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},u.resolve=function(e){return e instanceof this?e:a.resolve(new this(i),e)},u.reject=function(e){var t=new this(i);return a.reject(t,e)},u.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var o=Array(r),s=0,l=-1,u=new this(i);++l<r;)!function(e,i){t.resolve(e).then(function(e){o[i]=e,++s!==r||n||(n=!0,a.resolve(u,o))},function(e){n||(n=!0,a.reject(u,e))})}(e[l],l);return u},u.race=function(e){var t,r=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var s=-1,l=new this(i);++s<n;){t=e[s],r.resolve(t).then(function(e){o||(o=!0,a.resolve(l,e))},function(e){o||(o=!0,a.reject(l,e))})}return l}},46617,(e,t,r)=>{"use strict";t.exports={Promise:"undefined"!=typeof Promise?Promise:e.r(10819)}},37985,(e,t,r)=>{var n=e.i(50461);"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab="/ROOT/node_modules/next/dist/compiled/setimmediate/"),({189:function(){!function(e,t){"use strict";if(!e.setImmediate){var r,i,a,o,s,l=1,u={},c=!1,d=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"===({}).toString.call(e.process)?s=function(e){n.default.nextTick(function(){p(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?(r="setImmediate$"+Math.random()+"$",i=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(r)&&p(+t.data.slice(r.length))},e.addEventListener?e.addEventListener("message",i,!1):e.attachEvent("onmessage",i),s=function(t){e.postMessage(r+t,"*")}):e.MessageChannel?((a=new MessageChannel).port1.onmessage=function(e){p(e.data)},s=function(e){a.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,s=function(e){var t=d.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):s=function(e){setTimeout(p,0,e)},f.setImmediate=function(e){"function"!=typeof e&&(e=Function(""+e));for(var t=Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var n={callback:e,args:t};return u[l]=n,s(l),l++},f.clearImmediate=h}function h(e){delete u[e]}function p(e){if(c)setTimeout(p,0,e);else{var r=u[e];if(r){c=!0;try{var n=r.callback,i=r.args;switch(i.length){case 0:n();break;case 1:n(i[0]);break;case 2:n(i[0],i[1]);break;case 3:n(i[0],i[1],i[2]);break;default:n.apply(t,i)}}finally{h(e),c=!1}}}}}("undefined"==typeof self?e.g:self)}})[189](),t.exports={}},90651,(e,t,r)=>{"use strict";var n=e.r(32415),i=e.r(35081),a=e.r(1222),o=e.r(46617);function s(e){return e}function l(e,t){for(var r=0;r<e.length;++r)t[r]=255&e.charCodeAt(r);return t}e.r(37985),r.newBlob=function(e,t){r.checkSupport("blob");try{return new Blob([e],{type:t})}catch(r){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return n.append(e),n.getBlob(t)}catch(e){throw Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(e,t,r){var n=[],i=0,a=e.length;if(a<=r)return String.fromCharCode.apply(null,e);for(;i<a;)"array"===t||"nodebuffer"===t?n.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+r,a)))):n.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+r,a)))),i+=r;return n.join("")},stringifyByChar:function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&1===String.fromCharCode.apply(null,a.allocBuffer(1)).length}catch(e){return!1}}()}};function c(e){var t=65536,n=r.getTypeOf(e),i=!0;if("uint8array"===n?i=u.applyCanBeUsed.uint8array:"nodebuffer"===n&&(i=u.applyCanBeUsed.nodebuffer),i)for(;t>1;)try{return u.stringifyByChunk(e,n,t)}catch(e){t=Math.floor(t/2)}return u.stringifyByChar(e)}function d(e,t){for(var r=0;r<e.length;r++)t[r]=e[r];return t}r.applyFromCharCode=c;var f={};f.string={string:s,array:function(e){return l(e,Array(e.length))},arraybuffer:function(e){return f.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,a.allocBuffer(e.length))}},f.array={string:c,array:s,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(e)}},f.arraybuffer={string:function(e){return c(new Uint8Array(e))},array:function(e){return d(new Uint8Array(e),Array(e.byteLength))},arraybuffer:s,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(new Uint8Array(e))}},f.uint8array={string:c,array:function(e){return d(e,Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:s,nodebuffer:function(e){return a.newBufferFrom(e)}},f.nodebuffer={string:c,array:function(e){return d(e,Array(e.length))},arraybuffer:function(e){return f.nodebuffer.uint8array(e).buffer},uint8array:function(e){return d(e,new Uint8Array(e.length))},nodebuffer:s},r.transformTo=function(e,t){return(t||(t=""),e)?(r.checkSupport(e),f[r.getTypeOf(t)][e](t)):t},r.resolve=function(e){for(var t=e.split("/"),r=[],n=0;n<t.length;n++){var i=t[n];"."!==i&&(""!==i||0===n||n===t.length-1)&&(".."===i?r.pop():r.push(i))}return r.join("/")},r.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":n.nodebuffer&&a.isBuffer(e)?"nodebuffer":n.uint8array&&e instanceof Uint8Array?"uint8array":n.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(e){if(!n[e.toLowerCase()])throw Error(e+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(e){var t,r,n="";for(r=0;r<(e||"").length;r++)n+="\\x"+((t=e.charCodeAt(r))<16?"0":"")+t.toString(16).toUpperCase();return n},r.delay=function(e,t,r){setImmediate(function(){e.apply(r||null,t||[])})},r.inherits=function(e,t){var r=function(){};r.prototype=t.prototype,e.prototype=new r},r.extend=function(){var e,t,r={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===r[t]&&(r[t]=arguments[e][t]);return r},r.prepareContent=function(e,t,a,s,u){return o.Promise.resolve(t).then(function(e){return n.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new o.Promise(function(t,r){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.onerror=function(e){r(e.target.error)},n.readAsArrayBuffer(e)}):e}).then(function(t){var c,d,f=r.getTypeOf(t);return f?("arraybuffer"===f?t=r.transformTo("uint8array",t):"string"===f&&(u?t=i.decode(t):a&&!0!==s&&(c=t,d=null,d=n.uint8array?new Uint8Array(c.length):Array(c.length),t=l(c,d))),t):o.Promise.reject(Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},71843,(e,t,r)=>{"use strict";function n(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=n},1612,(e,t,r)=>{"use strict";for(var n=e.r(90651),i=e.r(32415),a=e.r(1222),o=e.r(71843),s=Array(256),l=0;l<256;l++)s[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;s[254]=s[254]=1;var u=function(e){var t,r,n,a,o,s=e.length,l=0;for(a=0;a<s;a++)(64512&(r=e.charCodeAt(a)))==55296&&a+1<s&&(64512&(n=e.charCodeAt(a+1)))==56320&&(r=65536+(r-55296<<10)+(n-56320),a++),l+=r<128?1:r<2048?2:r<65536?3:4;for(o=0,t=i.uint8array?new Uint8Array(l):Array(l),a=0;o<l;a++)(64512&(r=e.charCodeAt(a)))==55296&&a+1<s&&(64512&(n=e.charCodeAt(a+1)))==56320&&(r=65536+(r-55296<<10)+(n-56320),a++),r<128?t[o++]=r:(r<2048?t[o++]=192|r>>>6:(r<65536?t[o++]=224|r>>>12:(t[o++]=240|r>>>18,t[o++]=128|r>>>12&63),t[o++]=128|r>>>6&63),t[o++]=128|63&r);return t},c=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;r>=0&&(192&e[r])==128;)r--;return r<0||0===r?t:r+s[e[r]]>t?r:t},d=function(e){var t,r,i,a,o=e.length,l=Array(2*o);for(r=0,t=0;t<o;){if((i=e[t++])<128){l[r++]=i;continue}if((a=s[i])>4){l[r++]=65533,t+=a-1;continue}for(i&=2===a?31:3===a?15:7;a>1&&t<o;)i=i<<6|63&e[t++],a--;if(a>1){l[r++]=65533;continue}i<65536?l[r++]=i:(i-=65536,l[r++]=55296|i>>10&1023,l[r++]=56320|1023&i)}return l.length!==r&&(l.subarray?l=l.subarray(0,r):l.length=r),n.applyFromCharCode(l)};function f(){o.call(this,"utf-8 decode"),this.leftOver=null}function h(){o.call(this,"utf-8 encode")}r.utf8encode=function(e){return i.nodebuffer?a.newBufferFrom(e,"utf-8"):u(e)},r.utf8decode=function(e){return i.nodebuffer?n.transformTo("nodebuffer",e).toString("utf-8"):d(e=n.transformTo(i.uint8array?"uint8array":"array",e))},n.inherits(f,o),f.prototype.processChunk=function(e){var t=n.transformTo(i.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var a=t;(t=new Uint8Array(a.length+this.leftOver.length)).set(this.leftOver,0),t.set(a,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var o=c(t),s=t;o!==t.length&&(i.uint8array?(s=t.subarray(0,o),this.leftOver=t.subarray(o,t.length)):(s=t.slice(0,o),this.leftOver=t.slice(o,t.length))),this.push({data:r.utf8decode(s),meta:e.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=f,n.inherits(h,o),h.prototype.processChunk=function(e){this.push({data:r.utf8encode(e.data),meta:e.meta})},r.Utf8EncodeWorker=h},31564,(e,t,r)=>{"use strict";var n=e.r(71843),i=e.r(90651);function a(e){n.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(a,n),a.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=a},57486,(e,t,r)=>{"use strict";var n=e.r(27049).Readable;function i(e,t,r){n.call(this,t),this._helper=e;var i=this;e.on("data",function(e,t){i.push(e)||i._helper.pause(),r&&r(t)}).on("error",function(e){i.emit("error",e)}).on("end",function(){i.push(null)})}e.r(90651).inherits(i,n),i.prototype._read=function(){this._helper.resume()},t.exports=i},68584,(e,t,r)=>{"use strict";var n=e.i(21168),i=e.r(90651),a=e.r(31564),o=e.r(71843),s=e.r(35081),l=e.r(32415),u=e.r(46617),c=null;if(l.nodestream)try{c=e.r(57486)}catch(e){}function d(e,t,r){var n=t;switch(t){case"blob":case"arraybuffer":n="uint8array";break;case"base64":n="string"}try{this._internalType=n,this._outputType=t,this._mimeType=r,i.checkSupport(n),this._worker=e.pipe(new a(n)),e.lock()}catch(e){this._worker=new o("error"),this._worker.error(e)}}d.prototype={accumulate:function(e){var t;return t=this,new u.Promise(function(r,a){var o=[],l=t._internalType,u=t._outputType,c=t._mimeType;t.on("data",function(t,r){o.push(t),e&&e(r)}).on("error",function(e){o=[],a(e)}).on("end",function(){try{var e=function(e,t,r){switch(e){case"blob":return i.newBlob(i.transformTo("arraybuffer",t),r);case"base64":return s.encode(t);default:return i.transformTo(e,t)}}(u,function(e,t){var r,i=0,a=null,o=0;for(r=0;r<t.length;r++)o+=t[r].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(r=0,a=new Uint8Array(o);r<t.length;r++)a.set(t[r],i),i+=t[r].length;return a;case"nodebuffer":return n.Buffer.concat(t);default:throw Error("concat : unsupported type '"+e+"'")}}(l,o),c);r(e)}catch(e){a(e)}o=[]}).resume()})},on:function(e,t){var r=this;return"data"===e?this._worker.on(e,function(e){t.call(r,e.data,e.meta)}):this._worker.on(e,function(){i.delay(t,arguments,r)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=d},2151,(e,t,r)=>{"use strict";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},76979,(e,t,r)=>{"use strict";var n=e.r(90651),i=e.r(71843);function a(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=n.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}n.inherits(a,i),a.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=a},33966,(e,t,r)=>{"use strict";var n=e.r(90651),i=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?0xedb88320^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==n.getTypeOf(e)?function(e,t,r,n){var a=0+r;e^=-1;for(var o=0;o<a;o++)e=e>>>8^i[(e^t[o])&255];return -1^e}(0|t,e,e.length,0):function(e,t,r,n){var a=0+r;e^=-1;for(var o=0;o<a;o++)e=e>>>8^i[(e^t.charCodeAt(o))&255];return -1^e}(0|t,e,e.length,0):0}},95373,(e,t,r)=>{"use strict";var n=e.r(71843),i=e.r(33966);function a(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e.r(90651).inherits(a,n),a.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=a},77092,(e,t,r)=>{"use strict";var n=e.r(90651),i=e.r(71843);function a(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}n.inherits(a,i),a.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=a},26845,(e,t,r)=>{"use strict";var n=e.r(46617),i=e.r(76979),a=e.r(95373),o=e.r(77092);function s(e,t,r,n,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=r,this.compression=n,this.compressedContent=i}s.prototype={getContentWorker:function(){var e=new i(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new i(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,r){return e.pipe(new a).pipe(new o("uncompressedSize")).pipe(t.compressWorker(r)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},t.exports=s},32087,(e,t,r)=>{"use strict";var n=e.r(68584),i=e.r(76979),a=e.r(1612),o=e.r(26845),s=e.r(71843),l=function(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}};l.prototype={internalStream:function(e){var t=null,r="string";try{if(!e)throw Error("No output type specified.");r=e.toLowerCase();var i="string"===r||"text"===r;("binarystring"===r||"text"===r)&&(r="string"),t=this._decompressWorker();var o=!this._dataBinary;o&&!i&&(t=t.pipe(new a.Utf8EncodeWorker)),!o&&i&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(e){(t=new s("error")).error(e)}return new n(t,r,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof o&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new a.Utf8EncodeWorker)),o.createWorkerFrom(r,e,t)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof s?this._data:new i(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<u.length;d++)l.prototype[u[d]]=c;t.exports=l},41738,(e,t,r)=>{"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;r.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw TypeError(r+"must be non-object");for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}return e},r.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)return void e.set(t.subarray(r,r+n),i);for(var a=0;a<n;a++)e[i+a]=t[r+a]},flattenChunks:function(e){var t,r,n,i,a,o;for(t=0,n=0,r=e.length;t<r;t++)n+=e[t].length;for(t=0,o=new Uint8Array(n),i=0,r=e.length;t<r;t++)a=e[t],o.set(a,i),i+=a.length;return o}},a={arraySet:function(e,t,r,n,i){for(var a=0;a<n;a++)e[i+a]=t[r+a]},flattenChunks:function(e){return[].concat.apply([],e)}};r.setTyped=function(e){e?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,i)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,a))},r.setTyped(n)},23027,(e,t,r)=>{"use strict";var n,i,a,o=e.r(41738);function s(e){for(var t=e.length;--t>=0;)e[t]=0}var l=573,u=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],c=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],f=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],h=Array(576);s(h);var p=Array(60);s(p);var m=Array(512);s(m);var g=Array(256);s(g);var y=Array(29);s(y);var b=Array(30);function v(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function x(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function w(e){return e<256?m[e]:m[256+(e>>>7)]}function S(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function k(e,t,r){e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,S(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function j(e,t,r){k(e,r[2*t],r[2*t+1])}function C(e,t){var r=0;do r|=1&e,e>>>=1,r<<=1;while(--t>0)return r>>>1}function P(e,t,r){var n,i,a=Array(16),o=0;for(n=1;n<=15;n++)a[n]=o=o+r[n-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=C(a[s]++,s))}}function _(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function T(e){e.bi_valid>8?S(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function E(e,t,r,n){var i=2*t,a=2*r;return e[i]<e[a]||e[i]===e[a]&&n[t]<=n[r]}function R(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&E(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!E(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function M(e,t,r){var n,i,a,o,s=0;if(0!==e.last_lit)do n=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],i=e.pending_buf[e.l_buf+s],s++,0===n?j(e,i,t):(j(e,(a=g[i])+256+1,t),0!==(o=u[a])&&k(e,i-=y[a],o),j(e,a=w(--n),r),0!==(o=c[a])&&k(e,n-=b[a],o));while(s<e.last_lit)j(e,256,t)}function D(e,t){var r,n,i,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,c=-1;for(r=0,e.heap_len=0,e.heap_max=l;r<u;r++)0!==a[2*r]?(e.heap[++e.heap_len]=c=r,e.depth[r]=0):a[2*r+1]=0;for(;e.heap_len<2;)a[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=o[2*i+1]);for(t.max_code=c,r=e.heap_len>>1;r>=1;r--)R(e,a,r);i=u;do r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],R(e,a,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,a[2*i]=a[2*r]+a[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,a[2*r+1]=a[2*n+1]=i,e.heap[1]=i++,R(e,a,1);while(e.heap_len>=2)e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,i,a,o,s,u=t.dyn_tree,c=t.max_code,d=t.stat_desc.static_tree,f=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,m=t.stat_desc.max_length,g=0;for(a=0;a<=15;a++)e.bl_count[a]=0;for(u[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<l;r++)(a=u[2*u[2*(n=e.heap[r])+1]+1]+1)>m&&(a=m,g++),u[2*n+1]=a,!(n>c)&&(e.bl_count[a]++,o=0,n>=p&&(o=h[n-p]),s=u[2*n],e.opt_len+=s*(a+o),f&&(e.static_len+=s*(d[2*n+1]+o)));if(0!==g){do{for(a=m-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[m]--,g-=2}while(g>0)for(a=m;0!==a;a--)for(n=e.bl_count[a];0!==n;)!((i=e.heap[--r])>c)&&(u[2*i+1]!==a&&(e.opt_len+=(a-u[2*i+1])*u[2*i],u[2*i+1]=a),n--)}}(e,t),P(a,c,e.bl_count)}function A(e,t,r){var n,i,a=-1,o=t[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)i=o,o=t[(n+1)*2+1],++s<l&&i===o||(s<u?e.bl_tree[2*i]+=s:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,a=i,0===o?(l=138,u=3):i===o?(l=6,u=3):(l=7,u=4))}function F(e,t,r){var n,i,a=-1,o=t[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),n=0;n<=r;n++)if(i=o,o=t[(n+1)*2+1],!(++s<l)||i!==o){if(s<u)do j(e,i,e.bl_tree);while(0!=--s)else 0!==i?(i!==a&&(j(e,i,e.bl_tree),s--),j(e,16,e.bl_tree),k(e,s-3,2)):s<=10?(j(e,17,e.bl_tree),k(e,s-3,3)):(j(e,18,e.bl_tree),k(e,s-11,7));s=0,a=i,0===o?(l=138,u=3):i===o?(l=6,u=3):(l=7,u=4)}}s(b);var B=!1;function N(e,t,r,n){k(e,0+ +!!n,3),T(e),S(e,r),S(e,~r),o.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}r._tr_init=function(e){B||(!function(){var e,t,r,o,s,l=Array(16);for(o=0,r=0;o<28;o++)for(e=0,y[o]=r;e<1<<u[o];e++)g[r++]=o;for(g[r-1]=o,s=0,o=0;o<16;o++)for(e=0,b[o]=s;e<1<<c[o];e++)m[s++]=o;for(s>>=7;o<30;o++)for(e=0,b[o]=s<<7;e<1<<c[o]-7;e++)m[256+s++]=o;for(t=0;t<=15;t++)l[t]=0;for(e=0;e<=143;)h[2*e+1]=8,e++,l[8]++;for(;e<=255;)h[2*e+1]=9,e++,l[9]++;for(;e<=279;)h[2*e+1]=7,e++,l[7]++;for(;e<=287;)h[2*e+1]=8,e++,l[8]++;for(P(h,287,l),e=0;e<30;e++)p[2*e+1]=5,p[2*e]=C(e,5);n=new v(h,u,257,286,15),i=new v(p,c,0,30,15),a=new v([],d,0,19,7)}(),B=!0),e.l_desc=new x(e.dyn_ltree,n),e.d_desc=new x(e.dyn_dtree,i),e.bl_desc=new x(e.bl_tree,a),e.bi_buf=0,e.bi_valid=0,_(e)},r._tr_stored_block=N,r._tr_flush_block=function(e,t,r,n){var i,a,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=0xf3ffc07f;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),D(e,e.l_desc),D(e,e.d_desc),o=function(e){var t;for(A(e,e.dyn_ltree,e.l_desc.max_code),A(e,e.dyn_dtree,e.d_desc.max_code),D(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*f[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=i&&(i=a)):i=a=r+5,r+4<=i&&-1!==t?N(e,t,r,n):4===e.strategy||a===i?(k(e,2+ +!!n,3),M(e,h,p)):(k(e,4+ +!!n,3),function(e,t,r,n){var i;for(k(e,t-257,5),k(e,r-1,5),k(e,n-4,4),i=0;i<n;i++)k(e,e.bl_tree[2*f[i]+1],3);F(e,e.dyn_ltree,t-1),F(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),M(e,e.dyn_ltree,e.dyn_dtree)),_(e),n&&T(e)},r._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[(g[r]+256+1)*2]++,e.dyn_dtree[2*w(t)]++),e.last_lit===e.lit_bufsize-1},r._tr_align=function(e){k(e,2,3),j(e,256,h),16===e.bi_valid?(S(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}},39800,(e,t,r)=>{"use strict";t.exports=function(e,t,r,n){for(var i=65535&e,a=e>>>16&65535,o=0;0!==r;){o=r>2e3?2e3:r,r-=o;do a=a+(i=i+t[n++]|0)|0;while(--o)i%=65521,a%=65521}return i|a<<16}},96069,(e,t,r)=>{"use strict";var n=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?0xedb88320^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t,r,i){var a=i+r;e^=-1;for(var o=i;o<a;o++)e=e>>>8^n[(e^t[o])&255];return -1^e}},36449,(e,t,r)=>{"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},31778,(e,t,r)=>{"use strict";var n,i=e.r(41738),a=e.r(23027),o=e.r(39800),s=e.r(96069),l=e.r(36449),u=573;function c(e,t){return e.msg=l[t],t}function d(e){return(e<<1)-9*(e>4)}function f(e){for(var t=e.length;--t>=0;)e[t]=0}function h(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(i.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function p(e,t){a._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,h(e.strm)}function m(e,t){e.pending_buf[e.pending++]=t}function g(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function y(e,t){var r,n,i=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,u=e.window,c=e.w_mask,d=e.prev,f=e.strstart+258,h=u[a+o-1],p=u[a+o];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(r=t)+o]!==p||u[r+o-1]!==h||u[r]!==u[a]||u[++r]!==u[a+1])continue;a+=2,r++;do;while(u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&a<f)if(n=258-(f-a),a=f-258,n>o){if(e.match_start=t,o=n,n>=s)break;h=u[a+o-1],p=u[a+o]}}while((t=d[t&c])>l&&0!=--i)return o<=e.lookahead?o:e.lookahead}function b(e){var t,r,n,a,l,u=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=u+(u-262)){i.arraySet(e.window,e.window,u,u,0),e.match_start-=u,e.strstart-=u,e.block_start-=u,t=r=e.hash_size;do n=e.head[--t],e.head[t]=n>=u?n-u:0;while(--r)t=r=u;do n=e.prev[--t],e.prev[t]=n>=u?n-u:0;while(--r)a+=u}if(0===e.strm.avail_in)break;if(r=function(e,t,r,n){var a=e.avail_in;return(a>n&&(a=n),0===a)?0:(e.avail_in-=a,i.arraySet(t,e.input,e.next_in,a,r),1===e.state.wrap?e.adler=o(e.adler,t,a,r):2===e.state.wrap&&(e.adler=s(e.adler,t,a,r)),e.next_in+=a,e.total_in+=a,a)}(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=r,e.lookahead+e.insert>=3)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)}function v(e,t){for(var r,n;;){if(e.lookahead<262){if(b(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-262&&(e.match_length=y(e,r)),e.match_length>=3)if(n=a._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!=--e.match_length)e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(p(e,!1),0===e.strm.avail_out))return 1}return(e.insert=e.strstart<2?e.strstart:2,4===t)?(p(e,!0),0===e.strm.avail_out)?3:4:e.last_lit&&(p(e,!1),0===e.strm.avail_out)?1:2}function x(e,t){for(var r,n,i;;){if(e.lookahead<262){if(b(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-262&&(e.match_length=y(e,r),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,n=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!=--e.prev_length)if(e.match_available=0,e.match_length=2,e.strstart++,n&&(p(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=a._tr_tally(e,0,e.window[e.strstart-1]))&&p(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return(e.match_available&&(n=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t)?(p(e,!0),0===e.strm.avail_out)?3:4:e.last_lit&&(p(e,!1),0===e.strm.avail_out)?1:2}function w(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function S(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*u),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),f(this.dyn_ltree),f(this.dyn_dtree),f(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),f(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),f(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function k(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=+(2!==t.wrap),t.last_flush=0,a._tr_init(t),0):c(e,-2)}function j(e){var t,r=k(e);return 0===r&&((t=e.state).window_size=2*t.w_size,f(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),r}function C(e,t,r,n,a,o){if(!e)return -2;var s=1;if(-1===t&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),a<1||a>9||8!==r||n<8||n>15||t<0||t>9||o<0||o>4)return c(e,-2);8===n&&(n=9);var l=new S;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=+l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=o,l.method=r,j(e)}n=[new w(0,0,0,0,function(e,t){var r=65535;for(65535>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(b(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,p(e,!1),0===e.strm.avail_out)||e.strstart-e.block_start>=e.w_size-262&&(p(e,!1),0===e.strm.avail_out))return 1}return(e.insert=0,4===t)?(p(e,!0),0===e.strm.avail_out)?3:4:(e.strstart>e.block_start&&(p(e,!1),e.strm.avail_out),1)}),new w(4,4,8,4,v),new w(4,5,16,8,v),new w(4,6,32,32,v),new w(4,4,16,16,x),new w(8,16,32,32,x),new w(8,16,128,128,x),new w(8,32,128,256,x),new w(32,128,258,1024,x),new w(32,258,258,4096,x)],r.deflateInit=function(e,t){return C(e,t,8,15,8,0)},r.deflateInit2=C,r.deflateReset=j,r.deflateResetKeep=k,r.deflateSetHeader=function(e,t){return e&&e.state&&2===e.state.wrap?(e.state.gzhead=t,0):-2},r.deflate=function(e,t){if(!e||!e.state||t>5||t<0)return e?c(e,-2):-2;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&4!==t)return c(e,0===e.avail_out?-5:-2);if(i.strm=e,r=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,m(i,31),m(i,139),m(i,8),i.gzhead?(m(i,+!!i.gzhead.text+2*!!i.gzhead.hcrc+4*!!i.gzhead.extra+8*!!i.gzhead.name+16*!!i.gzhead.comment),m(i,255&i.gzhead.time),m(i,i.gzhead.time>>8&255),m(i,i.gzhead.time>>16&255),m(i,i.gzhead.time>>24&255),m(i,9===i.level?2:4*(i.strategy>=2||i.level<2)),m(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(m(i,255&i.gzhead.extra.length),m(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(m(i,0),m(i,0),m(i,0),m(i,0),m(i,0),m(i,9===i.level?2:4*(i.strategy>=2||i.level<2)),m(i,3),i.status=113);else{var r,i,o,l,u=8+(i.w_bits-8<<4)<<8;u|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(u|=32),u+=31-u%31,i.status=113,g(i,u),0!==i.strstart&&(g(i,e.adler>>>16),g(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),h(e),o=i.pending,i.pending!==i.pending_buf_size));)m(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),h(e),o=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,m(i,l)}while(0!==l)i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),h(e),o=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,m(i,l)}while(0!==l)i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),0===l&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&h(e),i.pending+2<=i.pending_buf_size&&(m(i,255&e.adler),m(i,e.adler>>8&255),e.adler=0,i.status=113)):i.status=113),0!==i.pending){if(h(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&d(t)<=d(r)&&4!==t)return c(e,-5);if(666===i.status&&0!==e.avail_in)return c(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&666!==i.status){var y=2===i.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(b(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(p(e,!1),0===e.strm.avail_out))return 1}return(e.insert=0,4===t)?(p(e,!0),0===e.strm.avail_out)?3:4:e.last_lit&&(p(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var r,n,i,o,s=e.window;;){if(e.lookahead<=258){if(b(e),e.lookahead<=258&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(n=s[i=e.strstart-1])===s[++i]&&n===s[++i]&&n===s[++i]){o=e.strstart+258;do;while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<o)e.match_length=258-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=a._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(p(e,!1),0===e.strm.avail_out))return 1}return(e.insert=0,4===t)?(p(e,!0),0===e.strm.avail_out)?3:4:e.last_lit&&(p(e,!1),0===e.strm.avail_out)?1:2}(i,t):n[i.level].func(i,t);if((3===y||4===y)&&(i.status=666),1===y||3===y)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===y&&(1===t?a._tr_align(i):5!==t&&(a._tr_stored_block(i,0,0,!1),3===t&&(f(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),h(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(m(i,255&e.adler),m(i,e.adler>>8&255),m(i,e.adler>>16&255),m(i,e.adler>>24&255),m(i,255&e.total_in),m(i,e.total_in>>8&255),m(i,e.total_in>>16&255),m(i,e.total_in>>24&255)):(g(i,e.adler>>>16),g(i,65535&e.adler)),h(e),i.wrap>0&&(i.wrap=-i.wrap),+(0===i.pending))},r.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?c(e,-2):(e.state=null,113===t?c(e,-3):0):-2},r.deflateSetDictionary=function(e,t){var r,n,a,s,l,u,c,d,h=t.length;if(!e||!e.state||2===(s=(r=e.state).wrap)||1===s&&42!==r.status||r.lookahead)return -2;for(1===s&&(e.adler=o(e.adler,t,h,0)),r.wrap=0,h>=r.w_size&&(0===s&&(f(r.head),r.strstart=0,r.block_start=0,r.insert=0),d=new i.Buf8(r.w_size),i.arraySet(d,t,h-r.w_size,r.w_size,0),t=d,h=r.w_size),l=e.avail_in,u=e.next_in,c=e.input,e.avail_in=h,e.next_in=0,e.input=t,b(r);r.lookahead>=3;){n=r.strstart,a=r.lookahead-2;do r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+3-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++;while(--a)r.strstart=n,r.lookahead=2,b(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=u,e.input=c,e.avail_in=l,r.wrap=s,0},r.deflateInfo="pako deflate (from Nodeca project)"},83158,(e,t,r)=>{"use strict";var n=e.r(41738),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}for(var o=new n.Buf8(256),s=0;s<256;s++)o[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(e,t){if(t<65534&&(e.subarray&&a||!e.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var r="",o=0;o<t;o++)r+=String.fromCharCode(e[o]);return r}o[254]=o[254]=1,r.string2buf=function(e){var t,r,i,a,o,s=e.length,l=0;for(a=0;a<s;a++)(64512&(r=e.charCodeAt(a)))==55296&&a+1<s&&(64512&(i=e.charCodeAt(a+1)))==56320&&(r=65536+(r-55296<<10)+(i-56320),a++),l+=r<128?1:r<2048?2:r<65536?3:4;for(o=0,t=new n.Buf8(l),a=0;o<l;a++)(64512&(r=e.charCodeAt(a)))==55296&&a+1<s&&(64512&(i=e.charCodeAt(a+1)))==56320&&(r=65536+(r-55296<<10)+(i-56320),a++),r<128?t[o++]=r:(r<2048?t[o++]=192|r>>>6:(r<65536?t[o++]=224|r>>>12:(t[o++]=240|r>>>18,t[o++]=128|r>>>12&63),t[o++]=128|r>>>6&63),t[o++]=128|63&r);return t},r.buf2binstring=function(e){return l(e,e.length)},r.binstring2buf=function(e){for(var t=new n.Buf8(e.length),r=0,i=t.length;r<i;r++)t[r]=e.charCodeAt(r);return t},r.buf2string=function(e,t){var r,n,i,a,s=t||e.length,u=Array(2*s);for(n=0,r=0;r<s;){if((i=e[r++])<128){u[n++]=i;continue}if((a=o[i])>4){u[n++]=65533,r+=a-1;continue}for(i&=2===a?31:3===a?15:7;a>1&&r<s;)i=i<<6|63&e[r++],a--;if(a>1){u[n++]=65533;continue}i<65536?u[n++]=i:(i-=65536,u[n++]=55296|i>>10&1023,u[n++]=56320|1023&i)}return l(u,n)},r.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;r>=0&&(192&e[r])==128;)r--;return r<0||0===r?t:r+o[e[r]]>t?r:t}},80596,(e,t,r)=>{"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},78444,(e,t,r)=>{"use strict";var n=e.r(31778),i=e.r(41738),a=e.r(83158),o=e.r(36449),s=e.r(80596),l=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t,r=this.options;r.raw&&r.windowBits>0?r.windowBits=-r.windowBits:r.gzip&&r.windowBits>0&&r.windowBits<16&&(r.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var c=n.deflateInit2(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(0!==c)throw Error(o[c]);if(r.header&&n.deflateSetHeader(this.strm,r.header),r.dictionary){if(t="string"==typeof r.dictionary?a.string2buf(r.dictionary):"[object ArrayBuffer]"===l.call(r.dictionary)?new Uint8Array(r.dictionary):r.dictionary,0!==(c=n.deflateSetDictionary(this.strm,t)))throw Error(o[c]);this._dict_set=!0}}function c(e,t){var r=new u(t);if(r.push(e,!0),r.err)throw r.msg||o[r.err];return r.result}u.prototype.push=function(e,t){var r,o,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:4*(!0===t),"string"==typeof e?s.input=a.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(u),s.next_out=0,s.avail_out=u),1!==(r=n.deflate(s,o))&&0!==r)return this.onEnd(r),this.ended=!0,!1;(0===s.avail_out||0===s.avail_in&&(4===o||2===o))&&("string"===this.options.to?this.onData(a.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==r)return 4===o?(r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,0===r):(2===o&&(this.onEnd(0),s.avail_out=0),!0)},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Deflate=u,r.deflate=c,r.deflateRaw=function(e,t){return(t=t||{}).raw=!0,c(e,t)},r.gzip=function(e,t){return(t=t||{}).gzip=!0,c(e,t)}},90595,(e,t,r)=>{"use strict";t.exports=function(e,t){var r,n,i,a,o,s,l,u,c,d,f,h,p,m,g,y,b,v,x,w,S,k,j,C,P;r=e.state,n=e.next_in,C=e.input,i=n+(e.avail_in-5),a=e.next_out,P=e.output,o=a-(t-e.avail_out),s=a+(e.avail_out-257),l=r.dmax,u=r.wsize,c=r.whave,d=r.wnext,f=r.window,h=r.hold,p=r.bits,m=r.lencode,g=r.distcode,y=(1<<r.lenbits)-1,b=(1<<r.distbits)-1;e:do for(p<15&&(h+=C[n++]<<p,p+=8,h+=C[n++]<<p,p+=8),v=m[h&y];;){if(h>>>=x=v>>>24,p-=x,0==(x=v>>>16&255))P[a++]=65535&v;else if(16&x)for(w=65535&v,(x&=15)&&(p<x&&(h+=C[n++]<<p,p+=8),w+=h&(1<<x)-1,h>>>=x,p-=x),p<15&&(h+=C[n++]<<p,p+=8,h+=C[n++]<<p,p+=8),v=g[h&b];;){if(h>>>=x=v>>>24,p-=x,16&(x=v>>>16&255)){if(S=65535&v,p<(x&=15)&&(h+=C[n++]<<p,(p+=8)<x&&(h+=C[n++]<<p,p+=8)),(S+=h&(1<<x)-1)>l){e.msg="invalid distance too far back",r.mode=30;break e}if(h>>>=x,p-=x,S>(x=a-o)){if((x=S-x)>c&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(k=0,j=f,0===d){if(k+=u-x,x<w){w-=x;do P[a++]=f[k++];while(--x)k=a-S,j=P}}else if(d<x){if(k+=u+d-x,(x-=d)<w){w-=x;do P[a++]=f[k++];while(--x)if(k=0,d<w){w-=x=d;do P[a++]=f[k++];while(--x)k=a-S,j=P}}}else if(k+=d-x,x<w){w-=x;do P[a++]=f[k++];while(--x)k=a-S,j=P}for(;w>2;)P[a++]=j[k++],P[a++]=j[k++],P[a++]=j[k++],w-=3;w&&(P[a++]=j[k++],w>1&&(P[a++]=j[k++]))}else{k=a-S;do P[a++]=P[k++],P[a++]=P[k++],P[a++]=P[k++],w-=3;while(w>2)w&&(P[a++]=P[k++],w>1&&(P[a++]=P[k++]))}}else if((64&x)==0){v=g[(65535&v)+(h&(1<<x)-1)];continue}else{e.msg="invalid distance code",r.mode=30;break e}break}else if((64&x)==0){v=m[(65535&v)+(h&(1<<x)-1)];continue}else if(32&x){r.mode=12;break e}else{e.msg="invalid literal/length code",r.mode=30;break e}break}while(n<i&&a<s)n-=w=p>>3,p-=w<<3,h&=(1<<p)-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=a<s?257+(s-a):257-(a-s),r.hold=h,r.bits=p}},89905,(e,t,r)=>{"use strict";var n=e.r(41738),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,r,l,u,c,d,f){var h,p,m,g,y,b,v,x,w,S=f.bits,k=0,j=0,C=0,P=0,_=0,T=0,E=0,R=0,M=0,D=0,A=null,F=0,B=new n.Buf16(16),N=new n.Buf16(16),O=null,I=0;for(k=0;k<=15;k++)B[k]=0;for(j=0;j<l;j++)B[t[r+j]]++;for(P=15,_=S;P>=1&&0===B[P];P--);if(_>P&&(_=P),0===P)return u[c++]=0x1400000,u[c++]=0x1400000,f.bits=1,0;for(C=1;C<P&&0===B[C];C++);for(_<C&&(_=C),R=1,k=1;k<=15;k++)if(R<<=1,(R-=B[k])<0)return -1;if(R>0&&(0===e||1!==P))return -1;for(k=1,N[1]=0;k<15;k++)N[k+1]=N[k]+B[k];for(j=0;j<l;j++)0!==t[r+j]&&(d[N[t[r+j]]++]=j);if(0===e?(A=O=d,b=19):1===e?(A=i,F-=257,O=a,I-=257,b=256):(A=o,O=s,b=-1),D=0,j=0,k=C,y=c,T=_,E=0,m=-1,g=(M=1<<_)-1,1===e&&M>852||2===e&&M>592)return 1;for(;;){v=k-E,d[j]<b?(x=0,w=d[j]):d[j]>b?(x=O[I+d[j]],w=A[F+d[j]]):(x=96,w=0),h=1<<k-E,C=p=1<<T;do u[y+(D>>E)+(p-=h)]=v<<24|x<<16|w;while(0!==p)for(h=1<<k-1;D&h;)h>>=1;if(0!==h?(D&=h-1,D+=h):D=0,j++,0==--B[k]){if(k===P)break;k=t[r+d[j]]}if(k>_&&(D&g)!==m){for(0===E&&(E=_),y+=C,R=1<<(T=k-E);T+E<P&&!((R-=B[T+E])<=0);)T++,R<<=1;if(M+=1<<T,1===e&&M>852||2===e&&M>592)return 1;u[m=D&g]=_<<24|T<<16|y-c}}return 0!==D&&(u[y+D]=k-E<<24|4194304),f.bits=_,0}},74791,(e,t,r)=>{"use strict";var n,i,a=e.r(41738),o=e.r(39800),s=e.r(96069),l=e.r(90595),u=e.r(89905);function c(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function d(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new a.Buf32(852),t.distcode=t.distdyn=new a.Buf32(592),t.sane=1,t.back=-1,0):-2}function h(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,f(e)):-2}function p(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?-2:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,h(e)):-2}function m(e,t){var r,n;return e?(e.state=n=new d,n.window=null,0!==(r=p(e,t))&&(e.state=null),r):-2}var g=!0;function y(e,t,r,n){var i,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new a.Buf8(o.wsize)),n>=o.wsize?(a.arraySet(o.window,t,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((i=o.wsize-o.wnext)>n&&(i=n),a.arraySet(o.window,t,r-n,i,o.wnext),(n-=i)?(a.arraySet(o.window,t,r-n,n,0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}r.inflateReset=h,r.inflateReset2=p,r.inflateResetKeep=f,r.inflateInit=function(e){return m(e,15)},r.inflateInit2=m,r.inflate=function(e,t){var r,d,f,h,p,m,b,v,x,w,S,k,j,C,P,_,T,E,R,M,D,A,F,B,N=0,O=new a.Buf8(4),I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return -2;12===(r=e.state).mode&&(r.mode=13),p=e.next_out,f=e.output,b=e.avail_out,h=e.next_in,d=e.input,m=e.avail_in,v=r.hold,x=r.bits,w=m,S=b,A=0;t:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;x<16;){if(0===m)break t;m--,v+=d[h++]<<x,x+=8}if(2&r.wrap&&35615===v){r.check=0,O[0]=255&v,O[1]=v>>>8&255,r.check=s(r.check,O,2,0),v=0,x=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&v)<<8)+(v>>8))%31){e.msg="incorrect header check",r.mode=30;break}if((15&v)!=8){e.msg="unknown compression method",r.mode=30;break}if(v>>>=4,x-=4,D=(15&v)+8,0===r.wbits)r.wbits=D;else if(D>r.wbits){e.msg="invalid window size",r.mode=30;break}r.dmax=1<<D,e.adler=r.check=1,r.mode=512&v?10:12,v=0,x=0;break;case 2:for(;x<16;){if(0===m)break t;m--,v+=d[h++]<<x,x+=8}if(r.flags=v,(255&r.flags)!=8){e.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=v>>8&1),512&r.flags&&(O[0]=255&v,O[1]=v>>>8&255,r.check=s(r.check,O,2,0)),v=0,x=0,r.mode=3;case 3:for(;x<32;){if(0===m)break t;m--,v+=d[h++]<<x,x+=8}r.head&&(r.head.time=v),512&r.flags&&(O[0]=255&v,O[1]=v>>>8&255,O[2]=v>>>16&255,O[3]=v>>>24&255,r.check=s(r.check,O,4,0)),v=0,x=0,r.mode=4;case 4:for(;x<16;){if(0===m)break t;m--,v+=d[h++]<<x,x+=8}r.head&&(r.head.xflags=255&v,r.head.os=v>>8),512&r.flags&&(O[0]=255&v,O[1]=v>>>8&255,r.check=s(r.check,O,2,0)),v=0,x=0,r.mode=5;case 5:if(1024&r.flags){for(;x<16;){if(0===m)break t;m--,v+=d[h++]<<x,x+=8}r.length=v,r.head&&(r.head.extra_len=v),512&r.flags&&(O[0]=255&v,O[1]=v>>>8&255,r.check=s(r.check,O,2,0)),v=0,x=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((k=r.length)>m&&(k=m),k&&(r.head&&(D=r.head.extra_len-r.length,r.head.extra||(r.head.extra=Array(r.head.extra_len)),a.arraySet(r.head.extra,d,h,k,D)),512&r.flags&&(r.check=s(r.check,d,k,h)),m-=k,h+=k,r.length-=k),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===m)break t;k=0;do D=d[h+k++],r.head&&D&&r.length<65536&&(r.head.name+=String.fromCharCode(D));while(D&&k<m)if(512&r.flags&&(r.check=s(r.check,d,k,h)),m-=k,h+=k,D)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===m)break t;k=0;do D=d[h+k++],r.head&&D&&r.length<65536&&(r.head.comment+=String.fromCharCode(D));while(D&&k<m)if(512&r.flags&&(r.check=s(r.check,d,k,h)),m-=k,h+=k,D)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;x<16;){if(0===m)break t;m--,v+=d[h++]<<x,x+=8}if(v!==(65535&r.check)){e.msg="header crc mismatch",r.mode=30;break}v=0,x=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;x<32;){if(0===m)break t;m--,v+=d[h++]<<x,x+=8}e.adler=r.check=c(v),v=0,x=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=p,e.avail_out=b,e.next_in=h,e.avail_in=m,r.hold=v,r.bits=x,2;e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t)break t;case 13:if(r.last){v>>>=7&x,x-=7&x,r.mode=27;break}for(;x<3;){if(0===m)break t;m--,v+=d[h++]<<x,x+=8}switch(r.last=1&v,x-=1,3&(v>>>=1)){case 0:r.mode=14;break;case 1:if(!function(e){if(g){var t;for(n=new a.Buf32(512),i=new a.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(u(1,e.lens,0,288,n,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;u(2,e.lens,0,32,i,0,e.work,{bits:5}),g=!1}e.lencode=n,e.lenbits=9,e.distcode=i,e.distbits=5}(r),r.mode=20,6===t){v>>>=2,x-=2;break t}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=30}v>>>=2,x-=2;break;case 14:for(v>>>=7&x,x-=7&x;x<32;){if(0===m)break t;m--,v+=d[h++]<<x,x+=8}if((65535&v)!=(v>>>16^65535)){e.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&v,v=0,x=0,r.mode=15,6===t)break t;case 15:r.mode=16;case 16:if(k=r.length){if(k>m&&(k=m),k>b&&(k=b),0===k)break t;a.arraySet(f,d,h,k,p),m-=k,h+=k,b-=k,p+=k,r.length-=k;break}r.mode=12;break;case 17:for(;x<14;){if(0===m)break t;m--,v+=d[h++]<<x,x+=8}if(r.nlen=(31&v)+257,x-=5,r.ndist=(31&(v>>>=5))+1,x-=5,r.ncode=(15&(v>>>=5))+4,v>>>=4,x-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;x<3;){if(0===m)break t;m--,v+=d[h++]<<x,x+=8}r.lens[I[r.have++]]=7&v,v>>>=3,x-=3}for(;r.have<19;)r.lens[I[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,F={bits:r.lenbits},A=u(0,r.lens,0,19,r.lencode,0,r.work,F),r.lenbits=F.bits,A){e.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;P=(N=r.lencode[v&(1<<r.lenbits)-1])>>>24,_=N>>>16&255,T=65535&N,!(P<=x);){if(0===m)break t;m--,v+=d[h++]<<x,x+=8}if(T<16)v>>>=P,x-=P,r.lens[r.have++]=T;else{if(16===T){for(B=P+2;x<B;){if(0===m)break t;m--,v+=d[h++]<<x,x+=8}if(v>>>=P,x-=P,0===r.have){e.msg="invalid bit length repeat",r.mode=30;break}D=r.lens[r.have-1],k=3+(3&v),v>>>=2,x-=2}else if(17===T){for(B=P+3;x<B;){if(0===m)break t;m--,v+=d[h++]<<x,x+=8}v>>>=P,x-=P,D=0,k=3+(7&v),v>>>=3,x-=3}else{for(B=P+7;x<B;){if(0===m)break t;m--,v+=d[h++]<<x,x+=8}v>>>=P,x-=P,D=0,k=11+(127&v),v>>>=7,x-=7}if(r.have+k>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=30;break}for(;k--;)r.lens[r.have++]=D}}if(30===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,F={bits:r.lenbits},A=u(1,r.lens,0,r.nlen,r.lencode,0,r.work,F),r.lenbits=F.bits,A){e.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,F={bits:r.distbits},A=u(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,F),r.distbits=F.bits,A){e.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===t)break t;case 20:r.mode=21;case 21:if(m>=6&&b>=258){e.next_out=p,e.avail_out=b,e.next_in=h,e.avail_in=m,r.hold=v,r.bits=x,l(e,S),p=e.next_out,f=e.output,b=e.avail_out,h=e.next_in,d=e.input,m=e.avail_in,v=r.hold,x=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;P=(N=r.lencode[v&(1<<r.lenbits)-1])>>>24,_=N>>>16&255,T=65535&N,!(P<=x);){if(0===m)break t;m--,v+=d[h++]<<x,x+=8}if(_&&(240&_)==0){for(E=P,R=_,M=T;P=(N=r.lencode[M+((v&(1<<E+R)-1)>>E)])>>>24,_=N>>>16&255,T=65535&N,!(E+P<=x);){if(0===m)break t;m--,v+=d[h++]<<x,x+=8}v>>>=E,x-=E,r.back+=E}if(v>>>=P,x-=P,r.back+=P,r.length=T,0===_){r.mode=26;break}if(32&_){r.back=-1,r.mode=12;break}if(64&_){e.msg="invalid literal/length code",r.mode=30;break}r.extra=15&_,r.mode=22;case 22:if(r.extra){for(B=r.extra;x<B;){if(0===m)break t;m--,v+=d[h++]<<x,x+=8}r.length+=v&(1<<r.extra)-1,v>>>=r.extra,x-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;P=(N=r.distcode[v&(1<<r.distbits)-1])>>>24,_=N>>>16&255,T=65535&N,!(P<=x);){if(0===m)break t;m--,v+=d[h++]<<x,x+=8}if((240&_)==0){for(E=P,R=_,M=T;P=(N=r.distcode[M+((v&(1<<E+R)-1)>>E)])>>>24,_=N>>>16&255,T=65535&N,!(E+P<=x);){if(0===m)break t;m--,v+=d[h++]<<x,x+=8}v>>>=E,x-=E,r.back+=E}if(v>>>=P,x-=P,r.back+=P,64&_){e.msg="invalid distance code",r.mode=30;break}r.offset=T,r.extra=15&_,r.mode=24;case 24:if(r.extra){for(B=r.extra;x<B;){if(0===m)break t;m--,v+=d[h++]<<x,x+=8}r.offset+=v&(1<<r.extra)-1,v>>>=r.extra,x-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===b)break t;if(k=S-b,r.offset>k){if((k=r.offset-k)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=30;break}k>r.wnext?(k-=r.wnext,j=r.wsize-k):j=r.wnext-k,k>r.length&&(k=r.length),C=r.window}else C=f,j=p-r.offset,k=r.length;k>b&&(k=b),b-=k,r.length-=k;do f[p++]=C[j++];while(--k)0===r.length&&(r.mode=21);break;case 26:if(0===b)break t;f[p++]=r.length,b--,r.mode=21;break;case 27:if(r.wrap){for(;x<32;){if(0===m)break t;m--,v|=d[h++]<<x,x+=8}if(S-=b,e.total_out+=S,r.total+=S,S&&(e.adler=r.check=r.flags?s(r.check,f,S,p-S):o(r.check,f,S,p-S)),S=b,(r.flags?v:c(v))!==r.check){e.msg="incorrect data check",r.mode=30;break}v=0,x=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;x<32;){if(0===m)break t;m--,v+=d[h++]<<x,x+=8}if(v!==(0|r.total)){e.msg="incorrect length check",r.mode=30;break}v=0,x=0}r.mode=29;case 29:A=1;break t;case 30:A=-3;break t;case 31:return -4;default:return -2}return e.next_out=p,e.avail_out=b,e.next_in=h,e.avail_in=m,r.hold=v,r.bits=x,(r.wsize||S!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&y(e,e.output,e.next_out,S-e.avail_out),w-=e.avail_in,S-=e.avail_out,e.total_in+=w,e.total_out+=S,r.total+=S,r.wrap&&S&&(e.adler=r.check=r.flags?s(r.check,f,S,e.next_out-S):o(r.check,f,S,e.next_out-S)),e.data_type=r.bits+64*!!r.last+128*(12===r.mode)+256*(20===r.mode||15===r.mode),(0===w&&0===S||4===t)&&0===A&&(A=-5),A},r.inflateEnd=function(e){if(!e||!e.state)return -2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},r.inflateGetHeader=function(e,t){var r;return e&&e.state&&(2&(r=e.state).wrap)!=0?(r.head=t,t.done=!1,0):-2},r.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state&&(0===(r=e.state).wrap||11===r.mode)?11===r.mode&&o(1,t,n,0)!==r.check?-3:y(e,t,n,n)?(r.mode=31,-4):(r.havedict=1,0):-2},r.inflateInfo="pako inflate (from Nodeca project)"},52638,(e,t,r)=>{"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},84491,(e,t,r)=>{"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},29920,(e,t,r)=>{"use strict";var n=e.r(74791),i=e.r(41738),a=e.r(83158),o=e.r(52638),s=e.r(36449),l=e.r(80596),u=e.r(84491),c=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits)==0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,t.windowBits);if(r!==o.Z_OK||(this.header=new u,n.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=a.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw)&&(r=n.inflateSetDictionary(this.strm,t.dictionary))!==o.Z_OK))throw Error(s[r])}function f(e,t){var r=new d(t);if(r.push(e,!0),r.err)throw r.msg||s[r.err];return r.result}d.prototype.push=function(e,t){var r,s,l,u,d,f=this.strm,h=this.options.chunkSize,p=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof e?f.input=a.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new i.Buf8(h),f.next_out=0,f.avail_out=h),(r=n.inflate(f,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&p&&(r=n.inflateSetDictionary(this.strm,p)),r===o.Z_BUF_ERROR&&!0===m&&(r=o.Z_OK,m=!1),r!==o.Z_STREAM_END&&r!==o.Z_OK)return this.onEnd(r),this.ended=!0,!1;f.next_out&&(0===f.avail_out||r===o.Z_STREAM_END||0===f.avail_in&&(s===o.Z_FINISH||s===o.Z_SYNC_FLUSH))&&("string"===this.options.to?(l=a.utf8border(f.output,f.next_out),u=f.next_out-l,d=a.buf2string(f.output,l),f.next_out=u,f.avail_out=h-u,u&&i.arraySet(f.output,f.output,l,u,0),this.onData(d)):this.onData(i.shrinkBuf(f.output,f.next_out))),0===f.avail_in&&0===f.avail_out&&(m=!0)}while((f.avail_in>0||0===f.avail_out)&&r!==o.Z_STREAM_END)return(r===o.Z_STREAM_END&&(s=o.Z_FINISH),s===o.Z_FINISH)?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===o.Z_OK):(s===o.Z_SYNC_FLUSH&&(this.onEnd(o.Z_OK),f.avail_out=0),!0)},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Inflate=d,r.inflate=f,r.inflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},r.ungzip=f},42287,(e,t,r)=>{"use strict";var n=e.r(41738).assign,i=e.r(78444),a=e.r(29920),o=e.r(52638),s={};n(s,i,a,o),t.exports=s},38333,(e,t,r)=>{"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=e.r(42287),a=e.r(90651),o=e.r(71843),s=n?"uint8array":"array";function l(e,t){o.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}r.magic="\b\0",a.inherits(l,o),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(s,e.data),!1)},l.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},r.compressWorker=function(e){return new l("Deflate",e)},r.uncompressWorker=function(){return new l("Inflate",{})}},31592,(e,t,r)=>{"use strict";var n=e.r(71843);r.STORE={magic:"\0\0",compressWorker:function(){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},r.DEFLATE=e.r(38333)},86189,(e,t,r)=>{"use strict";r.LOCAL_FILE_HEADER="PK\x03\x04",r.CENTRAL_FILE_HEADER="PK\x01\x02",r.CENTRAL_DIRECTORY_END="PK\x05\x06",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",r.DATA_DESCRIPTOR="PK\x07\b"},33600,(e,t,r)=>{"use strict";var n=e.r(90651),i=e.r(71843),a=e.r(1612),o=e.r(33966),s=e.r(86189),l=function(e,t){var r,n="";for(r=0;r<t;r++)n+=String.fromCharCode(255&e),e>>>=8;return n},u=function(e,t){var r=e;return e||(r=t?16893:33204),(65535&r)<<16},c=function(e,t,r,i,c,d){var f,h,p=e.file,m=e.compression,g=d!==a.utf8encode,y=n.transformTo("string",d(p.name)),b=n.transformTo("string",a.utf8encode(p.name)),v=p.comment,x=n.transformTo("string",d(v)),w=n.transformTo("string",a.utf8encode(v)),S=b.length!==p.name.length,k=w.length!==v.length,j="",C="",P="",_=p.dir,T=p.date,E={crc32:0,compressedSize:0,uncompressedSize:0};(!t||r)&&(E.crc32=e.crc32,E.compressedSize=e.compressedSize,E.uncompressedSize=e.uncompressedSize);var R=0;t&&(R|=8),!g&&(S||k)&&(R|=2048);var M=0,D=0;(_&&(M|=16),"UNIX"===c)?(D=798,M|=u(p.unixPermissions,_)):(D=20,M|=63&(p.dosPermissions||0)),f=(T.getUTCHours()<<6|T.getUTCMinutes())<<5|T.getUTCSeconds()/2,h=(T.getUTCFullYear()-1980<<4|T.getUTCMonth()+1)<<5|T.getUTCDate(),S&&(C=l(1,1)+l(o(y),4)+b,j+="up"+l(C.length,2)+C),k&&(P=l(1,1)+l(o(x),4)+w,j+="uc"+l(P.length,2)+P);var A="";return A+="\n\0",A+=l(R,2),A+=m.magic,A+=l(f,2),A+=l(h,2),A+=l(E.crc32,4),A+=l(E.compressedSize,4),A+=l(E.uncompressedSize,4),A+=l(y.length,2),A+=l(j.length,2),{fileRecord:s.LOCAL_FILE_HEADER+A+y+j,dirRecord:s.CENTRAL_FILE_HEADER+l(D,2)+A+l(x.length,2)+"\0\0\0\0"+l(M,4)+l(i,4)+y+j+x}},d=function(e,t,r,i,a){var o=n.transformTo("string",a(i));return s.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(e,2)+l(e,2)+l(t,4)+l(r,4)+l(o.length,2)+o},f=function(e){return s.DATA_DESCRIPTOR+l(e.crc32,4)+l(e.compressedSize,4)+l(e.uncompressedSize,4)};function h(e,t,r,n){i.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}n.inherits(h,i),h.prototype.push=function(e){var t=e.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,i.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(t+100*(r-n-1))/r:100}}))},h.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var r=c(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,r=c(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),t)this.push({data:f(e),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var r=this.bytesWritten-e,n=d(this.dirRecords.length,r,e,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(e){t.error(e)}),this},h.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(e){var t=this._sources;if(!i.prototype.error.call(this,e))return!1;for(var r=0;r<t.length;r++)try{t[r].error(e)}catch(e){}return!0},h.prototype.lock=function(){i.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=h},98076,(e,t,r)=>{"use strict";var n=e.r(31592),i=e.r(33600),a=function(e,t){var r=e||t,i=n[r];if(!i)throw Error(r+" is not a valid compression method !");return i};r.generateWorker=function(e,t,r){var n=new i(t.streamFiles,r,t.platform,t.encodeFileName),o=0;try{e.forEach(function(e,r){o++;var i=a(r.options.compression,t.compression),s=r.options.compressionOptions||t.compressionOptions||{},l=r.dir,u=r.date;r._compressWorker(i,s).withStreamInfo("file",{name:e,dir:l,date:u,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(n)}),n.entriesCount=o}catch(e){n.error(e)}return n}},38345,(e,t,r)=>{"use strict";var n=e.r(90651),i=e.r(71843);function a(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}n.inherits(a,i),a.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",function(e){t.push({data:e,meta:{percent:0}})}).on("error",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},a.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=a},43201,(e,t,r)=>{"use strict";var n=e.r(1612),i=e.r(90651),a=e.r(71843),o=e.r(68584),s=e.r(2151),l=e.r(26845),u=e.r(32087),c=e.r(98076),d=e.r(1222),f=e.r(38345),h=function(e,t,r){var n,o=i.getTypeOf(t),c=i.extend(r||{},s);c.date=c.date||new Date,null!==c.compression&&(c.compression=c.compression.toUpperCase()),"string"==typeof c.unixPermissions&&(c.unixPermissions=parseInt(c.unixPermissions,8)),c.unixPermissions&&16384&c.unixPermissions&&(c.dir=!0),c.dosPermissions&&16&c.dosPermissions&&(c.dir=!0),c.dir&&(e=m(e)),c.createFolders&&(n=p(e))&&g.call(this,n,!0);var h="string"===o&&!1===c.binary&&!1===c.base64;r&&void 0!==r.binary||(c.binary=!h),(t instanceof l&&0===t.uncompressedSize||c.dir||!t||0===t.length)&&(c.base64=!1,c.binary=!0,t="",c.compression="STORE",o="string");var y=null;y=t instanceof l||t instanceof a?t:d.isNode&&d.isStream(t)?new f(e,t):i.prepareContent(e,t,c.binary,c.optimizedBinaryString,c.base64);var b=new u(e,y,c);this.files[e]=b},p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},g=function(e,t){return t=void 0!==t?t:s.createFolders,e=m(e),this.files[e]||h.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function y(e){return"[object RegExp]"===Object.prototype.toString.call(e)}t.exports={load:function(){throw Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,r,n;for(t in this.files)n=this.files[t],(r=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(r,n)},filter:function(e){var t=[];return this.forEach(function(r,n){e(r,n)&&t.push(n)}),t},file:function(e,t,r){if(1==arguments.length)if(y(e)){var n=e;return this.filter(function(e,t){return!t.dir&&n.test(e)})}else{var i=this.files[this.root+e];return i&&!i.dir?i:null}return e=this.root+e,h.call(this,e,t,r),this},folder:function(e){if(!e)return this;if(y(e))return this.filter(function(t,r){return r.dir&&e.test(t)});var t=this.root+e,r=g.call(this,t),n=this.clone();return n.root=r.name,n},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var r=this.filter(function(t,r){return r.name.slice(0,e.length)===e}),n=0;n<r.length;n++)delete this.files[r[n].name];return this},generate:function(){throw Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,r={};try{if((r=i.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:n.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),"binarystring"===r.type&&(r.type="string"),!r.type)throw Error("No output type specified.");i.checkSupport(r.type),("darwin"===r.platform||"freebsd"===r.platform||"linux"===r.platform||"sunos"===r.platform)&&(r.platform="UNIX"),"win32"===r.platform&&(r.platform="DOS");var s=r.comment||this.comment||"";t=c.generateWorker(this,r,s)}catch(e){(t=new a("error")).error(e)}return new o(t,r.type||"string",r.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}}},32296,(e,t,r)=>{"use strict";var n=e.r(90651);function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,r=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)r=(r<<8)+this.byteAt(t);return this.index+=e,r},readString:function(e){return n.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC((e>>25&127)+1980,(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},46953,(e,t,r)=>{"use strict";var n=e.r(32296);function i(e){n.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e.r(90651).inherits(i,n),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),a=this.length-4;a>=0;--a)if(this.data[a]===t&&this.data[a+1]===r&&this.data[a+2]===n&&this.data[a+3]===i)return a-this.zero;return -1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),a=this.readData(4);return t===a[0]&&r===a[1]&&n===a[2]&&i===a[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},10583,(e,t,r)=>{"use strict";var n=e.r(32296);function i(e){n.call(this,e)}e.r(90651).inherits(i,n),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},2496,(e,t,r)=>{"use strict";var n=e.r(46953);function i(e){n.call(this,e)}e.r(90651).inherits(i,n),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},62993,(e,t,r)=>{"use strict";var n=e.r(2496);function i(e){n.call(this,e)}e.r(90651).inherits(i,n),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},97171,(e,t,r)=>{"use strict";var n=e.r(90651),i=e.r(32415),a=e.r(46953),o=e.r(10583),s=e.r(62993),l=e.r(2496);t.exports=function(e){var t=n.getTypeOf(e);return(n.checkSupport(t),"string"!==t||i.uint8array)?"nodebuffer"===t?new s(e):i.uint8array?new l(n.transformTo("uint8array",e)):new a(n.transformTo("array",e)):new o(e)}},33737,(e,t,r)=>{"use strict";var n=e.r(97171),i=e.r(90651),a=e.r(26845),o=e.r(33966),s=e.r(1612),l=e.r(31592),u=e.r(32415),c=function(e){for(var t in l)if(Object.prototype.hasOwnProperty.call(l,t)&&l[t].magic===e)return l[t];return null};function d(e,t){this.options=e,this.loadOptions=t}d.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(e){var t,r;if(e.skip(22),this.fileNameLength=e.readInt(2),r=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=c(this.compressionMethod)))throw Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===e&&(this.dosPermissions=63&this.externalFileAttributes),3===e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=n(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,r,n,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),r=e.readInt(2),n=e.readData(r),this.extraFields[t]={id:t,length:r,value:n};e.setIndex(i)},handleUTF8:function(){var e=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var r=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var a=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=n(e.value);return 1!==t.readInt(1)||o(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=n(e.value);return 1!==t.readInt(1)||o(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=d},3196,(e,t,r)=>{"use strict";var n=e.r(97171),i=e.r(90651),a=e.r(86189),o=e.r(33737),s=e.r(32415);function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var r=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4);return this.reader.setIndex(r),n===t},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",r=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,r,n=this.zip64EndOfCentralSize-44;0<n;)e=this.reader.readInt(2),t=this.reader.readInt(4),r=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(e=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(e<0){if(!this.isSignature(0,a.LOCAL_FILE_HEADER))throw Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");throw Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(e);var t=e;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var n=t-r;if(n>0)this.isSignature(t,a.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(e){this.reader=n(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},8298,(e,t,r)=>{"use strict";var n=e.r(90651),i=e.r(46617),a=e.r(1612),o=e.r(3196),s=e.r(95373),l=e.r(1222);t.exports=function(e,t){var r=this;return(t=n.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),l.isNode&&l.isStream(e))?i.Promise.reject(Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(e){var r=new o(t);return r.load(e),r}).then(function(e){var r=[i.Promise.resolve(e)],n=e.files;if(t.checkCRC32)for(var a=0;a<n.length;a++)r.push(function(e){return new i.Promise(function(t,r){var n=e.decompressed.getContentWorker().pipe(new s);n.on("error",function(e){r(e)}).on("end",function(){n.streamInfo.crc32!==e.decompressed.crc32?r(Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}(n[a]));return i.Promise.all(r)}).then(function(e){for(var i=e.shift(),a=i.files,o=0;o<a.length;o++){var s=a[o],l=s.fileNameStr,u=n.resolve(s.fileNameStr);r.file(u,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders}),s.dir||(r.file(u).unsafeOriginalName=l)}return i.zipComment.length&&(r.comment=i.zipComment),r})}},17946,(e,t,r)=>{"use strict";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new n;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}n.prototype=e.r(43201),n.prototype.loadAsync=e.r(8298),n.support=e.r(32415),n.defaults=e.r(2151),n.version="3.10.1",n.loadAsync=function(e,t){return new n().loadAsync(e,t)},n.external=e.r(46617),t.exports=n},46453,(e,t,r)=>{!function(t,r){if("function"==typeof define&&define.amd){let t;void 0!==(t=r())&&e.v(t)}else r()}(e.e,function(){"use strict";function r(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){s(n.response,t,r)},n.onerror=function(){console.error("could not download file")},n.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:e.g.global===e.g?e.g:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(e,t,o){var s=a.URL||a.webkitURL,l=document.createElement("a");l.download=t=t||e.name||"download",l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?i(l):n(l.href)?r(e,t,o):i(l,l.target="_blank")):(l.href=s.createObjectURL(e),setTimeout(function(){s.revokeObjectURL(l.href)},4e4),setTimeout(function(){i(l)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,a){if(t=t||e.name||"download","string"!=typeof e){var o;navigator.msSaveOrOpenBlob((void 0===(o=a)?o={autoBom:!1}:"object"!=typeof o&&(console.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\uFEFF",e],{type:e.type}):e),t)}else if(n(e))r(e,t,a);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout(function(){i(s)})}}:function(e,t,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return r(e,t,n);var s="application/octet-stream"===e.type,l=/constructor/i.test(a.HTMLElement)||a.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&l||o)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=u?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},c.readAsDataURL(e)}else{var d=a.URL||a.webkitURL,f=d.createObjectURL(e);i?i.location=f:location.href=f,i=null,setTimeout(function(){d.revokeObjectURL(f)},4e4)}});a.saveAs=s.saveAs=s,t.exports=s})},84588,e=>{"use strict";e.s(["DialogProvider",()=>J,"Dialogs",()=>Q,"useDialog",()=>X],84588);var t=e.i(91398),r=e.i(91788);e.i(86663);var n=e.i(9690),i=e.i(76150),a=e.i(14755),o=e.i(86513),s=e.i(74135),l=e.i(78870),u=e.i(22175),c=e.i(15465),d=e.i(66450),f=e.i(36009);e.i(86283);var h=e.i(53658),p=e.i(77254),m=e.i(72870),g=e.i(88230),y=e.i(24023),b=e.i(92623),v=e.i(83431),x=e.i(48708),w=e.i(8854),S=e.i(86411),k=e.i(35929),j=e.i(79476),C=e.i(44953),P=e.i(58021),_=e.i(73338),T=e.i(65872),E=e.i(79455),R=e.i(2553);function M({trigger:e,open:n,onOpenChange:i}){let{id:a}=X(),{refresh:o}=(0,E.useFilesDirectory)(),{refresh:s}=(0,R.useFilesFlat)(),l=(0,r.useMemo)(()=>{let e=(0,_.getFilename)(a||"");return e.endsWith("/")?e.slice(0,-1):e},[a]),u=(0,r.useMemo)(()=>({name:l}),[l]),c=(0,h.useObjectsRename)(),d=(0,P.useForm)({mode:"all",defaultValues:u}),{handleOpenChange:f,closeAndReset:p}=(0,C.useDialogFormHelpers)({form:d,onOpenChange:i,defaultValues:u,initKey:[l]}),m=(0,r.useCallback)(async e=>{if(!a)return;let{bucket:t,to:r,from:n,mode:i}=(0,T.getRenameFileRenameParams)(a,e.name),l=await c.post({payload:{bucket:t,to:r,from:n,mode:i,force:!1}});l.error?(0,w.triggerErrorToast)({title:(0,_.isDirectory)(a)?"Error renaming directory":"Error renaming file",body:l.error}):(o(),s(),p(),(0,w.triggerSuccessToast)({title:(0,_.isDirectory)(a)?"Directory renamed":"File renamed"}))},[a,o,s,c,p]),g=(0,r.useMemo)(()=>(function({currentName:e}){return{name:{type:"text",title:"Name",placeholder:e,validation:{required:"required",validate:{noSlash:e=>!e.includes("/")||"Name cannot contain slashes"}}}}})({currentName:l}),[l]),y=(0,S.useOnInvalid)(g);return(0,t.jsx)(x.Dialog,{title:"Rename file",trigger:e,open:n,onOpenChange:f,contentVariants:{className:"w-[400px]"},onSubmit:d.handleSubmit(m,y),children:(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsx)(j.FieldText,{name:"name",form:d,fields:g,autoComplete:"off"}),(0,t.jsx)(k.FormSubmitButton,{form:d,children:"Save"})]})})}var D=e.i(54413);e.i(71487);var A=e.i(76993);function F(){return{name:N(),secret:O()}}function B({trigger:e,open:n,onOpenChange:i}){let{closeDialog:a}=X(),o=(0,h.useSettingsS3)(),s=(0,h.useSettingsS3Update)(),l=(0,P.useForm)({mode:"all",defaultValues:F()}),u=(0,r.useCallback)(async e=>{if(!o.data)return void(0,w.triggerErrorToast)({title:"Error creating key"});let t={...o.data?.authentication.v4Keypairs,[e.name]:e.secret},r=await s.put({payload:{...o.data,authentication:{...o.data.authentication,v4Keypairs:t}}});r.error?(0,w.triggerErrorToast)({title:"Error creating key",body:r.error}):((0,w.triggerSuccessToast)({title:"New key created"}),l.reset(F()),a())},[l,a,s,o.data]),c=(0,r.useMemo)(()=>(function({existingKeys:e,regenerateAccessKey:r,regenerateSecretKey:n}){return{name:{type:"text",title:"Access key ID",placeholder:"my secure key",actions:(0,t.jsx)(D.Button,{onClick:r,tip:"Regenerate access key ID",icon:"contrast",variant:"ghost",size:"none",className:"m-1",children:(0,t.jsx)(A.Reset16,{})}),validation:{required:"required",validate:{minLength:e=>e?.length>=16||"must be at least 16 characters",maxLength:e=>e?.length<=128||"must be at most 128 characters",unique:t=>!e.includes(t)||"Name must be unique"}}},secret:{type:"text",title:"Secret access key",placeholder:"",actions:(0,t.jsx)(D.Button,{onClick:n,tip:"Regenerate secret access key",icon:"contrast",variant:"ghost",size:"none",className:"m-1",children:(0,t.jsx)(A.Reset16,{})}),validation:{required:"required",validate:{exactLength:e=>e?.length===40||"must be exactly 40 characters"}}}}})({regenerateAccessKey:()=>{l.setValue("name",N())},regenerateSecretKey:()=>{l.setValue("secret",O())},existingKeys:Object.keys(o.data?.authentication.v4Keypairs||{})}),[o.data,l]),d=(0,S.useOnInvalid)(c);return(0,t.jsx)(x.Dialog,{title:"Create S3 keypair",description:"Create a new S3 authentication keypair.",trigger:e,open:n,onOpenChange:e=>{e||l.reset(F()),i(e)},contentVariants:{className:"w-[400px]"},onSubmit:l.handleSubmit(u,d),controls:(0,t.jsx)("div",{className:"flex flex-col gap-1",children:(0,t.jsx)(k.FormSubmitButton,{form:l,children:"Create"})}),children:(0,t.jsx)("div",{className:"flex flex-col gap-4",children:(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(j.FieldText,{name:"name",form:l,fields:c}),(0,t.jsx)(j.FieldText,{name:"secret",form:l,fields:c})]})})})}function N(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t="";for(let r=0;r<20;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function O(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="";for(let r=0;r<40;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var I=e.i(53031),z=e.i(34530),U=e.i(67419),L=e.i(40480),H=e.i(17946),W=e.i(46453);function V({trigger:e,open:n,onOpenChange:i}){let a=(0,r.useMemo)(()=>({contracts:!0,alerts:!0,autopilot:!0,gouging:!0,upload:!0,pinned:!0,openGithub:!0}),[]),o=(0,h.useContracts)(),s=(0,h.useAlerts)({params:{limit:1e3}}),l=(0,h.useAutopilotConfig)(),u=(0,h.useSettingsGouging)(),c=(0,h.useSettingsUpload)(),d=(0,h.useSettingsPinned)(),f=(0,P.useForm)({mode:"all",defaultValues:a}),{handleOpenChange:p}=(0,C.useDialogFormHelpers)({form:f,onOpenChange:i,defaultValues:a}),m=(0,r.useCallback)(async e=>{let t=new H.default;e.alerts&&t.file("alerts.json",JSON.stringify(s.data,null,2)),e.contracts&&t.file("contracts.json",JSON.stringify(o.data,null,2)),e.autopilot&&t.file("autopilot.json",JSON.stringify(l.data,null,2)),e.gouging&&t.file("gouging.json",JSON.stringify(u.data,null,2)),e.upload&&t.file("upload.json",JSON.stringify(c.data,null,2)),e.pinned&&t.file("pinned.json",JSON.stringify(d.data,null,2));let r=await t.generateAsync({type:"blob"});(0,W.saveAs)(r,"renterd-debug-report.zip"),e.openGithub&&window.open("https://github.com/SiaFoundation/renterd/issues/new?template=bug_report.yml","_blank")},[o.data,s.data,l.data,u.data,c.data,d.data]),g=(0,r.useMemo)(()=>({contracts:{type:"boolean",title:"Contracts",validation:{}},alerts:{type:"boolean",title:"Alerts",validation:{}},autopilot:{type:"boolean",title:"Autopilot",validation:{}},gouging:{type:"boolean",title:"Gouging",validation:{}},upload:{type:"boolean",title:"Upload",validation:{}},pinned:{type:"boolean",title:"Pinned",validation:{}},openGithub:{type:"boolean",title:"Open GitHub bug report submission page",validation:{}}}),[]),y=(0,S.useOnInvalid)(g),b=(0,P.useWatch)({control:f.control,name:"openGithub"});return(0,t.jsx)(x.Dialog,{title:"Generate a bug report",descriptionVisuallyHidden:!0,description:"Select which metadata files to include in the generated report.",trigger:e,open:n,onOpenChange:p,contentVariants:{className:"w-[400px]"},onSubmit:f.handleSubmit(m,y),children:(0,t.jsxs)("div",{className:"flex flex-col gap-4 pt-4",children:[(0,t.jsx)(U.Paragraph,{size:"14",children:"Select which metadata files to include in the debug report, generate the report file (ZIP), and attach it to a GitHub bug report."}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(L.Separator,{className:"mb-2"}),(0,t.jsx)(z.Label,{size:"14",color:"subtle",children:"General"}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)(I.FieldSwitch,{size:"small",form:f,fields:g,name:"contracts"}),(0,t.jsx)(I.FieldSwitch,{size:"small",form:f,fields:g,name:"alerts"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(z.Label,{size:"14",color:"subtle",children:"Configuration"}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)(I.FieldSwitch,{size:"small",form:f,fields:g,name:"autopilot"}),(0,t.jsx)(I.FieldSwitch,{size:"small",form:f,fields:g,name:"gouging"}),(0,t.jsx)(I.FieldSwitch,{size:"small",form:f,fields:g,name:"upload"}),(0,t.jsx)(I.FieldSwitch,{size:"small",form:f,fields:g,name:"pinned"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsx)(L.Separator,{}),(0,t.jsx)(I.FieldSwitch,{size:"small",form:f,fields:g,name:"openGithub"})]}),(0,t.jsxs)(k.FormSubmitButton,{form:f,children:["Generate ",b?"and open":""]})]})})}var q=e.i(929),G=e.i(42431);function K(e){let t=e.lastIndexOf("/");return -1===t?"/backups":e.substring(0,t)||"/backups"}function $(e,t){return{backupMain:{type:"boolean",title:"Backup main database",validation:{}},backupMetrics:{type:"boolean",title:"Backup metrics database",validation:{}},mainPath:{type:"text",title:"Backup path",placeholder:"/backups/renterd-main-2024-01-01T00-00-00-000Z.bak",readOnly:!e,validation:{validate:(e,t)=>!t.backupMain||!!e||"required"}},metricsPath:{type:"text",title:"Backup path",placeholder:"/backups/renterd-metrics-2024-01-01T00-00-00-000Z.bak",readOnly:!t,validation:{validate:(e,t)=>!t.backupMetrics||!!e||"required"}}}}function Y({trigger:e,open:n,onOpenChange:i}){let[a,o]=(0,G.default)("v0/renterd/backupMainDirectory",{defaultValue:"/backups"}),[s,l]=(0,G.default)("v0/renterd/backupMetricsDirectory",{defaultValue:"/backups"}),u=(0,r.useMemo)(()=>{let e;return e=new Date().toISOString().replace(/[:.]/g,"-"),{backupMain:!0,backupMetrics:!0,mainPath:`${a||"/backups"}/renterd-main-${e}.bak`,metricsPath:`${s||"/backups"}/renterd-metrics-${e}.bak`}},[a,s]),c=(0,h.useSystemBackup)(),d=(0,P.useForm)({mode:"all",defaultValues:u}),{handleOpenChange:f,closeAndReset:p}=(0,C.useDialogFormHelpers)({form:d,onOpenChange:i,defaultValues:u}),m=(0,P.useWatch)({control:d.control,name:"backupMain"}),g=(0,P.useWatch)({control:d.control,name:"backupMetrics"}),y=(0,r.useMemo)(()=>$(m,g),[m,g]),b=(0,r.useCallback)(async e=>{if(!e.backupMain&&!e.backupMetrics)return void(0,w.triggerErrorToast)({title:"No database selected",body:"Please select at least one database to backup."});let r=[],n=[];if(e.backupMain){let t=await c.post({payload:{database:"main",path:e.mainPath}});t.error?r.push(`Main database: ${t.error}`):(o(K(e.mainPath)),n.push(`Main database saved to ${e.mainPath}`))}if(e.backupMetrics){let t=await c.post({payload:{database:"metrics",path:e.metricsPath}});t.error?r.push(`Metrics database: ${t.error}`):(l(K(e.metricsPath)),n.push(`Metrics database saved to ${e.metricsPath}`))}r.length>0&&n.length>0?(0,w.triggerErrorToast)({title:"Partial backup failure",body:(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[r.map((e,r)=>(0,t.jsx)(q.Text,{size:"14",children:e},r)),n.map((e,r)=>(0,t.jsx)(q.Text,{size:"14",children:e},`success-${r}`))]})}):r.length>0?(0,w.triggerErrorToast)({title:"Error creating backup",body:(0,t.jsx)("div",{className:"flex flex-col gap-1",children:r.map((e,r)=>(0,t.jsx)(q.Text,{size:"14",children:e},r))})}):n.length>0&&((0,w.triggerSuccessToast)({title:"Backup created",body:(0,t.jsx)("div",{className:"flex flex-col gap-1",children:n.map((e,r)=>(0,t.jsx)(q.Text,{size:"14",children:e},r))})}),p())},[c,p,o,l]),v=(0,S.useOnInvalid)((0,r.useMemo)(()=>$(!0,!0),[]));return(0,t.jsx)(x.Dialog,{title:"Backup databases",trigger:e,open:n,onOpenChange:f,contentVariants:{className:"w-[500px]"},onSubmit:d.handleSubmit(b,v),controls:(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(k.FormSubmitButton,{form:d,variant:"accent",size:"medium",children:"Create backup"})}),children:(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsx)(U.Paragraph,{size:"14",children:"Create backups of the databases. The backups will be saved to the specified paths on the server."}),(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(I.FieldSwitch,{name:"backupMain",form:d,fields:y,size:"small",group:!1}),(0,t.jsx)(z.Label,{children:"Main database"})]}),(0,t.jsx)(j.FieldText,{name:"mainPath",form:d,fields:y,autoComplete:"off"})]}),(0,t.jsx)(L.Separator,{}),(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(I.FieldSwitch,{name:"backupMetrics",form:d,fields:y,size:"small",group:!1}),(0,t.jsx)(z.Label,{children:"Metrics database"})]}),(0,t.jsx)(j.FieldText,{name:"metricsPath",form:d,fields:y,autoComplete:"off"})]})]})]})})}let Z=(0,r.createContext)({}),X=()=>(0,r.useContext)(Z);function J({children:e}){let n=function(){let[e,t]=(0,r.useState)(),[n,i]=(0,r.useState)(),a=(0,r.useCallback)((e,r)=>{t(e),i(r)},[t,i]),[o,s]=(0,r.useState)(),l=(0,r.useCallback)(e=>{t("confirm"),s(e)},[t,s]),u=(0,r.useCallback)(()=>{t(void 0),i(void 0),s(void 0)},[t,i,s]),c=(0,r.useCallback)(e=>{e||u()},[u]);return{dialog:e,id:n,openDialog:a,confirm:o,openConfirmDialog:l,closeDialog:u,onOpenChange:c}}();return(0,t.jsx)(Z.Provider,{value:n,children:e})}function Q(){let{dialog:e,openDialog:r,onOpenChange:x,closeDialog:w,confirm:S,openConfirmDialog:k}=X(),j=(0,h.useSyncerConnect)(),C=(0,h.useWallet)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.CmdKDialog,{open:"cmdk"===e,onOpenChange:x,setOpen:()=>r("cmdk")}),(0,t.jsx)(i.SettingsDialog,{open:"settings"===e,onOpenChange:x,showGpuSetting:!0}),(0,t.jsx)(p.RenterdSendSiacoinDialog,{}),(0,t.jsx)(o.WalletSingleAddressDetailsDialog,{address:C.data?.address,isValidating:C.isValidating,open:"addressDetails"===e,onOpenChange:x}),(0,t.jsx)(m.RenterdTransactionDetailsDialog,{}),(0,t.jsx)(a.SyncerConnectPeerDialog,{open:"connectPeer"===e,connect:e=>j.post({payload:e}),onOpenChange:x}),(0,t.jsx)(v.FilesBucketCreateDialog,{open:"filesCreateBucket"===e,onOpenChange:x}),(0,t.jsx)(y.FilesBucketDeleteDialog,{open:"filesDeleteBucket"===e,onOpenChange:x}),(0,t.jsx)(b.FilesBucketPolicyDialog,{open:"filesBucketPolicy"===e,onOpenChange:x}),(0,t.jsx)(l.FilesCreateDirectoryDialog,{open:"filesCreateDirectory"===e,onOpenChange:x}),(0,t.jsx)(f.FilesSearchBucketDialog,{open:"filesSearch"===e,onOpenChange:x}),(0,t.jsx)(M,{open:"fileRename"===e,onOpenChange:x}),(0,t.jsx)(u.HostsAllowBlockDialog,{open:"hostsManageAllowBlock"===e,onOpenChange:x}),(0,t.jsx)(c.HostsFilterAddressDialog,{open:"hostsFilterAddress"===e,onOpenChange:x}),(0,t.jsx)(g.HostsFilterPublicKeyDialog,{open:"hostsFilterPublicKey"===e,onOpenChange:x}),(0,t.jsx)(d.ContractsFilterPublicKeyDialog,{open:"contractsFilterPublicKey"===e,onOpenChange:x}),(0,t.jsx)(B,{open:"keysCreate"===e,onOpenChange:x}),(0,t.jsx)(V,{open:"bugReport"===e,onOpenChange:x}),(0,t.jsx)(Y,{open:"backup"===e,onOpenChange:x}),(0,t.jsx)(n.ConfirmDialog,{open:"confirm"===e,params:S,onOpenChange:e=>e&&S?k(S):w()})]})}},90234,e=>{"use strict";e.s(["columnsDefaultVisible",0,["actions","overview","data","time"],"defaultSortField",0,"","sortOptions",0,[]])},59077,e=>{"use strict";var t=e.i(91398);e.i(86663);var r=e.i(275),n=e.i(15222),i=e.i(75821),a=e.i(83571),o=e.i(91788),s=e.i(90234),l=e.i(29976),u=e.i(54413),c=e.i(21324),d=e.i(40548),f=e.i(41490),h=e.i(40480),p=e.i(929),m=e.i(24193),g=e.i(70765),y=e.i(40410),b=e.i(26069),v=e.i(91952),x=e.i(55404),w=e.i(82129),S=e.i(95443);e.i(86283);var k=e.i(53658),j=e.i(51503),C=e.i(69509),P=e.i(84588),_=e.i(73338),T=e.i(63761),E=e.i(57184);e.i(71487);var R=e.i(76993),M=e.i(89341);function D({id:e,trigger:r,contentProps:n,buttonProps:i}){return(0,t.jsx)(E.DropdownMenu,{trigger:r||(0,t.jsx)(u.Button,{variant:"ghost",icon:"hover",...i,children:(0,t.jsx)(R.CaretDown16,{})}),contentProps:{align:"start",...n,onClick:e=>{e.stopPropagation()}},children:(0,t.jsx)(A,{id:e})})}function A({id:e}){let r=(0,k.useContract)({params:{id:e}});return(0,t.jsx)(M.ContractContextMenuContent,{id:e,hostKey:r.data?.hostKey})}var F=e.i(73797),B=e.i(4327);function N({id:e,contentProps:r,buttonProps:n,trigger:i}){let a=(0,B.useAccountResetDrift)();return(0,t.jsxs)(E.DropdownMenu,{trigger:i||(0,t.jsx)(u.Button,{icon:"hover",variant:"ghost",...n,children:(0,t.jsx)(R.CaretDown16,{})}),contentProps:{align:"start",...r,onClick:e=>{e.stopPropagation()}},children:[(0,t.jsx)("div",{className:"px-1.5 py-1",children:(0,t.jsxs)(p.Text,{size:"14",weight:"medium",color:"subtle",children:["Account ",e.slice(0,20),"..."]})}),(0,t.jsx)(E.DropdownMenuLabel,{children:"Actions"}),(0,t.jsxs)(E.DropdownMenuItem,{onSelect:()=>a.post({params:{id:e}}),children:[(0,t.jsx)(E.DropdownMenuLeftSlot,{children:(0,t.jsx)(R.ResetAlt16,{})}),"Reset account drift"]}),(0,t.jsx)(E.DropdownMenuLabel,{children:"Copy"}),(0,t.jsxs)(E.DropdownMenuItem,{onSelect:()=>(0,F.copyToClipboard)(e,"account ID"),children:[(0,t.jsx)(E.DropdownMenuLeftSlot,{children:(0,t.jsx)(R.Copy16,{})}),"Account ID"]})]})}var O=e.i(53667),I=e.i(70472);function z({hostKey:e,contentProps:r,buttonProps:n,trigger:i}){return(0,t.jsx)(E.DropdownMenu,{trigger:i||(0,t.jsx)(u.Button,{variant:"ghost",icon:"hover",...n,children:(0,t.jsx)(R.CaretDown16,{})}),contentProps:{align:"start",...r,onClick:e=>{e.stopPropagation()}},children:(0,t.jsx)(U,{hostKey:e})})}function U({hostKey:e}){let r=(0,k.useHost)({params:{hostkey:e}}),n=(0,I.getHostAddress)(r.data);return(0,t.jsx)(j.HostContextMenuContent,{address:n,publicKey:e})}e.i(37869);var L=e.i(59999),H=e.i(36183),W=e.i(48684),V=e.i(26093);function q({data:e}){let{contractSizeTotal:r}=(0,V.useContracts)(),n=(0,o.useMemo)(()=>(0,d.objectEntries)(e).map(([e,t])=>({contractId:e,hostKey:t[0].hostKey,events:t.sort((e,t)=>new Date(e.time).getTime()<new Date(t.time).getTime()?1:-1)})).sort((e,t)=>e.events[0].size<t.events[0].size?1:-1),[e]),i=(0,o.useMemo)(()=>n.filter(({events:e})=>"bad"===e[0].to),[n]),a=(0,o.useMemo)(()=>n.filter(({events:e})=>"good"===e[0].to),[n]),s=(0,o.useMemo)(()=>i.reduce((e,{events:t})=>e.plus(t[0].size),new T.default(0)),[i]),l=(0,o.useMemo)(()=>r?.gt(0)?s.div(r).times(100):0,[s,r]);return(0,t.jsxs)("div",{"data-testid":"churn",className:"flex flex-col gap-2",children:[(0,t.jsxs)("div",{className:"flex gap-2 items-center pr-1",children:[(0,t.jsx)(p.Text,{size:"12",color:"subtle",ellipsis:!0,children:"contract changes"}),(0,t.jsx)("div",{className:"flex-1"}),(0,t.jsx)(b.Tooltip,{content:`${(0,L.humanBytes)(s)} of ${(0,L.humanBytes)(r)} contract size removed`,children:(0,t.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,t.jsxs)(p.Text,{size:"12",color:"contrast",ellipsis:!0,children:["churn: ",l.toFixed(2),"%"]}),(0,t.jsxs)(p.Text,{size:"12",color:"subtle",ellipsis:!0,children:["(",(0,L.humanBytes)(s)," / ",(0,L.humanBytes)(r),")"]})]})}),(0,t.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,t.jsx)(b.Tooltip,{content:`${a.length} contracts marked good`,children:(0,t.jsxs)(p.Text,{size:"12",color:"green",ellipsis:!0,className:"flex items-center",children:[(0,t.jsx)(R.Add16,{}),a.length]})}),(0,t.jsx)(b.Tooltip,{content:`${i.length} contracts marked bad`,children:(0,t.jsxs)(p.Text,{size:"12",color:"red",ellipsis:!0,className:"flex items-center",children:[(0,t.jsx)(R.Subtract16,{}),i.length]})})]})]}),(0,t.jsx)("div",{className:"flex flex-col gap-3 mb-2",children:n.map(({contractId:e,hostKey:r,events:n},i)=>(0,t.jsx)(G,{contractId:e,hostKey:r,events:n,i:i},e+r))})]})}function G({contractId:e,hostKey:r,events:n,i}){return(0,t.jsxs)("div",{"data-testid":e,className:"flex flex-col gap-[3px]",children:[(0,t.jsxs)("div",{className:"flex gap-2 items-center px-[3px]",children:[(0,t.jsxs)(p.Text,{size:"12",weight:"medium",ellipsis:!0,children:[i+1,"."]}),(0,t.jsx)("div",{className:"flex-1"}),(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)(p.Text,{size:"12",color:"subtle",ellipsis:!0,children:"contract"}),(0,t.jsx)(v.ValueCopyable,{size:"12",value:e,contextMenu:(0,t.jsx)(D,{id:e,buttonProps:{size:"none"},contentProps:{align:"end"}})})]}),(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)(p.Text,{size:"12",color:"subtle",ellipsis:!0,children:"host"}),(0,t.jsx)(v.ValueCopyable,{size:"12",value:r,label:"host key",contextMenu:(0,t.jsx)(z,{hostKey:r,buttonProps:{size:"none"},contentProps:{align:"end"}})})]})]}),n.map(({to:e,reason:r,size:n,time:i},a)=>(0,t.jsx)(b.Tooltip,{content:"good"===e?"good":`bad: ${r}`,align:"start",side:"bottom",children:(0,t.jsxs)("div",{className:(0,W.cx)("flex gap-2 justify-between mr-2 pr-1",0===a?"good"===e?"bg-green-400/20":"bg-red-400/20":"opacity-50"),children:[(0,t.jsxs)("div",{className:"flex gap-1 items-center overflow-hidden",children:[(0,t.jsx)(p.Text,{size:"12",color:"good"===e?"green":"red",children:"good"===e?(0,t.jsx)(R.Add16,{}):(0,t.jsx)(R.Subtract16,{})}),(0,t.jsx)(p.Text,{size:"12",ellipsis:!0,children:r})]}),(0,t.jsx)("div",{className:"flex-1"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(p.Text,{color:"subtle",size:"12",ellipsis:!0,children:"time"}),(0,t.jsx)(p.Text,{size:"12",ellipsis:!0,children:(0,H.formatRelative)(new Date(i),new Date)})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(p.Text,{color:"subtle",size:"12",ellipsis:!0,children:"size"}),(0,t.jsx)(p.Text,{size:"12",ellipsis:!0,children:(0,L.humanBytes)(n)})]})]})},e+r+i))]})}var K=e.i(62625);let $={origin:{render:({value:e})=>(0,t.jsxs)("div",{className:"flex justify-between w-full gap-2",children:[(0,t.jsx)(p.Text,{size:"12",color:"subtle",ellipsis:!0,children:"origin"}),(0,t.jsx)(p.Text,{size:"12",color:"contrast",ellipsis:!0,children:e})]})},contractID:{render:({value:e})=>(0,t.jsxs)("div",{className:"flex justify-between w-full gap-2",children:[(0,t.jsx)(p.Text,{size:"12",color:"subtle",ellipsis:!0,children:"contract ID"}),(0,t.jsx)(x.ValueMenu,{size:"12",value:e,menu:(0,t.jsx)(D,{id:e,contentProps:{align:"end"},buttonProps:{size:"none"}})})]})},accountID:{render:({value:e})=>(0,t.jsxs)("div",{className:"flex justify-between w-full gap-2",children:[(0,t.jsx)(p.Text,{size:"12",color:"subtle",ellipsis:!0,children:"account ID"}),(0,t.jsx)(v.ValueCopyable,{size:"12",value:e,label:"account ID",contextMenu:(0,t.jsx)(N,{id:e,contentProps:{align:"end"},buttonProps:{size:"none"}})})]})},hostKey:{render:function({value:e}){let r=(0,k.useHost)({params:{hostkey:e}});if(!r.data)return null;let n=(0,I.getHostAddress)(r.data);return(0,t.jsxs)("div",{className:"flex justify-between w-full gap-2",children:[(0,t.jsx)(p.Text,{size:"12",color:"subtle",ellipsis:!0,children:"host key"}),(0,t.jsx)(x.ValueMenu,{size:"12",value:e,menu:(0,t.jsx)(j.HostContextMenu,{publicKey:r.data.publicKey,address:n,contentProps:{align:"end"},buttonProps:{size:"none"}})})]})}},slabKey:{render:({value:e})=>(0,t.jsxs)("div",{className:"flex justify-between w-full gap-2",children:[(0,t.jsx)(p.Text,{size:"12",color:"subtle",ellipsis:!0,children:"slab key"}),(0,t.jsx)(v.ValueCopyable,{size:"12",value:e,label:"slab key"})]})},health:{render:({value:e})=>(0,t.jsxs)("div",{className:"flex justify-between items-center w-full gap-2",children:[(0,t.jsx)(p.Text,{size:"12",color:"subtle",ellipsis:!0,children:"health"}),(0,t.jsx)(p.Text,{size:"12",color:"contrast",ellipsis:!0,children:e})]})},objects:{render:function({value:e}){let{setActiveDirectory:r}=(0,C.useFilesManager)(),{closeDialog:n}=(0,P.useDialog)();return(0,t.jsxs)("div",{"data-testid":"objects",className:"flex flex-col h-[150px] overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center w-full gap-2",children:[(0,t.jsx)(p.Text,{size:"12",color:"subtle",ellipsis:!0,children:"objects"}),(0,t.jsx)(p.Text,{size:"12",color:"contrast",ellipsis:!0,children:e.length})]}),(0,t.jsx)("div",{className:"-mx-2 flex-1 overflow-hidden",children:(0,t.jsx)(y.ScrollArea,{children:(0,t.jsx)("div",{className:"flex flex-col gap-2 mt-2 mb-2 px-2",children:e.map(({bucket:e,key:i,health:a,size:o})=>{let s=`${e}${i}`,{color:l,icon:c,label:d}=(0,K.getFileHealth)({health:a,size:o,isDirectory:i.endsWith("/")});return(0,t.jsxs)("div",{className:"flex justify-between items-center w-full gap-2",children:[(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)(b.Tooltip,{content:d,children:(0,t.jsx)(p.Text,{size:"12",color:l,children:c})}),(0,t.jsx)(g.Link,{color:"accent",underline:"hover",size:"12",noWrap:!0,ellipsis:!0,onClick:()=>{r(()=>(0,_.getDirectorySegmentsFromPath)(s)),n()},children:s})]}),(0,t.jsx)(O.FileContextMenu,{path:s,contentProps:{align:"end"},trigger:(0,t.jsx)(u.Button,{"aria-label":"File context menu",variant:"ghost",icon:"hover",size:"none",children:(0,t.jsx)(R.CaretDown16,{})})})]},s)})})})})]})}},added:{render:({value:e})=>(0,t.jsxs)("div",{className:"flex justify-between w-full gap-2",children:[(0,t.jsx)(p.Text,{size:"12",color:"subtle",ellipsis:!0,children:"added"}),(0,t.jsx)(p.Text,{size:"12",color:"contrast",ellipsis:!0,children:e})]})},removed:{render:({value:e})=>(0,t.jsxs)("div",{className:"flex justify-between w-full gap-2",children:[(0,t.jsx)(p.Text,{size:"12",color:"subtle",ellipsis:!0,children:"removed"}),(0,t.jsx)(p.Text,{size:"12",color:"contrast",ellipsis:!0,children:e})]})},migrationsInterrupted:{render:({value:e})=>(0,t.jsxs)("div",{className:"flex justify-between w-full gap-2",children:[(0,t.jsx)(p.Text,{size:"12",color:"subtle",ellipsis:!0,children:"migrations interrupted"}),(0,t.jsx)(p.Text,{size:"12",weight:"medium",ellipsis:!0,children:e?"yes":"no"})]})},balance:{render:({value:e})=>(0,t.jsxs)("div",{className:"flex justify-between w-full gap-2",children:[(0,t.jsx)(p.Text,{size:"12",color:"subtle",ellipsis:!0,children:"balance"}),(0,t.jsx)(S.ValueSc,{size:"12",variant:"value",value:new T.default(e)})]})},address:{render:({value:e})=>(0,t.jsxs)("div",{className:"flex justify-between w-full gap-2",children:[(0,t.jsx)(p.Text,{size:"12",color:"subtle",ellipsis:!0,children:"address"}),(0,t.jsx)(v.ValueCopyable,{size:"12",value:e,type:"address"})]})},account:{render:({value:e})=>(0,t.jsxs)("div",{className:"flex justify-between w-full gap-2",children:[(0,t.jsx)(p.Text,{size:"12",color:"subtle",ellipsis:!0,children:"account"}),(0,t.jsx)(v.ValueCopyable,{size:"12",value:e,label:"account",contextMenu:(0,t.jsx)(N,{id:e,contentProps:{align:"end"},buttonProps:{size:"none"}})})]})},lostSectors:{render:({value:e})=>(0,t.jsxs)("div",{className:"flex justify-between w-full gap-2",children:[(0,t.jsx)(p.Text,{size:"12",color:"subtle",ellipsis:!0,children:"lost sectors"}),(0,t.jsx)(w.ValueNum,{size:"12",variant:"value",value:new T.default(e),format:e=>e.toString()})]})},churn:{render:({value:e})=>(0,t.jsx)(q,{data:e})}},Y=[{id:"actions",label:"",fixed:!0,cellClassName:"w-[50px] !pr-4 [&+*]:!pl-0",rowCellClassName:"align-top pt-[19px]",render:({data:{dismiss:e}})=>(0,t.jsx)(c.ControlGroup,{children:(0,t.jsx)(u.Button,{"aria-label":"dismiss alert",tip:"dismiss alert",onClick:e,children:(0,t.jsx)(R.Checkmark16,{})})})},{id:"overview",label:"overview",category:"general",contentClassName:"min-w-[200px] max-w-[800px]",rowCellClassName:"align-top pt-[5px]",render:({data:{message:e,severity:r,data:n}})=>(0,t.jsxs)("div",{className:"flex flex-col gap-1 py-4",children:[(0,t.jsxs)("div",{className:"flex gap-1 items-start",children:[(0,t.jsx)(l.Badge,{className:"relative top-[2px]",variant:"error"===r||"critical"===r?"red":"warning"===r?"amber":"gray",size:"small",children:r}),(0,t.jsx)(p.Text,{weight:"medium",children:e})]}),n.hint?(0,t.jsx)(p.Text,{size:"12",color:"subtle",children:n.hint}):null,n.error?(0,t.jsx)(m.ExpandableText,{text:n.error,size:"12",color:"subtle"}):null]})},{id:"data",label:"data",contentClassName:"w-[500px]",rowCellClassName:"align-top",category:"general",render:function({data:{data:e}}){let r=(0,o.useMemo)(()=>(0,d.objectEntries)($).map(([t])=>{let r=e[t];return null!=r&&("object"!=typeof r||!!Object.keys(r).length)&&{key:t,value:r}}).filter(e=>e),[e]);return 0===r.length?(0,t.jsx)("div",{className:"py-4 w-full",children:(0,t.jsx)(p.Text,{size:"12",color:"subtle",children:"No data"})}):(0,t.jsx)("div",{className:"py-4 w-full",children:(0,t.jsx)(f.Panel,{color:"subtle",className:"flex flex-col gap-1 w-full py-1",children:r.map(({key:e,value:n},i)=>{let a=$?.[e]?.render;return a?(0,t.jsxs)(o.Fragment,{children:[(0,t.jsx)("div",{className:"py-1 px-2",children:(0,t.jsx)(a,{value:n},e)}),r.length>1&&i<r.length-1&&(0,t.jsx)(h.Separator,{color:"verySubtle",className:"w-full"})]},e):null})})})}},{id:"time",label:"time",category:"general",contentClassName:"w-[120px] justify-end",rowCellClassName:"align-top pt-[26px]",render:({data:{timestamp:e}})=>(0,t.jsx)(p.Text,{color:"subtle",size:"12",ellipsis:!0,children:(0,H.formatRelative)(new Date(e),new Date)})}];var Z=e.i(80985),X=e.i(8854);let J=(0,o.createContext)({});function Q({children:e}){let l=function(){let{limit:e,offset:t}=(0,a.usePaginationOffset)(50),{filters:l,setFilter:u,removeFilter:c,removeLastFilter:d,resetFilters:f}=(0,i.useServerFilters)(),h=(0,o.useCallback)(e=>{e?u({id:"severity",value:e,label:e}):c("severity")},[u,c]),p=l.find(e=>"severity"===e.id)?.value,m=(0,o.useMemo)(()=>{let r={limit:e,offset:t};return p&&(r.severity=p),r},[e,t,p]),g=(0,k.useAlerts)({params:m,config:{swr:{refreshInterval:Z.defaultDatasetRefreshInterval}}}),y=(0,k.useAlertsDismiss)(),b=(0,o.useCallback)(async e=>{let t=await y.post({payload:[e]});t.error?(0,X.triggerErrorToast)({title:"Error dismissing alert",body:t.error}):(0,X.triggerSuccessToast)({title:"Alert has been dismissed"})},[y]),v=(0,o.useCallback)(async e=>{let t=await y.post({payload:e});t.error?(0,X.triggerErrorToast)({title:"Error dismissing alerts",body:t.error}):(0,X.triggerSuccessToast)({title:"Selected alerts have been dismissed"})},[y]),x=(0,o.useMemo)(()=>{if(g.data)return g.data?.alerts?.map(e=>({id:e.id,severity:e.severity,message:e.message,timestamp:e.timestamp,data:e.data,dismiss:()=>b(e.id)}))||[]},[g.data,b]),{configurableColumns:w,visibleColumns:S,visibleColumnIds:j,sortableColumns:C,toggleColumnVisibility:P,setColumnsVisible:_,setColumnsHidden:T,toggleSort:E,setSortDirection:R,setSortField:M,sortField:D,sortDirection:A,resetDefaultColumnVisibility:F}=(0,r.useTableState)("renterd/v0/alerts",{columns:Y,columnsDefaultVisible:s.columnsDefaultVisible,sortOptions:s.sortOptions,defaultSortField:s.defaultSortField}),B=(0,n.useDatasetState)({datasetPage:x,isValidating:g.isValidating,error:g.error,filters:l,offset:t}),N=(0,o.useMemo)(()=>({...g.data?.totals,all:Object.entries(g.data?.totals||{}).reduce((e,[t,r])=>e+r,0)}),[g.data]);return{datasetState:B,limit:e,offset:t,isLoading:g.isLoading,error:g.error,datasetPageTotal:x?.length||0,totals:N,datasetPage:x,configurableColumns:w,visibleColumns:S,visibleColumnIds:j,sortableColumns:C,toggleColumnVisibility:P,setColumnsVisible:_,setColumnsHidden:T,toggleSort:E,setSortDirection:R,setSortField:M,sortField:D,filters:l,setFilter:u,removeFilter:c,removeLastFilter:d,resetFilters:f,sortDirection:A,resetDefaultColumnVisibility:F,dismissOne:b,dismissMany:v,severityFilter:p,setSeverityFilter:h}}();return(0,t.jsx)(J.Provider,{value:l,children:e})}e.s(["AlertsProvider",()=>Q,"useAlerts",0,()=>(0,o.useContext)(J)],59077)}]);