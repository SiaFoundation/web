"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[246],{19634:function(e,s,l){l.d(s,{C:function(){return c}});var t=l(52322),i=l(24502),n=l(28420),r=l(52602);function a(){let{activeExplorerMode:e,setExplorerModeDirectory:s,setExplorerModeFlat:l,isViewingUploads:a,navigateToUploads:c}=(0,r.b)();return(0,t.jsxs)(i.h_2,{trigger:(0,t.jsx)(i.zxk,{"aria-label":"change explorer mode",tipSide:"bottom",tip:a?"Viewing uploads":"directory"===e?"Viewing directory explorer":"Viewing all bucket files",children:a?(0,t.jsx)(n.bQp,{}):"directory"===e?(0,t.jsx)(n.Qbr,{}):(0,t.jsx)(n.nDH,{})}),contentProps:{align:"start",side:"bottom",className:"max-w-[300px]"},children:[(0,t.jsxs)(i.Xiv,{onSelect:s,children:[(0,t.jsx)(i.KpP,{children:(0,t.jsx)(n.Qbr,{})}),"Directory"]}),(0,t.jsxs)(i.Xiv,{onSelect:l,children:[(0,t.jsx)(i.KpP,{children:(0,t.jsx)(n.nDH,{})}),"All files"]}),(0,t.jsxs)(i.Xiv,{onSelect:c,children:[(0,t.jsx)(i.KpP,{children:(0,t.jsx)(n.bQp,{})}),"Uploads"]})]})}function c(){let{isViewingBuckets:e}=(0,r.b)();return e?(0,t.jsx)(i.ua7,{content:"Viewing all buckets",children:(0,t.jsx)("div",{children:(0,t.jsx)(i.zxk,{state:"waiting",children:(0,t.jsx)(n.fi8,{size:16})})})}):(0,t.jsx)(a,{})}},27477:function(e,s,l){l.d(s,{A:function(){return Y},r:function(){return Z}});var t=l(52322),i=l(70825),n=l(4300),r=l(82285),a=l(2784),c=l(24502),o=l(28420),x=l(52602),d=l(19634);function u(){let{activeDirectory:e,setActiveDirectory:s}=(0,x.b)(),l=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let e=setTimeout(()=>{var e;null===(e=l.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},100);return()=>{clearTimeout(e)}},[e]),(0,t.jsxs)("div",{className:"flex gap-2 items-center h-full",children:[(0,t.jsx)(d.C,{}),(0,t.jsx)(c.xrM,{children:(0,t.jsxs)("div",{className:"flex gap-1 items-center h-full",children:[(0,t.jsx)(c.xvT,{onClick:()=>s(()=>[]),size:"18",weight:"semibold",className:"flex items-center cursor-pointer",noWrap:!0,children:"Buckets"}),e.length>0&&(0,t.jsx)(c.xvT,{size:"16",color:"verySubtle",className:"flex items-center",children:(0,t.jsx)(o.F3j,{})}),e.map((e,l)=>(0,t.jsxs)(a.Fragment,{children:[l>0&&(0,t.jsx)(c.xvT,{size:"16",color:"verySubtle",className:"flex items-center",children:(0,t.jsx)(o.F3j,{})}),(0,t.jsx)(c.xvT,{onClick:()=>s(e=>e.slice(0,l+1)),size:"18",weight:"semibold",className:"flex items-center cursor-pointer",noWrap:!0,children:e})]},e+l)),(0,t.jsx)("div",{ref:l})]})})]})}function h(){let{activeBucketName:e,setActiveDirectory:s}=(0,x.b)();return(0,t.jsxs)("div",{className:"flex gap-2 items-center h-full",children:[(0,t.jsx)(d.C,{}),(0,t.jsx)(c.xrM,{children:(0,t.jsxs)("div",{className:"flex gap-1 items-center h-full",children:[(0,t.jsx)(c.xvT,{onClick:()=>s(()=>[]),size:"18",weight:"semibold",className:"flex items-center cursor-pointer",noWrap:!0,children:"Buckets"}),(0,t.jsx)(c.xvT,{size:"16",color:"verySubtle",className:"flex items-center",children:(0,t.jsx)(o.F3j,{})}),(0,t.jsx)(c.xvT,{onClick:()=>null,size:"18",weight:"semibold",className:"flex items-center cursor-pointer",noWrap:!0,children:e}),(0,t.jsx)(c.xvT,{size:"16",color:"verySubtle",className:"flex items-center",children:(0,t.jsx)(o.F3j,{})}),(0,t.jsx)(c.xvT,{size:"18",weight:"semibold",className:"flex items-center cursor-pointer",noWrap:!0,children:"All files"})]})})]})}var j=l(94763),f=l(74424),m=l(89421),v=l(83894);function g(e){let{tableState:s}=e;return(0,t.jsxs)(c.J2e,{trigger:(0,t.jsxs)(c.zxk,{size:"small","aria-label":"configure view",tip:"Configure view",tipAlign:"end",children:[(0,t.jsx)(o.hiv,{}),"View",(0,t.jsx)(o.EMN,{})]}),contentProps:{align:"end",className:"max-w-[300px]"},children:[(0,t.jsxs)(c.WVB,{children:[(0,t.jsx)(c.__J,{htmlFor:"sortField",children:"Order by"}),(0,t.jsx)(c.kFS,{children:(0,t.jsx)(c.PhF,{id:"sortField",name:"sortField",value:s.sortField,onChange:e=>{s.setSortField(e.currentTarget.value)},children:Object.entries((0,v.Z)(m.Fo,"category")).map(e=>{let[s,l]=e;return(0,t.jsx)("optgroup",{label:s,children:l.map(e=>(0,t.jsx)(c.Wxm,{value:e.id,children:e.label},e.id))},s)})})})]}),(0,t.jsxs)(c.WVB,{children:[(0,t.jsx)(c.__J,{htmlFor:"sortDirection",children:"Direction"}),(0,t.jsx)(c.kFS,{children:(0,t.jsxs)(c.PhF,{id:"sortDirection",name:"sortDirection",value:s.sortDirection,onClick:e=>{e.stopPropagation()},onChange:e=>{s.setSortDirection(e.currentTarget.value)},children:[(0,t.jsx)(c.Wxm,{value:"desc",children:"descending"},"desc"),(0,t.jsx)(c.Wxm,{value:"asc",children:"ascending"},"asc")]})})]}),(0,t.jsx)(c.Clw,{}),(0,t.jsxs)(c.WVB,{children:[(0,t.jsx)(c.__J,{children:"Display properties"}),(0,t.jsx)(c.kFS,{children:(0,t.jsx)(c.zxk,{onClick:e=>{e.stopPropagation(),s.resetDefaultColumnVisibility()},children:"Reset default"})})]}),(0,t.jsx)(c.WVB,{children:(0,t.jsx)(c.j4H,{options:s.configurableColumns.map(e=>({label:e.label,value:e.id})),values:s.visibleColumns.map(e=>e.id),onChange:e=>s.toggleColumnVisibility(e)})})]})}var p=l(31925),b=l(64364),N=l(66232);let{useDropzone:k}=f;function y(){let{openDialog:e}=(0,r.Rh)(),{isViewingBuckets:s}=(0,x.b)(),{tableState:l}=(0,b.J)(),{uploadFiles:i}=(0,N.FW)(),n=(0,p.u)(),{getRootProps:a,getInputProps:d}=k({noDrag:!0,noClick:!n,onDrop:i});return(0,t.jsxs)("div",{className:"flex gap-2",children:[s?(0,t.jsxs)(c.zxk,{onClick:()=>e("filesCreateBucket"),tip:"Create bucket",children:[(0,t.jsx)(o.aXP,{}),"Create bucket"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.zxk,{onClick:()=>e("filesSearch"),tip:"Search files","aria-label":"search files",children:(0,t.jsx)(o.UBs,{})}),(0,t.jsxs)(c.zxk,{"aria-label":"Upload files",...a(),tip:"Upload files",disabled:!n,children:[(0,t.jsx)("input",{...d()}),(0,t.jsx)(o.bQp,{})]}),(0,t.jsx)(c.zxk,{"aria-label":"Create directory",disabled:!n,onClick:()=>e("filesCreateDirectory"),tip:"Create directory",children:(0,t.jsx)(o.L37,{})})]}),(0,t.jsx)(g,{tableState:l})]})}var T=l(96250),z=l(60381);function w(){let e=(0,T.Q5)({config:{swr:{refreshInterval:(0,z.sW)(5),revalidateOnFocus:!1}}});if(!e.data&&e.isValidating)return(0,t.jsx)(c.xgg,{className:"pr-1"});if(!e.data)return null;let s=e.data.totalObjectsSize+e.data.totalUnfinishedObjectsSize,l=s?e.data.totalSectorsSize/s:0;return(0,t.jsx)(c.ua7,{side:"bottom",content:(0,t.jsxs)("div",{className:"flex justify-between gap-6",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)(c.xvT,{size:"12",color:"subtle",children:"size of all files"}),(0,t.jsx)(c.xvT,{size:"12",color:"subtle",children:"with redundancy"}),!!l&&(0,t.jsx)(c.xvT,{size:"12",color:"subtle",children:"average redundancy factor"}),(0,t.jsx)(c.Z0O,{className:"w-full my-1"}),(0,t.jsx)(c.xvT,{size:"12",color:"subtle",children:"total storage utilization"})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1 items-end",children:[(0,t.jsx)(c.xvT,{size:"12",children:(0,z.vW)(e.data.totalObjectsSize)}),(0,t.jsx)(c.xvT,{size:"12",children:(0,z.vW)(e.data.totalSectorsSize)}),!!l&&(0,t.jsxs)(c.xvT,{size:"12",font:"mono",children:[l.toFixed(1),"x"]}),(0,t.jsx)(c.Z0O,{className:"w-full my-1"}),(0,t.jsx)(c.xvT,{size:"12",children:(0,z.vW)(e.data.totalUploadedSize)})]})]}),children:(0,t.jsx)(c.xvT,{size:"12",font:"mono",children:"".concat((0,z.vW)(e.data.totalObjectsSize)).concat(l?" @ ".concat(l.toFixed(1),"x"):"")})})}var C=l(32974);function S(){var e,s;let l=(0,T.Q5)({config:{swr:{refreshInterval:6e4,keepPreviousData:!0,revalidateOnFocus:!1}}}),{displayHealth:i,label:n}=(0,C.D)({health:null===(e=l.data)||void 0===e?void 0:e.minHealth,size:1,isDirectory:!0}),r=(null===(s=l.data)||void 0===s?void 0:s.totalObjectsSize)===0;return!l.data||r?null:(0,t.jsx)(c.ua7,{align:"end",content:(0,t.jsxs)("div",{className:"flex flex-col overflow-hidden mb-1",children:[(0,t.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,t.jsx)(c.xvT,{size:"12",children:n}),(0,t.jsxs)(c.xvT,{size:"12",children:[(100*i).toFixed(0),"%"]})]}),(0,t.jsx)(c.Z0O,{className:"w-full my-1.5"}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(c.xvT,{size:"12",color:"subtle",children:"Health is calculated as the minimum health value from across all file slabs. For directories this is across all contained files."}),(0,t.jsx)(c.xvT,{size:"12",color:"subtle",children:"Slab health is calculated as the number of shards with active contracts in the autopilot contract set above the minimum required shards and expressed as a percentage."})]}),(0,t.jsx)(c.Z0O,{className:"w-full my-1.5"}),(0,t.jsxs)("div",{className:"flex gap-3 justify-between",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)(c.xvT,{size:"12",color:"subtle",children:"excellent health"}),(0,t.jsx)(c.xvT,{size:"12",color:"subtle",children:"good health"}),(0,t.jsx)(c.xvT,{size:"12",color:"subtle",children:"poor health"})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1 items-end",children:[(0,t.jsxs)(c.xvT,{size:"12",color:"subtle",children:[100*C.V.excellent,"%"]}),(0,t.jsxs)(c.xvT,{size:"12",color:"subtle",children:[100*C.V.good,"% -"," ",100*C.V.excellent,"%"]}),(0,t.jsxs)(c.xvT,{size:"12",color:"subtle",children:[100*C.V.poor,"% - ",100*C.V.good,"%"]})]})]})]}),children:(0,t.jsx)(c.xvT,{size:"12",font:"mono",className:"flex",children:n})})}var F=l(16211),D=l(28924),P=l(69367);function _(){let e=(0,F.n)(),s=(0,D.s)(),l=(0,P.F)(),i=(0,a.useMemo)(()=>e.isSynced?null:(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)(c.xvT,{size:"12",font:"mono",weight:"medium",color:"amber",children:"Uploads are disabled until renterd is synced."}),(0,t.jsx)(c.nvN,{size:"12",children:"The blockchain must be fully synced before uploading files. This can take a while depending on your hardware and network connection."})]},"syncStatus"),[e.isSynced]),n=(0,a.useMemo)(()=>s.active?(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)(c.xvT,{size:"12",font:"mono",weight:"medium",color:"amber",children:"Autopilot is currently disabled."}),(0,t.jsx)(c.nvN,{size:"12",children:"Files and contracts will not be automatically maintained while autopilot is disabled."})]},"autopilotNotConfigured"):null,[s.active]),r=(0,a.useMemo)(()=>l.active?(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)(c.xvT,{size:"12",font:"mono",weight:"medium",color:"amber",children:"Uploads are disabled until settings are configured."}),(0,t.jsxs)(c.nvN,{size:"12",children:["There are not enough contracts to upload data yet. Redundancy is configured to use ",l.required," shards which means at least that many contracts are required."]})]},"notEnoughContracts"):null,[l]),x=(0,a.useMemo)(()=>[i,n,r].filter(Boolean),[i,n,r]);if(x.length)return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.J2e,{trigger:(0,t.jsx)(c.zxk,{variant:"ghost",icon:"contrast",color:"amber",children:(0,t.jsx)(o.qdM,{})}),children:(0,t.jsx)("div",{className:"flex flex-col gap-3 px-1 py-2",children:x})}),(0,t.jsx)(c.Z0O,{variant:"vertical",className:"h-full"})]})}var O=l(69903);function V(){var e;let{isViewingABucket:s,activeExplorerMode:l}=(0,x.b)(),{datasetPageTotal:i}=(0,b.J)(),{datasetPageTotal:n}=(0,O.o)(),r=(0,T.Q5)({config:{swr:{refreshInterval:6e4,keepPreviousData:!0,revalidateOnFocus:!1}}}),a=(null===(e=r.data)||void 0===e?void 0:e.numObjects)||0;return s?(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)(c.ua7,{side:"bottom",content:"Number of files in page of current directory",children:(0,t.jsx)(c.xvT,{size:"12",font:"mono",children:("flat"===l?n:i).toLocaleString()})}),(0,t.jsx)(c.ua7,{side:"bottom",content:"Number of files across all buckets",children:(0,t.jsx)(c.xvT,{size:"12",font:"mono",children:r.data?"of ".concat(a.toLocaleString()," files"):" files"})})]}):(0,t.jsx)(c.ua7,{side:"bottom",content:"Number of files across all buckets",children:r.data?(0,t.jsxs)(c.xvT,{size:"12",font:"mono",children:[a.toLocaleString()," files"]}):(0,t.jsx)(c.xgg,{})})}function W(){return(0,t.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,t.jsx)(_,{}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(c.ua7,{side:"bottom",content:"Filtered statistics",children:(0,t.jsx)(c.xvT,{size:"12",color:"verySubtle",children:(0,t.jsx)(o.q0D,{})})}),(0,t.jsx)(V,{})]}),(0,t.jsx)(c.Z0O,{variant:"vertical",className:"h-full"}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(c.ua7,{side:"bottom",content:"Global statistics",children:(0,t.jsx)(c.xvT,{size:"12",color:"verySubtle",children:(0,t.jsx)(o.RFr,{})})}),(0,t.jsx)(w,{}),(0,t.jsx)(S,{})]})]})}var M=l(94225);function B(e){let{placeholder:s}=e,{setFilter:l,removeFilter:i,fileNamePrefixFilter:n}=(0,x.b)(),[r,d]=(0,a.useState)(n),[u]=(0,M.Nr)(r,500);return(0,a.useEffect)(()=>{n!==r&&d(n)},[n]),(0,a.useEffect)(()=>{n!==u&&(u.length?l({id:"fileNamePrefix",label:"",value:u}):i("fileNamePrefix"))},[u]),(0,t.jsxs)("div",{className:"flex gap-1 flex-1",children:[(0,t.jsx)(c.nvn,{"aria-label":"filter files in current directory",variant:"ghost",focus:"none",placeholder:s||"Filter files in current directory",value:r,onChange:e=>d(e.currentTarget.value),className:"w-full !pl-0"}),!!r.length&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.zxk,{variant:"ghost",onClick:()=>d(""),children:(0,t.jsx)(o.PcV,{})}),(0,t.jsx)(c.Z0O,{variant:"vertical",className:"h-full"})]})]})}function J(){let{isViewingABucket:e,isViewingBuckets:s}=(0,x.b)(),{limit:l,marker:i,nextMarker:n,isMore:r,datasetPageTotal:a,datasetState:o}=(0,b.J)();return(0,t.jsxs)("div",{className:"flex gap-3 w-full",children:[s?(0,t.jsx)("div",{className:"flex-1"}):(0,t.jsx)(B,{}),(0,t.jsx)(W,{}),e&&(0,t.jsx)(c._5,{isMore:r,marker:i,nextMarker:n,limit:l,pageTotal:a,isLoading:"loading"===o})]})}function E(){let{limit:e,datasetPageTotal:s,datasetState:l,marker:i,nextMarker:n,isMore:r}=(0,O.o)();return(0,t.jsxs)("div",{className:"flex gap-3 w-full",children:[(0,t.jsx)(B,{placeholder:"Filter files in current bucket"}),(0,t.jsx)(W,{}),(0,t.jsx)(c._5,{marker:i,nextMarker:n,isMore:r,limit:e,pageTotal:s,isLoading:"loading"===l})]})}function L(e){let{multiSelect:s}=e,l=(0,a.useMemo)(()=>Object.entries(s.selection).map(e=>{let[s,l]=e;return{bucket:l.bucket.name,prefix:l.key}}),[s.selection]),{openConfirmDialog:i}=(0,r.Rh)(),n=(0,T.Lh)(),x=(0,a.useCallback)(async()=>{await (0,c.eKZ)(l.map(e=>{let{bucket:s,prefix:l}=e;return n.post({payload:{bucket:s,prefix:l}})}),{toastError:e=>{let{totalCount:s,errorCount:l,successCount:t}=e;return{title:"".concat((0,z._6)(t,"file")," deleted"),body:"Error deleting ".concat(l,"/").concat(s," total files.")}},toastSuccess:e=>{let{totalCount:s}=e;return{title:"".concat((0,z._6)(s,"file")," deleted")}},after:()=>{s.deselectAll()}})},[s,l,n]);return(0,t.jsx)(c.zxk,{"aria-label":"delete selected files",tip:"Delete selected files",onClick:()=>{i({title:"Delete files",action:"Delete",variant:"red",body:(0,t.jsx)("div",{className:"flex flex-col gap-1",children:(0,t.jsxs)(c.nvN,{size:"14",children:["Are you sure you would like to delete the"," ",(0,z._6)(s.selectionCount,"selected file"),"?"]})}),onConfirm:async()=>{x()}})},children:(0,t.jsx)(o.Jrl,{})})}function Q(){let{openConfirmDialog:e}=(0,r.Rh)(),{multiSelect:s,moveSelectedFiles:l,moveSelectedFilesOperationCount:i}=(0,b.J)();return(0,t.jsx)(c.zxk,{disabled:0===i,"aria-label":"move selected files to the current directory",tip:"Move selected files to the current directory",onClick:()=>{e({title:"Move files",action:"Move",variant:"accent",body:(0,t.jsx)("div",{className:"flex flex-col gap-1",children:(0,t.jsxs)(c.nvN,{size:"14",children:["Are you sure you would like to move the"," ",s.selectionCount.toLocaleString()," selected files to the current directory?"]})}),onConfirm:async()=>{l()}})},children:(0,t.jsx)(o.jef,{})})}function R(){let{multiSelect:e}=(0,b.J)();return(0,t.jsxs)(c.hv1,{multiSelect:e,entityWord:"file",children:[(0,t.jsx)(Q,{}),(0,t.jsx)(L,{multiSelect:e})]})}function A(){let{multiSelect:e}=(0,O.o)();return(0,t.jsx)(c.hv1,{multiSelect:e,entityWord:"file",children:(0,t.jsx)(L,{multiSelect:e})})}function U(){let{openDialog:e}=(0,r.Rh)(),{tableState:s}=(0,O.o)();return(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(c.zxk,{onClick:()=>e("filesSearch"),tip:"Search files","aria-label":"search files",children:(0,t.jsx)(o.UBs,{})}),(0,t.jsx)(g,{tableState:s})]})}let Y=j.J;function Z(){let{openDialog:e}=(0,r.Rh)(),{isViewingBuckets:s,activeExplorerMode:l}=(0,x.b)();return"directory"===l||s?{title:"Files",navTitle:null,routes:n._,sidenav:(0,t.jsx)(i.e,{}),openSettings:()=>e("settings"),nav:(0,t.jsx)(u,{}),stats:(0,t.jsx)(J,{}),actions:(0,t.jsx)(y,{}),dockedControls:(0,t.jsx)(R,{})}:{title:"Files",navTitle:null,routes:n._,sidenav:(0,t.jsx)(i.e,{}),openSettings:()=>e("settings"),nav:(0,t.jsx)(h,{}),stats:(0,t.jsx)(E,{}),actions:(0,t.jsx)(U,{}),dockedControls:(0,t.jsx)(A,{})}}},28924:function(e,s,l){l.d(s,{s:function(){return i}});var t=l(96250);function i(){var e;return{active:!(null===(e=(0,t.e$)().data)||void 0===e?void 0:e.enabled)}}},70348:function(e,s,l){l.d(s,{h:function(){return F}});var t=l(52322),i=l(24502),n=l(64364),r=l(28420),a=l(4300),c=l(28924),o=l(69367);function x(){return(0,t.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px]",children:[(0,t.jsx)(i.xvT,{children:(0,t.jsx)(r.Ckx,{className:"scale-[200%]"})}),(0,t.jsx)(i.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:"Error fetching files."})]})}var d=l(52602);function u(){let{filters:e,resetFilters:s}=(0,d.b)();return(0,t.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px]",children:[(0,t.jsx)(i.xvT,{children:(0,t.jsx)(r.Hb6,{className:"scale-[200%]"})}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 items-center",children:[(0,t.jsx)(i.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:"No files matching filters."}),!!e.length&&(0,t.jsx)(i.zxk,{onClick:e=>{e.stopPropagation(),s()},children:"Clear filters"})]})]})}function h(){let{activeBucketName:e,activeDirectory:s,setActiveDirectory:l}=(0,d.b)();return s.length>1?(0,t.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px] cursor-pointer",children:[(0,t.jsx)(i.xvT,{children:(0,t.jsx)(r.Y9T,{className:"scale-[200%]"})}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 items-center",children:[(0,t.jsx)(i.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:"The current directory does not contain any files yet, drag and drop files or click here to start uploading."}),(0,t.jsx)(i.zxk,{onClick:e=>{e.stopPropagation(),l(e=>e.slice(0,-1))},children:"Back"})]})]}):(0,t.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px] cursor-pointer",children:[(0,t.jsx)(i.xvT,{children:(0,t.jsx)(r.Y9T,{className:"scale-[200%]"})}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 items-center",children:[(0,t.jsxs)(i.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:["The ",(0,t.jsx)(i.EKh,{children:e})," bucket does not contain any files, drag and drop files or click here to start uploading."]}),(0,t.jsx)(i.Qjf,{href:a._.buckets.index,onClick:e=>{e.stopPropagation()},children:"View buckets list"})]})]})}var j=l(82285);function f(){let{openDialog:e}=(0,j.Rh)();return(0,t.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px] cursor-pointer",children:[(0,t.jsx)(i.xvT,{children:(0,t.jsx)(r.fi8,{className:"scale-[200%]"})}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 items-center",children:[(0,t.jsx)(i.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:"Create a bucket to get started. Buckets are distinct storage areas that you can use to organize your files."}),(0,t.jsxs)(i.zxk,{onClick:()=>e("filesCreateBucket"),tip:"Create bucket",children:[(0,t.jsx)(r.aXP,{}),"Create bucket"]})]})]})}function m(){let{isViewingRootOfABucket:e,isViewingBuckets:s}=(0,d.b)(),{datasetState:l}=(0,n.J)(),j=(0,c.s)(),m=(0,o.F)();return"noneOnPage"===l?(0,t.jsx)(i.xJ6,{}):"noneMatchingFilters"===l?(0,t.jsx)(u,{}):"error"===l?(0,t.jsx)(x,{}):e&&"noneYet"===l&&j.active?(0,t.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px] cursor-pointer",children:[(0,t.jsx)(i.xvT,{children:(0,t.jsx)(r.Y9T,{className:"scale-[200%]"})}),(0,t.jsxs)("div",{className:"flex flex-col gap-6 justify-center items-center",children:[(0,t.jsxs)(i.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:["Before you can upload files you must configure and enable your settings. Once enabled, ",(0,t.jsx)(i.EKh,{children:"renterd"})," will find contracts with hosts based on the settings. ",(0,t.jsx)(i.EKh,{children:"renterd"})," will also repair your data as hosts come and go."]}),(0,t.jsx)(i.Qjf,{variant:"accent",href:a._.config.index,children:"Configure"})]})]}):e&&"noneYet"===l&&m.active?(0,t.jsxs)("div",{className:"flex flex-col gap-12 justify-center items-center h-[400px] cursor-pointer",children:[(0,t.jsx)(i.xvT,{children:(0,t.jsx)(r.Y9T,{className:"scale-[200%]"})}),(0,t.jsxs)("div",{className:"flex flex-col gap-4 justify-center items-center",children:[(0,t.jsxs)(i.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:["There are not enough contracts to upload data yet. Redundancy is configured to use ",m.required," shards which means at least that many contracts are required."]}),(0,t.jsxs)(i.xvT,{size:"30",className:"text-center max-w-[500px]",children:[m.count,"/",m.required]})]})]}):"noneYet"===l?s?(0,t.jsx)(f,{}):(0,t.jsx)(h,{}):null}var v=l(31925),g=l(60381),p=l(66232);function b(){let{isViewingBuckets:e}=(0,d.b)(),{uploadFiles:s}=(0,p.FW)(),{datasetPage:l,datasetPageTotal:r,datasetState:a,cellContext:c,onDragEnd:o,onDragOver:x,onDragStart:u,onDragCancel:h,onDragMove:j,draggingObjects:f,tableState:b}=(0,n.J)(),N=(0,v.u)();return(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)(i.fhJ,{testId:"filesDropzone",onDrop:s,noClick:!N||r>0,noDrag:!N,children:(0,t.jsx)(i.iA_,{testId:e?"bucketsTable":"filesTable",isLoading:"loading"===a,emptyState:(0,t.jsx)(m,{}),pageSize:10,data:l,context:c,columns:b.visibleColumns,sortableColumns:b.sortableColumns,sortField:b.sortField,sortDirection:b.sortDirection,toggleSort:b.toggleSort,rowSize:"dense",onDragStart:u,onDragOver:x,onDragEnd:o,onDragCancel:h,onDragMove:j,draggingDatums:f,draggingMultipleLabel:e=>"move ".concat((0,g._6)(e,"file"))})})})}function N(){return(0,t.jsx)("div",{className:"p-6 min-w-fit",children:(0,t.jsx)(b,{})})}function k(){return(0,t.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px]",children:[(0,t.jsx)(i.xvT,{children:(0,t.jsx)(r.Ckx,{className:"scale-[200%]"})}),(0,t.jsx)(i.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:"Error fetching files."})]})}function y(){let{filters:e,resetFilters:s}=(0,d.b)();return(0,t.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px]",children:[(0,t.jsx)(i.xvT,{children:(0,t.jsx)(r.Hb6,{className:"scale-[200%]"})}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 items-center",children:[(0,t.jsx)(i.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:"No files matching filters."}),!!e.length&&(0,t.jsx)(i.zxk,{onClick:e=>{e.stopPropagation(),s()},children:"Clear filters"})]})]})}function T(){let{activeBucketName:e}=(0,d.b)();return(0,t.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px] cursor-pointer",children:[(0,t.jsx)(i.xvT,{children:(0,t.jsx)(r.Y9T,{className:"scale-[200%]"})}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 items-center",children:[(0,t.jsxs)(i.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:["The ",(0,t.jsx)(i.EKh,{children:e})," bucket does not contain any files."]}),(0,t.jsx)(i.Qjf,{href:a._.buckets.index,onClick:e=>{e.stopPropagation()},children:"View buckets list"})]})]})}var z=l(69903);function w(){let{datasetState:e}=(0,z.o)();return"noneOnPage"===e?(0,t.jsx)(i.xJ6,{}):"noneMatchingFilters"===e?(0,t.jsx)(y,{}):"error"===e?(0,t.jsx)(k,{}):"noneYet"===e?(0,t.jsx)(T,{}):null}function C(){let{datasetPage:e,datasetState:s,cellContext:l,tableState:n}=(0,z.o)();return(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)(i.iA_,{testId:"filesTable",isLoading:"loading"===s,emptyState:(0,t.jsx)(w,{}),pageSize:10,data:e,context:l,columns:n.visibleColumns,sortableColumns:n.sortableColumns,sortField:n.sortField,sortDirection:n.sortDirection,toggleSort:n.toggleSort,rowSize:"dense"})})}function S(){return(0,t.jsx)("div",{className:"p-6 min-w-fit",children:(0,t.jsx)(C,{})})}function F(){let{isViewingBuckets:e,activeExplorerMode:s}=(0,d.b)();return"directory"===s||e?(0,t.jsx)(N,{}):(0,t.jsx)(S,{})}},31925:function(e,s,l){l.d(s,{u:function(){return r}});var t=l(16211),i=l(52602),n=l(69367);function r(){let{isViewingABucket:e}=(0,i.b)(),s=(0,t.n)(),l=(0,n.F)();return e&&!l.active&&s.isSynced}}}]);