"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[175],{12336:(e,s,l)=>{l.d(s,{g:()=>c});var t=l(6029),i=l(66875),n=l(640),r=l(91950);function a(){let{activeExplorerMode:e,setExplorerModeDirectory:s,setExplorerModeFlat:l,isViewingUploads:a,navigateToActiveBucketUploads:c}=(0,r.G)();return(0,t.jsxs)(i.rId,{trigger:(0,t.jsx)(i.$nd,{"aria-label":"change explorer mode",tipSide:"bottom",tip:a?"Viewing uploads":"directory"===e?"Viewing directory explorer":"Viewing all bucket files",children:a?(0,t.jsx)(n.q4y,{}):"directory"===e?(0,t.jsx)(n.efV,{}):(0,t.jsx)(n.m8f,{})}),contentProps:{align:"start",side:"bottom",className:"max-w-[300px]"},children:[(0,t.jsxs)(i._26,{onSelect:s,children:[(0,t.jsx)(i.wO3,{children:(0,t.jsx)(n.efV,{})}),"Directory"]}),(0,t.jsxs)(i._26,{onSelect:l,children:[(0,t.jsx)(i.wO3,{children:(0,t.jsx)(n.m8f,{})}),"All files"]}),(0,t.jsxs)(i._26,{onSelect:c,children:[(0,t.jsx)(i.wO3,{children:(0,t.jsx)(n.q4y,{})}),"Uploads"]})]})}function c(){let{isViewingBuckets:e}=(0,r.G)();return e?(0,t.jsx)(i.m_M,{content:"Viewing all buckets",children:(0,t.jsx)("div",{children:(0,t.jsx)(i.$nd,{state:"waiting",children:(0,t.jsx)(n.qds,{size:16})})})}):(0,t.jsx)(a,{})}},12357:(e,s,l)=>{l.d(s,{P:()=>U,g:()=>I});var t=l(6029),i=l(91761),n=l(26305),r=l(74447),a=l(55729),c=l(66875),o=l(640),d=l(91950),x=l(12336);function j(){let{activeDirectory:e,setActiveDirectory:s}=(0,d.G)(),l=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let e=setTimeout(()=>{var e;null==(e=l.current)||e.scrollIntoView({behavior:"smooth"})},100);return()=>{clearTimeout(e)}},[e]),(0,t.jsxs)("div",{className:"flex gap-2 items-center h-full",children:[(0,t.jsx)(x.g,{}),(0,t.jsx)(c.FKN,{children:(0,t.jsxs)("div",{className:"flex gap-1 items-center h-full",children:[(0,t.jsx)(c.EYj,{onClick:()=>s(()=>[]),size:"18",weight:"semibold",className:"flex items-center cursor-pointer",noWrap:!0,children:"Buckets"}),e.length>0&&(0,t.jsx)(c.EYj,{size:"16",color:"verySubtle",className:"flex items-center",children:(0,t.jsx)(o.VKT,{})}),e.map((e,l)=>(0,t.jsxs)(a.Fragment,{children:[l>0&&(0,t.jsx)(c.EYj,{size:"16",color:"verySubtle",className:"flex items-center",children:(0,t.jsx)(o.VKT,{})}),(0,t.jsx)(c.EYj,{onClick:()=>s(e=>e.slice(0,l+1)),size:"18",weight:"semibold",className:"flex items-center cursor-pointer",noWrap:!0,children:e})]},e+l)),(0,t.jsx)("div",{ref:l})]})})]})}function u(){let{activeBucketName:e,setActiveDirectory:s}=(0,d.G)();return(0,t.jsxs)("div",{className:"flex gap-2 items-center h-full",children:[(0,t.jsx)(x.g,{}),(0,t.jsx)(c.FKN,{children:(0,t.jsxs)("div",{className:"flex gap-1 items-center h-full",children:[(0,t.jsx)(c.EYj,{onClick:()=>s(()=>[]),size:"18",weight:"semibold",className:"flex items-center cursor-pointer",noWrap:!0,children:"Buckets"}),(0,t.jsx)(c.EYj,{size:"16",color:"verySubtle",className:"flex items-center",children:(0,t.jsx)(o.VKT,{})}),(0,t.jsx)(c.EYj,{onClick:()=>null,size:"18",weight:"semibold",className:"flex items-center cursor-pointer",noWrap:!0,children:e}),(0,t.jsx)(c.EYj,{size:"16",color:"verySubtle",className:"flex items-center",children:(0,t.jsx)(o.VKT,{})}),(0,t.jsx)(c.EYj,{size:"18",weight:"semibold",className:"flex items-center cursor-pointer",noWrap:!0,children:"All files"})]})})]})}var h=l(29308),f=l(53761),m=l(26249),g=l(98362);function p(e){let{tableState:s}=e;return(0,t.jsxs)(c.AMh,{trigger:(0,t.jsxs)(c.$nd,{size:"small","aria-label":"configure view",tip:"Configure view",tipAlign:"end",children:[(0,t.jsx)(o.s7Y,{}),"View",(0,t.jsx)(o.NNJ,{})]}),contentProps:{align:"end",className:"max-w-[300px]"},children:[(0,t.jsxs)(c.iy7,{children:[(0,t.jsx)(c.JU7,{htmlFor:"sortField",children:"Order by"}),(0,t.jsx)(c.DF3,{children:(0,t.jsx)(c.l6P,{id:"sortField",name:"sortField",value:s.sortField,onChange:e=>{s.setSortField(e.currentTarget.value)},children:Object.entries((0,g.A)(m.vP,"category")).map(e=>{let[s,l]=e;return(0,t.jsx)("optgroup",{label:s,children:l.map(e=>(0,t.jsx)(c.c$x,{value:e.id,children:e.label},e.id))},s)})})})]}),(0,t.jsxs)(c.iy7,{children:[(0,t.jsx)(c.JU7,{htmlFor:"sortDirection",children:"Direction"}),(0,t.jsx)(c.DF3,{children:(0,t.jsxs)(c.l6P,{id:"sortDirection",name:"sortDirection",value:s.sortDirection,onClick:e=>{e.stopPropagation()},onChange:e=>{s.setSortDirection(e.currentTarget.value)},children:[(0,t.jsx)(c.c$x,{value:"desc",children:"descending"},"desc"),(0,t.jsx)(c.c$x,{value:"asc",children:"ascending"},"asc")]})})]}),(0,t.jsx)(c.bXX,{}),(0,t.jsxs)(c.iy7,{children:[(0,t.jsx)(c.JU7,{children:"Display properties"}),(0,t.jsx)(c.DF3,{children:(0,t.jsx)(c.$nd,{onClick:e=>{e.stopPropagation(),s.resetDefaultColumnVisibility()},children:"Reset default"})})]}),(0,t.jsx)(c.iy7,{children:(0,t.jsx)(c.PSc,{options:s.configurableColumns.map(e=>({label:e.label,value:e.id})),values:s.visibleColumns.map(e=>e.id),onChange:e=>s.toggleColumnVisibility(e)})})]})}var v=l(70023),b=l(65768),N=l(45058);let{VB:y}=f;function w(){let{openDialog:e}=(0,r.sp)(),{isViewingBuckets:s}=(0,d.G)(),{tableState:l}=(0,b.u)(),{uploadFiles:i}=(0,N.fH)(),n=(0,v.B)(),{getRootProps:a,getInputProps:x}=y({noDrag:!0,noClick:!n,onDrop:i});return(0,t.jsxs)("div",{className:"flex gap-2",children:[s?(0,t.jsxs)(c.$nd,{onClick:()=>e("filesCreateBucket"),tip:"Create bucket",children:[(0,t.jsx)(o.X4t,{}),"Create bucket"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.$nd,{onClick:()=>e("filesSearch"),tip:"Search files","aria-label":"search files",children:(0,t.jsx)(o.A2D,{})}),(0,t.jsxs)(c.$nd,{"aria-label":"Upload files",...a(),tip:"Upload files",disabled:!n,children:[(0,t.jsx)("input",{...x()}),(0,t.jsx)(o.q4y,{})]}),(0,t.jsx)(c.$nd,{"aria-label":"Create directory",disabled:!n,onClick:()=>e("filesCreateDirectory"),tip:"Create directory",children:(0,t.jsx)(o.nsL,{})})]}),(0,t.jsx)(p,{tableState:l})]})}var k=l(26265),z=l(68944);function E(){let e=(0,k.OJ)({config:{swr:{refreshInterval:(0,z.Po)(5),revalidateOnFocus:!1}}});if(!e.data&&e.isValidating)return(0,t.jsx)(c.XC,{className:"pr-1"});if(!e.data)return null;let s=e.data.totalObjectsSize+e.data.totalUnfinishedObjectsSize,l=s?e.data.totalSectorsSize/s:0;return(0,t.jsx)(c.m_M,{side:"bottom",content:(0,t.jsxs)("div",{className:"flex justify-between gap-6",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)(c.EYj,{size:"12",color:"subtle",children:"size of all files"}),(0,t.jsx)(c.EYj,{size:"12",color:"subtle",children:"with redundancy"}),!!l&&(0,t.jsx)(c.EYj,{size:"12",color:"subtle",children:"average redundancy factor"}),(0,t.jsx)(c.wvv,{className:"w-full my-1"}),(0,t.jsx)(c.EYj,{size:"12",color:"subtle",children:"total storage utilization"})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1 items-end",children:[(0,t.jsx)(c.EYj,{size:"12",children:(0,z.p6)(e.data.totalObjectsSize)}),(0,t.jsx)(c.EYj,{size:"12",children:(0,z.p6)(e.data.totalSectorsSize)}),!!l&&(0,t.jsxs)(c.EYj,{size:"12",font:"mono",children:[l.toFixed(1),"x"]}),(0,t.jsx)(c.wvv,{className:"w-full my-1"}),(0,t.jsx)(c.EYj,{size:"12",children:(0,z.p6)(e.data.totalUploadedSize)})]})]}),children:(0,t.jsx)(c.EYj,{size:"12",font:"mono",children:"".concat((0,z.p6)(e.data.totalObjectsSize)).concat(l?" @ ".concat(l.toFixed(1),"x"):"")})})}var C=l(38014);function S(){var e,s;let l=(0,k.OJ)({config:{swr:{refreshInterval:6e4,keepPreviousData:!0,revalidateOnFocus:!1}}}),{displayHealth:i,label:n}=(0,C.x)({health:null==(e=l.data)?void 0:e.minHealth,size:1,isDirectory:!0}),r=(null==(s=l.data)?void 0:s.totalObjectsSize)===0;return!l.data||r?null:(0,t.jsx)(c.m_M,{align:"end",content:(0,t.jsxs)("div",{className:"flex flex-col overflow-hidden mb-1",children:[(0,t.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,t.jsx)(c.EYj,{size:"12",children:n}),(0,t.jsxs)(c.EYj,{size:"12",children:[(100*i).toFixed(0),"%"]})]}),(0,t.jsx)(c.wvv,{className:"w-full my-1.5"}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(c.EYj,{size:"12",color:"subtle",children:"Health is calculated as the minimum health value from across all file slabs. For directories this is across all contained files."}),(0,t.jsx)(c.EYj,{size:"12",color:"subtle",children:"Slab health is calculated as the number of shards with active contracts in the autopilot contract set above the minimum required shards and expressed as a percentage."})]}),(0,t.jsx)(c.wvv,{className:"w-full my-1.5"}),(0,t.jsxs)("div",{className:"flex gap-3 justify-between",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)(c.EYj,{size:"12",color:"subtle",children:"excellent health"}),(0,t.jsx)(c.EYj,{size:"12",color:"subtle",children:"good health"}),(0,t.jsx)(c.EYj,{size:"12",color:"subtle",children:"poor health"})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1 items-end",children:[(0,t.jsxs)(c.EYj,{size:"12",color:"subtle",children:[100*C.t.excellent,"%"]}),(0,t.jsxs)(c.EYj,{size:"12",color:"subtle",children:[100*C.t.good,"% -"," ",100*C.t.excellent,"%"]}),(0,t.jsxs)(c.EYj,{size:"12",color:"subtle",children:[100*C.t.poor,"% - ",100*C.t.good,"%"]})]})]})]}),children:(0,t.jsx)(c.EYj,{size:"12",font:"mono",className:"flex",children:n})})}var Y=l(53621),D=l(98258),F=l(27358);function T(){let e=(0,Y.d)(),s=(0,D.z)(),l=(0,F.S)(),i=(0,a.useMemo)(()=>e.isSynced?null:(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)(c.EYj,{size:"12",font:"mono",weight:"medium",color:"amber",children:"Uploads are disabled until renterd is synced."}),(0,t.jsx)(c.fzL,{size:"12",children:"The blockchain must be fully synced before uploading files. This can take a while depending on your hardware and network connection."})]},"syncStatus"),[e.isSynced]),n=(0,a.useMemo)(()=>s.active?(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)(c.EYj,{size:"12",font:"mono",weight:"medium",color:"amber",children:"Autopilot is currently disabled."}),(0,t.jsx)(c.fzL,{size:"12",children:"Files and contracts will not be automatically maintained while autopilot is disabled."})]},"autopilotNotConfigured"):null,[s.active]),r=(0,a.useMemo)(()=>l.active?(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)(c.EYj,{size:"12",font:"mono",weight:"medium",color:"amber",children:"Uploads are disabled until settings are configured."}),(0,t.jsxs)(c.fzL,{size:"12",children:["There are not enough contracts to upload data yet. Redundancy is configured to use ",l.required," shards which means at least that many contracts are required."]})]},"notEnoughContracts"):null,[l]),d=(0,a.useMemo)(()=>[i,n,r].filter(Boolean),[i,n,r]);if(d.length)return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.AMh,{trigger:(0,t.jsx)(c.$nd,{variant:"ghost",icon:"contrast",color:"amber",children:(0,t.jsx)(o.UvW,{})}),children:(0,t.jsx)("div",{className:"flex flex-col gap-3 px-1 py-2",children:d})}),(0,t.jsx)(c.wvv,{variant:"vertical",className:"h-full"})]})}var $=l(82436);function M(){var e;let{isViewingABucket:s,activeExplorerMode:l}=(0,d.G)(),{datasetPageTotal:i}=(0,b.u)(),{datasetPageTotal:n}=(0,$.w)(),r=(0,k.OJ)({config:{swr:{refreshInterval:6e4,keepPreviousData:!0,revalidateOnFocus:!1}}}),a=(null==(e=r.data)?void 0:e.numObjects)||0;return s?(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)(c.m_M,{side:"bottom",content:"Number of files in page of current directory",children:(0,t.jsx)(c.EYj,{size:"12",font:"mono",children:("flat"===l?n:i).toLocaleString()})}),(0,t.jsx)(c.m_M,{side:"bottom",content:"Number of files across all buckets",children:(0,t.jsx)(c.EYj,{size:"12",font:"mono",children:r.data?"of ".concat(a.toLocaleString()," files"):" files"})})]}):(0,t.jsx)(c.m_M,{side:"bottom",content:"Number of files across all buckets",children:r.data?(0,t.jsxs)(c.EYj,{size:"12",font:"mono",children:[a.toLocaleString()," files"]}):(0,t.jsx)(c.XC,{})})}function P(){return(0,t.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,t.jsx)(T,{}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(c.m_M,{side:"bottom",content:"Filtered statistics",children:(0,t.jsx)(c.EYj,{size:"12",color:"verySubtle",children:(0,t.jsx)(o.uG0,{})})}),(0,t.jsx)(M,{})]}),(0,t.jsx)(c.wvv,{variant:"vertical",className:"h-full"}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(c.m_M,{side:"bottom",content:"Global statistics",children:(0,t.jsx)(c.EYj,{size:"12",color:"verySubtle",children:(0,t.jsx)(o.$zM,{})})}),(0,t.jsx)(E,{}),(0,t.jsx)(S,{})]})]})}var O=l(82626);function G(e){let{placeholder:s}=e,{setFilter:l,removeFilter:i,fileNamePrefixFilter:n}=(0,d.G)(),[r,x]=(0,a.useState)(n),[j]=(0,O.d7)(r,500);return(0,a.useEffect)(()=>{n!==r&&x(n)},[n]),(0,a.useEffect)(()=>{n!==j&&(j.length?l({id:"fileNamePrefix",label:"",value:j}):i("fileNamePrefix"))},[j]),(0,t.jsxs)("div",{className:"flex gap-1 flex-1",children:[(0,t.jsx)(c.A_L,{"aria-label":"filter files in current directory",variant:"ghost",focus:"none",placeholder:s||"Filter files in current directory",value:r,onChange:e=>x(e.currentTarget.value),className:"w-full !pl-0"}),!!r.length&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.$nd,{variant:"ghost",onClick:()=>x(""),children:(0,t.jsx)(o.sn9,{})}),(0,t.jsx)(c.wvv,{variant:"vertical",className:"h-full"})]})]})}function B(){let{isViewingABucket:e,isViewingBuckets:s}=(0,d.G)(),{limit:l,marker:i,nextMarker:n,isMore:r,datasetPageTotal:a,datasetState:o}=(0,b.u)();return(0,t.jsxs)("div",{className:"flex gap-3 w-full",children:[s?(0,t.jsx)("div",{className:"flex-1"}):(0,t.jsx)(G,{}),(0,t.jsx)(P,{}),e&&(0,t.jsx)(c.ibT,{isMore:r,marker:i,nextMarker:n,limit:l,pageTotal:a,isLoading:"loading"===o})]})}function V(){let{limit:e,datasetPageTotal:s,datasetState:l,marker:i,nextMarker:n,isMore:r}=(0,$.w)();return(0,t.jsxs)("div",{className:"flex gap-3 w-full",children:[(0,t.jsx)(G,{placeholder:"Filter files in current bucket"}),(0,t.jsx)(P,{}),(0,t.jsx)(c.ibT,{marker:i,nextMarker:n,isMore:r,limit:e,pageTotal:s,isLoading:"loading"===l})]})}function L(e){let{multiSelect:s}=e,l=(0,a.useMemo)(()=>Object.entries(s.selection).map(e=>{let[s,l]=e;return{bucket:l.bucket.name,prefix:l.key}}),[s.selection]),{openConfirmDialog:i}=(0,r.sp)(),n=(0,k.ii)(),d=(0,a.useCallback)(async()=>{await (0,c.qBJ)(l.map(e=>{let{bucket:s,prefix:l}=e;return n.post({payload:{bucket:s,prefix:l}})}),{toastError:e=>{let{totalCount:s,errorCount:l,successCount:t}=e;return{title:"".concat((0,z.td)(t,"file")," deleted"),body:"Error deleting ".concat(l,"/").concat(s," total files.")}},toastSuccess:e=>{let{totalCount:s}=e;return{title:"".concat((0,z.td)(s,"file")," deleted")}},after:()=>{s.deselectAll()}})},[s,l,n]);return(0,t.jsx)(c.$nd,{"aria-label":"delete selected files",tip:"Delete selected files",onClick:()=>{i({title:"Delete files",action:"Delete",variant:"red",body:(0,t.jsx)("div",{className:"flex flex-col gap-1",children:(0,t.jsxs)(c.fzL,{size:"14",children:["Are you sure you would like to delete the"," ",(0,z.td)(s.selectionCount,"selected file"),"?"]})}),onConfirm:async()=>{d()}})},children:(0,t.jsx)(o.$$D,{})})}function _(){let{openConfirmDialog:e}=(0,r.sp)(),{multiSelect:s,moveSelectedFiles:l,moveSelectedFilesOperationCount:i}=(0,b.u)();return(0,t.jsx)(c.$nd,{disabled:0===i,"aria-label":"move selected files to the current directory",tip:"Move selected files to the current directory",onClick:()=>{e({title:"Move files",action:"Move",variant:"accent",body:(0,t.jsx)("div",{className:"flex flex-col gap-1",children:(0,t.jsxs)(c.fzL,{size:"14",children:["Are you sure you would like to move the"," ",s.selectionCount.toLocaleString()," selected files to the current directory?"]})}),onConfirm:async()=>{l()}})},children:(0,t.jsx)(o.YuS,{})})}function A(){let{multiSelect:e}=(0,b.u)();return(0,t.jsxs)(c.ptQ,{multiSelect:e,entityWord:"file",children:[(0,t.jsx)(_,{}),(0,t.jsx)(L,{multiSelect:e})]})}function J(){let{multiSelect:e}=(0,$.w)();return(0,t.jsx)(c.ptQ,{multiSelect:e,entityWord:"file",children:(0,t.jsx)(L,{multiSelect:e})})}function q(){let{openDialog:e}=(0,r.sp)(),{tableState:s}=(0,$.w)();return(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(c.$nd,{onClick:()=>e("filesSearch"),tip:"Search files","aria-label":"search files",children:(0,t.jsx)(o.A2D,{})}),(0,t.jsx)(p,{tableState:s})]})}let U=h.C;function I(){let{openDialog:e}=(0,r.sp)(),{isViewingBuckets:s,activeExplorerMode:l}=(0,d.G)();return"directory"===l||s?{title:"Files",navTitle:null,routes:n.J,sidenav:(0,t.jsx)(i.T,{}),openSettings:()=>e("settings"),nav:(0,t.jsx)(j,{}),stats:(0,t.jsx)(B,{}),actions:(0,t.jsx)(w,{}),dockedControls:(0,t.jsx)(A,{})}:{title:"Files",navTitle:null,routes:n.J,sidenav:(0,t.jsx)(i.T,{}),openSettings:()=>e("settings"),nav:(0,t.jsx)(u,{}),stats:(0,t.jsx)(V,{}),actions:(0,t.jsx)(q,{}),dockedControls:(0,t.jsx)(J,{})}}},13283:(e,s,l)=>{l.d(s,{s:()=>Y});var t=l(6029),i=l(66875),n=l(65768),r=l(640),a=l(26305),c=l(98258),o=l(27358);function d(){return(0,t.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px]",children:[(0,t.jsx)(i.EYj,{children:(0,t.jsx)(r.YA5,{className:"scale-[200%]"})}),(0,t.jsx)(i.EYj,{color:"subtle",className:"text-center max-w-[500px]",children:"Error fetching files."})]})}var x=l(91950);function j(){let{filters:e,resetFilters:s}=(0,x.G)();return(0,t.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px]",children:[(0,t.jsx)(i.EYj,{children:(0,t.jsx)(r.oio,{className:"scale-[200%]"})}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 items-center",children:[(0,t.jsx)(i.EYj,{color:"subtle",className:"text-center max-w-[500px]",children:"No files matching filters."}),!!e.length&&(0,t.jsx)(i.$nd,{onClick:e=>{e.stopPropagation(),s()},children:"Clear filters"})]})]})}function u(){let{activeBucketName:e,activeDirectory:s,setActiveDirectory:l}=(0,x.G)();return s.length>1?(0,t.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px] cursor-pointer",children:[(0,t.jsx)(i.EYj,{children:(0,t.jsx)(r.kS2,{className:"scale-[200%]"})}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 items-center",children:[(0,t.jsx)(i.EYj,{color:"subtle",className:"text-center max-w-[500px]",children:"The current directory does not contain any files yet, drag and drop files or click here to start uploading."}),(0,t.jsx)(i.$nd,{onClick:e=>{e.stopPropagation(),l(e=>e.slice(0,-1))},children:"Back"})]})]}):(0,t.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px] cursor-pointer",children:[(0,t.jsx)(i.EYj,{children:(0,t.jsx)(r.kS2,{className:"scale-[200%]"})}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 items-center",children:[(0,t.jsxs)(i.EYj,{color:"subtle",className:"text-center max-w-[500px]",children:["The ",(0,t.jsx)(i.CyN,{children:e})," bucket does not contain any files, drag and drop files or click here to start uploading."]}),(0,t.jsx)(i.z9$,{href:a.J.buckets.index,onClick:e=>{e.stopPropagation()},children:"View buckets list"})]})]})}var h=l(74447);function f(){let{openDialog:e}=(0,h.sp)();return(0,t.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px] cursor-pointer",children:[(0,t.jsx)(i.EYj,{children:(0,t.jsx)(r.qds,{className:"scale-[200%]"})}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 items-center",children:[(0,t.jsx)(i.EYj,{color:"subtle",className:"text-center max-w-[500px]",children:"Create a bucket to get started. Buckets are distinct storage areas that you can use to organize your files."}),(0,t.jsxs)(i.$nd,{onClick:()=>e("filesCreateBucket"),tip:"Create bucket",children:[(0,t.jsx)(r.X4t,{}),"Create bucket"]})]})]})}function m(){let{isViewingRootOfABucket:e,isViewingBuckets:s}=(0,x.G)(),{datasetState:l}=(0,n.u)(),h=(0,c.z)(),m=(0,o.S)();return"noneOnPage"===l?(0,t.jsx)(i.GB$,{}):"noneMatchingFilters"===l?(0,t.jsx)(j,{}):"error"===l?(0,t.jsx)(d,{}):e&&"noneYet"===l&&h.active?(0,t.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px] cursor-pointer",children:[(0,t.jsx)(i.EYj,{children:(0,t.jsx)(r.kS2,{className:"scale-[200%]"})}),(0,t.jsxs)("div",{className:"flex flex-col gap-6 justify-center items-center",children:[(0,t.jsxs)(i.EYj,{color:"subtle",className:"text-center max-w-[500px]",children:["Before you can upload files you must configure and enable your settings. Once enabled, ",(0,t.jsx)(i.CyN,{children:"renterd"})," will find contracts with hosts based on the settings. ",(0,t.jsx)(i.CyN,{children:"renterd"})," will also repair your data as hosts come and go."]}),(0,t.jsx)(i.z9$,{variant:"accent",href:a.J.config.index,children:"Configure"})]})]}):e&&"noneYet"===l&&m.active?(0,t.jsxs)("div",{className:"flex flex-col gap-12 justify-center items-center h-[400px] cursor-pointer",children:[(0,t.jsx)(i.EYj,{children:(0,t.jsx)(r.kS2,{className:"scale-[200%]"})}),(0,t.jsxs)("div",{className:"flex flex-col gap-4 justify-center items-center",children:[(0,t.jsxs)(i.EYj,{color:"subtle",className:"text-center max-w-[500px]",children:["There are not enough contracts to upload data yet. Redundancy is configured to use ",m.required," shards which means at least that many contracts are required."]}),(0,t.jsxs)(i.EYj,{size:"30",className:"text-center max-w-[500px]",children:[m.count,"/",m.required]})]})]}):"noneYet"===l?s?(0,t.jsx)(f,{}):(0,t.jsx)(u,{}):null}var g=l(70023),p=l(68944),v=l(45058);function b(){let{isViewingBuckets:e}=(0,x.G)(),{uploadFiles:s}=(0,v.fH)(),{datasetPage:l,datasetPageTotal:r,datasetState:a,cellContext:c,onDragEnd:o,onDragOver:d,onDragStart:j,onDragCancel:u,onDragMove:h,draggingObjects:f,tableState:b}=(0,n.u)(),N=(0,g.B)();return(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)(i.mRE,{testId:"filesDropzone",onDrop:s,noClick:!N||r>0,noDrag:!N,children:(0,t.jsx)(i.XIK,{testId:e?"bucketsTable":"filesTable",isLoading:"loading"===a,emptyState:(0,t.jsx)(m,{}),pageSize:10,data:l,context:c,columns:b.visibleColumns,sortableColumns:b.sortableColumns,sortField:b.sortField,sortDirection:b.sortDirection,toggleSort:b.toggleSort,rowSize:"dense",onDragStart:j,onDragOver:d,onDragEnd:o,onDragCancel:u,onDragMove:h,draggingDatums:f,draggingMultipleLabel:e=>"move ".concat((0,p.td)(e,"file"))})})})}function N(){return(0,t.jsx)("div",{className:"p-6 min-w-fit",children:(0,t.jsx)(b,{})})}function y(){return(0,t.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px]",children:[(0,t.jsx)(i.EYj,{children:(0,t.jsx)(r.YA5,{className:"scale-[200%]"})}),(0,t.jsx)(i.EYj,{color:"subtle",className:"text-center max-w-[500px]",children:"Error fetching files."})]})}function w(){let{filters:e,resetFilters:s}=(0,x.G)();return(0,t.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px]",children:[(0,t.jsx)(i.EYj,{children:(0,t.jsx)(r.oio,{className:"scale-[200%]"})}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 items-center",children:[(0,t.jsx)(i.EYj,{color:"subtle",className:"text-center max-w-[500px]",children:"No files matching filters."}),!!e.length&&(0,t.jsx)(i.$nd,{onClick:e=>{e.stopPropagation(),s()},children:"Clear filters"})]})]})}function k(){let{activeBucketName:e}=(0,x.G)();return(0,t.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px] cursor-pointer",children:[(0,t.jsx)(i.EYj,{children:(0,t.jsx)(r.kS2,{className:"scale-[200%]"})}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 items-center",children:[(0,t.jsxs)(i.EYj,{color:"subtle",className:"text-center max-w-[500px]",children:["The ",(0,t.jsx)(i.CyN,{children:e})," bucket does not contain any files."]}),(0,t.jsx)(i.z9$,{href:a.J.buckets.index,onClick:e=>{e.stopPropagation()},children:"View buckets list"})]})]})}var z=l(82436);function E(){let{datasetState:e}=(0,z.w)();return"noneOnPage"===e?(0,t.jsx)(i.GB$,{}):"noneMatchingFilters"===e?(0,t.jsx)(w,{}):"error"===e?(0,t.jsx)(y,{}):"noneYet"===e?(0,t.jsx)(k,{}):null}function C(){let{datasetPage:e,datasetState:s,cellContext:l,tableState:n}=(0,z.w)();return(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)(i.XIK,{testId:"filesTable",isLoading:"loading"===s,emptyState:(0,t.jsx)(E,{}),pageSize:10,data:e,context:l,columns:n.visibleColumns,sortableColumns:n.sortableColumns,sortField:n.sortField,sortDirection:n.sortDirection,toggleSort:n.toggleSort,rowSize:"dense"})})}function S(){return(0,t.jsx)("div",{className:"p-6 min-w-fit",children:(0,t.jsx)(C,{})})}function Y(){let{isViewingBuckets:e,activeExplorerMode:s}=(0,x.G)();return"directory"===s||e?(0,t.jsx)(N,{}):(0,t.jsx)(S,{})}},70023:(e,s,l)=>{l.d(s,{B:()=>r});var t=l(53621),i=l(91950),n=l(27358);function r(){let{isViewingABucket:e}=(0,i.G)(),s=(0,t.d)(),l=(0,n.S)();return e&&!l.active&&s.isSynced}},98258:(e,s,l)=>{l.d(s,{z:()=>i});var t=l(26265);function i(){var e;return{active:!(null==(e=(0,t.fB)().data)?void 0:e.enabled)}}}}]);