"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[158],{69367:function(e,s,n){n.d(s,{F:function(){return l}});var i=n(94041),r=n(60270);function l(){var e;let s=(0,i.NF)(),{datasetCount:n,isLoading:l}=(0,r.G)();return{active:s.data&&!l&&n<s.data.redundancy.totalShards,count:n,required:(null===(e=s.data)||void 0===e?void 0:e.redundancy.totalShards)||0}}},6637:function(e,s,n){n.d(s,{J:function(){return T}});var i=n(52322),r=n(35105),l=n(94041),t=n(6391),a=n.n(t),c=n(4300),d=n(16211),o=n(82285),x=n(60381);function h(){var e,s,n,t,a,c;let{openDialog:h}=(0,o.Rh)(),u=(0,l.d_)({config:{swr:{revalidateOnFocus:!1}}}),j=(0,l.X2)({config:{swr:{revalidateOnFocus:!1}}}),p=(0,l.cQ)(),m=(0,d.n)(),f=null===(e=u.data)||void 0===e?void 0:e.version,v="?"===f?"https://github.com/SiaFoundation/renterd/commits/":(null==f?void 0:f.match(/^v\d+\.\d+\.\d+/))?"https://github.com/SiaFoundation/renterd/releases/".concat(f):"https://github.com/SiaFoundation/renterd/tree/".concat(f),g=u.data?new Date().getTime()-new Date(null===(s=u.data)||void 0===s?void 0:s.startTime).getTime():0;return(0,i.jsxs)(r.HfT,{name:"renterd",peerCount:(null===(n=p.data)||void 0===n?void 0:n.length)||0,connectPeer:()=>h("connectPeer"),isSynced:m.isSynced,syncPercent:m.syncPercent,nodeBlockHeight:m.nodeBlockHeight,estimatedBlockHeight:m.estimatedBlockHeight,firstTimeSyncing:m.firstTimeSyncing,moreThan100BlocksToSync:m.moreThan100BlocksToSync,children:[(0,i.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,i.jsx)(r.__J,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Wallet address"}),(0,i.jsx)("div",{className:"flex-1 flex justify-end overflow-hidden -mr-0.5 pr-0.5",children:(0,i.jsx)(r.XxW,{size:"14",maxLength:50,value:(null===(t=j.data)||void 0===t?void 0:t.address)||"",type:"address"})})]}),u.data&&(0,i.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,i.jsx)(r.__J,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Uptime"}),(0,i.jsx)("div",{className:"flex-1 flex justify-end overflow-hidden -mr-0.5 pr-0.5",children:(0,i.jsx)(r.xvT,{size:"14",children:(0,x.bc)(g,{format:"long"})})})]}),(0,i.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,i.jsx)(r.__J,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Network"}),(0,i.jsx)("div",{className:"flex-1 flex justify-end overflow-hidden -mr-0.5 pr-0.5",children:(0,i.jsx)(r.xvT,{size:"14",children:null===(a=u.data)||void 0===a?void 0:a.network})})]}),(0,i.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,i.jsx)(r.__J,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Version"}),(0,i.jsx)(r.rUS,{size:"14",href:v,underline:"hover",target:"_blank",ellipsis:!0,children:null===(c=u.data)||void 0===c?void 0:c.version})]})]})}function u(){let e=(0,l.d_)({config:{swr:{revalidateOnFocus:!1}}});return e.data&&"mainnet"!==e.data.network?(0,i.jsx)(r.t6k,{testnetName:e.data.network}):null}var j=n(2784),p=n(63862),m=n(28245),f=n(69367),v=n(83429),g=n(92762);function b(){var e,s,n;let{isUnlockedAndAuthedRoute:t}=(0,v.Hv)(),{isAutopilotEnabled:h,autopilotInfo:u}=(0,m.q)(),{openDialog:j}=(0,o.Rh)(),b=(0,l.X2)(),w=(0,l.e$)({config:{swr:{errorRetryInterval:1e4}}}),[k,N]=(0,g.Z)("v0/renterd/onboarding/maximized",{defaultValue:!0}),z=(0,d.n)(),_=(0,f.F)();if(!t||!h)return null;let S=new(a())(b.data?b.data.confirmed+b.data.unconfirmed:0),T=new(a())((null===(e=w.data)||void 0===e?void 0:e.contracts.allowance)||0),F=null===(n=u.data)||void 0===n?void 0:null===(s=n.state)||void 0===s?void 0:s.configured,W=z.isSynced,C=S.gt(0),J=!_.active,B=[F,W,C,J],R=B.length,U=B.filter(e=>e).length;return R===U?(0,i.jsx)(r.$9_,{}):k?(0,i.jsx)(r.$9_,{children:(0,i.jsx)("div",{className:"flex justify-center",children:(0,i.jsx)(r.s_4,{className:"w-[400px] flex flex-col max-h-[600px]",children:(0,i.jsxs)(r.xrM,{children:[(0,i.jsxs)("div",{className:"flex justify-between items-center px-3 py-2 border-b border-gray-200 dark:border-graydark-300",children:[(0,i.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,i.jsx)(r.TRl,{}),(0,i.jsx)(r.xvT,{size:"20",weight:"semibold",children:"Welcome to Sia"})]}),(0,i.jsx)(r.zxk,{"aria-label":"minimize onboarding wizard",variant:"ghost",onClick:()=>N(!1),children:(0,i.jsx)(p.mli,{})})]}),(0,i.jsx)("div",{className:"flex justify-between items-center px-3 py-2 border-b border-gray-200 dark:border-graydark-300",children:(0,i.jsx)(r.xvT,{size:"14",children:"Get set up by completing the following steps. Once they are complete, you can start uploading files."})}),(0,i.jsx)(y,{title:(0,i.jsx)(r.rUS,{href:c._.config.index,ellipsis:!0,size:"14",underline:"hover",children:"Step 1: Configure your storage settings"}),description:"Specify how much data you plan to store and your target price.",action:F?(0,i.jsx)(r.xvT,{color:"green",children:(0,i.jsx)(p.Y3p,{})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.rUS,{href:c._.config.index,children:(0,i.jsx)(p.V8Q,{})}),(0,i.jsx)(r.xvT,{color:"amber",children:(0,i.jsx)(p.Fs9,{})})]})}),(0,i.jsx)(y,{title:(0,i.jsx)(r.rUS,{href:c._.node.index,underline:"hover",ellipsis:!0,size:"14",children:"Step 2: Wait for the blockchain to sync"}),description:"The blockchain will sync in the background, this takes some time. No user action required.",action:W?(0,i.jsx)(r.xvT,{color:"green",children:(0,i.jsx)(p.Y3p,{})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(r.xvT,{ellipsis:!0,size:"14",children:[z.syncPercent,"%"]}),(0,i.jsx)(r.xvT,{color:"amber",children:(0,i.jsx)(p.hzZ,{})})]})}),(0,i.jsx)(y,{title:(0,i.jsx)(r.rUS,{href:c._.wallet.view,onClick:()=>j("addressDetails"),ellipsis:!0,size:"14",underline:"hover",children:"Step 3: Fund your wallet"}),description:"Fund your wallet with at least ".concat((0,x.Vz)(T)," siacoin to cover the required allowance.").concat(z.isWalletSynced?"":" Balance will not be accurate until wallet is finished scanning."),action:C?(0,i.jsx)(r.xvT,{color:"green",children:(0,i.jsx)(p.Y3p,{})}):(0,i.jsxs)(i.Fragment,{children:[!z.isWalletSynced&&(0,i.jsx)(r.ua7,{content:"Wallet scanning progress ".concat(z.walletScanPercent,"%"),children:(0,i.jsxs)(r.xvT,{size:"14",children:[z.walletScanPercent,"%"]})}),(0,i.jsx)(r.rUS,{href:c._.wallet.view,onClick:()=>j("addressDetails"),children:(0,i.jsx)(p.V8Q,{})}),(0,i.jsx)(r.xvT,{color:"amber",children:(0,i.jsx)(p.Fs9,{})})]})}),(0,i.jsx)(y,{title:(0,i.jsx)(r.rUS,{href:c._.contracts.index,ellipsis:!0,size:"14",underline:"hover",children:"Step 4: Wait for storage contracts to form"}),description:"Once all other steps are complete, contracts will automatically form. No user action required.",action:J?(0,i.jsx)(r.xvT,{color:"green",children:(0,i.jsx)(p.Y3p,{})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(r.xvT,{ellipsis:!0,size:"14",children:[_.count,"/",_.required]}),(0,i.jsx)(r.xvT,{color:"amber",children:(0,i.jsx)(p.hzZ,{})})]})})]})})})}):(0,i.jsx)(r.$9_,{children:(0,i.jsx)("div",{className:"flex justify-center",children:(0,i.jsx)(r.zxk,{onClick:()=>N(!0),size:"large",className:"flex gap-3 !px-3",children:(0,i.jsxs)(r.xvT,{size:"14",className:"flex items-center gap-1",children:[(0,i.jsx)(r.TRl,{}),"Setup: ",U,"/",R," steps complete"]})})})})}function y(e){let{title:s,action:n,description:l}=e;return(0,i.jsx)("div",{className:"border-t first:border-t-0 border-gray-200 dark:border-graydark-300 px-3 py-2",children:(0,i.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,i.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,i.jsx)("div",{className:"flex-1 flex items-center",children:s}),n]}),(0,i.jsx)("div",{className:"pr-5",children:(0,i.jsx)(r.xvT,{size:"12",color:"subtle",children:l})})]})})}var w=n(95810),k=n(45382);function N(e){let{loaded:s,size:n,path:l,abortTip:t,abort:a,status:c}=e;return(0,i.jsxs)("div",{className:"flex flex-col gap-1 border-t first:border-t-0 border-gray-200 dark:border-graydark-300 px-3 py-2",children:[(0,i.jsxs)("div",{className:"flex gap-1",children:[(0,i.jsx)(r.xvT,{ellipsis:!0,size:"14",className:"flex-1",children:l}),(0,i.jsx)(r.zxk,{tip:t,variant:"ghost",size:"none",onClick:()=>null==a?void 0:a(),children:(0,i.jsx)(p.PcV,{})})]}),(0,i.jsx)(k.s,{loaded:s,size:n,status:c})]})}var z=n(26706);function _(){let{isUnlockedAndAuthedRoute:e}=(0,v.Hv)(),{downloadsList:s,downloadCancel:n,isViewingUploads:l,navigateToUploads:t}=(0,w.b)(),{pageCount:a}=(0,z.x)(),[c,d]=(0,j.useState)(!0),o=!!a,x=s.length,h=!!x;if(!e||!o&&!h)return(0,i.jsx)(r.$9_,{});let u=(0,i.jsxs)("div",{className:"flex gap-2 justify-center",children:[o&&!l?(0,i.jsxs)(r.zxk,{tip:"Uploads list",onClick:t,className:"flex gap-1",children:[(0,i.jsx)(p.R$6,{className:"opacity-50 scale-75 relative top-px"}),"Active uploads"]}):null,h?(0,i.jsxs)(r.zxk,{tip:"Downloads list",onClick:()=>d(e=>!e),className:"flex gap-1",children:[(0,i.jsx)(p.vzB,{className:"opacity-50 scale-75"}),"Active downloads"]}):null]});return h&&c?(0,i.jsx)(r.$9_,{children:(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2",children:[(0,i.jsx)(r.s_4,{className:"w-[400px] flex flex-col max-h-[600px]",children:(0,i.jsx)(r.xrM,{children:h?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"flex justify-between items-center px-3 py-2 border-b border-gray-200 dark:border-graydark-300",children:[(0,i.jsxs)(r.xvT,{size:"16",weight:"semibold",children:["Active downloads (",x,")"]}),(0,i.jsx)(r.zxk,{variant:"ghost",onClick:()=>d(!1),children:(0,i.jsx)(p.mli,{})})]}),s.map(e=>(0,i.jsx)(N,{path:e.path,loaded:e.loaded||0,size:e.size,status:e.loaded===e.size?"processing":"downloading",abort:()=>n(e),abortTip:"Cancel download"},e.id))]}):null})}),u]})}):(0,i.jsx)(r.$9_,{children:u})}function S(e){let{children:s}=e;return(0,i.jsxs)("div",{className:"flex flex-col gap-2",children:[s,(0,i.jsx)(_,{}),(0,i.jsx)(b,{})]})}function T(e){let{dockedControls:s,...n}=e,t=(0,l.X2)(),{isSynced:o}=(0,d.n)();return(0,i.jsx)(r.tU3,{appName:"renterd",connectivityRoute:c.h,profile:(0,i.jsx)(h,{}),banner:(0,i.jsx)(u,{}),isSynced:o,walletBalanceSc:t.data&&{spendable:new(a())(t.data.spendable),confirmed:new(a())(t.data.confirmed),immature:new(a())(t.data.immature),unconfirmed:new(a())(t.data.unconfirmed)},dockedControls:(0,i.jsx)(S,{children:s}),...n})}},70825:function(e,s,n){n.d(s,{e:function(){return o}});var i=n(52322),r=n(35105),l=n(63862),t=n(82851),a=n(4300),c=n(94348),d=n(82285);function o(){let{openDialog:e}=(0,d.Rh)(),{totals:s}=(0,c.Z)(),n=s.all===s.info;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.KJW,{title:"Files",route:a._.buckets.index,children:(0,i.jsx)(l.ROc,{})}),(0,i.jsx)(r.KJW,{title:"Configuration",route:a._.config.index,children:(0,i.jsx)(l.wWN,{})}),(0,i.jsx)(r.KJW,{title:"Contracts",route:a._.contracts.index,children:(0,i.jsx)(l.VBo,{})}),(0,i.jsx)(r.KJW,{title:"Hosts",route:a._.hosts.index,children:(0,i.jsx)(l.VHe,{})}),(0,i.jsx)(r.KJW,{title:"S3 authentication keypairs",route:a._.keys.index,children:(0,i.jsx)(l._m8,{})}),(0,i.jsxs)("div",{className:"relative",children:[s.all?n?(0,i.jsx)("div",{className:(0,t.cx)("absolute -right-[2px] top-px w-1 h-1","rounded-full","bg-gray-1000 dark:bg-white","pointer-events-none")}):(0,i.jsx)(r.xvT,{size:"10",className:(0,t.cx)("absolute -right-[9px] -top-1 py-px px-[5px]","text-white","bg-red-500 dark:bg-red-500 rounded","pointer-events-none"),color:"none",children:s.all.toLocaleString()}):null,(0,i.jsx)(r.KJW,{title:"Alerts",route:a._.alerts.index,children:(0,i.jsx)(l.Dkj,{})})]}),(0,i.jsx)(r.KJW,{title:"Bug report",onClick:()=>e("bugReport"),children:(0,i.jsx)(l.nnZ,{})})]})}}}]);