"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[209],{12533:function(e,t,i){i.d(t,{Lo:function(){return d},Pg:function(){return s},Uy:function(){return l},VN:function(){return u},jG:function(){return c}});var n=i(52322),a=i(23305),r=i(6391),o=i.n(r);i(2784);let d=6,c={contractSet:""},l={includeRedundancyMaxStoragePrice:!0,includeRedundancyMaxUploadPrice:!0},s={...c,uploadPackingEnabled:!1,maxRpcPrice:void 0,maxStoragePrice:void 0,maxContractPrice:void 0,maxDownloadPrice:void 0,maxUploadPrice:void 0,minMaxCollateral:void 0,hostBlockHeightLeeway:void 0,minPriceTableValidity:void 0,minAccountExpiry:void 0,minMaxEphemeralAccountBalance:void 0,minShards:void 0,totalShards:void 0,...l};function u(e){let{redundancyMultiplier:t,includeRedundancyMaxStoragePrice:i,includeRedundancyMaxUploadPrice:r,storageAverage:c,uploadAverage:l,downloadAverage:s,contractAverage:u}=e;return{contractSet:{category:"contractset",type:"text",title:"Default contract set",placeholder:"autopilot",suggestion:"autopilot",suggestionTip:(0,n.jsx)(n.Fragment,{children:"Autopilot users will typically want to keep this the same as the autopilot contract set."}),description:(0,n.jsx)(n.Fragment,{children:"The default contract set is where data is uploaded to by default."}),validation:{required:"required"}},uploadPackingEnabled:{category:"uploadpacking",type:"boolean",title:"Upload packing",description:(0,n.jsx)(n.Fragment,{children:"Data on the Sia network is stored in 40MiB sectors so by default uploaded files are divided and padded into these 40MiB peices. This means that storage is wasted on padding but more importantly files smaller than 40MiB still use 40MiB of space. Upload packing avoids this waste by buffering files and packing them together before they are uploaded to the network. This trades some performance for storage efficiency. It is also important to note that because buffered files are temporarily stored on disk they must be considered when backing up your renterd data."}),validation:{}},maxStoragePrice:{category:"gouging",type:"siacoin",title:"Max storage price",description:(0,n.jsx)(n.Fragment,{children:"The max allowed price to store 1 TB per month."}),units:"SC/TB/month",average:c,averageTip:m(i,t),after:function(e){let{form:r,fields:o}=e;return(0,n.jsx)(a.ua7,{align:"start",side:"bottom",content:h(i,t),children:(0,n.jsx)("div",{children:(0,n.jsx)(a.QBj,{size:"small",form:r,fields:o,name:"includeRedundancyMaxStoragePrice",group:!1,children:(0,n.jsxs)(a.xvT,{size:"12",weight:"medium",children:["Including ",t.toFixed(1),"x redundancy"]})})})})},decimalsLimitSc:d,validation:{required:"required"}},maxUploadPrice:{category:"gouging",type:"siacoin",title:"Max upload price",description:(0,n.jsx)(n.Fragment,{children:"The max allowed price to upload 1 TB."}),units:"SC/TB/month",average:l,averageTip:m(r,t),after:function(e){let{form:i,fields:o}=e;return(0,n.jsx)(a.ua7,{align:"start",side:"bottom",content:h(r,t),children:(0,n.jsx)("div",{children:(0,n.jsx)(a.QBj,{size:"small",form:i,fields:o,name:"includeRedundancyMaxUploadPrice",group:!1,children:(0,n.jsxs)(a.xvT,{size:"12",weight:"medium",children:["Including ",t.toFixed(1),"x redundancy"]})})})})},decimalsLimitSc:d,validation:{required:"required"}},maxDownloadPrice:{category:"gouging",type:"siacoin",title:"Max download price",description:(0,n.jsx)(n.Fragment,{children:"The max allowed price to download 1 TB."}),units:"SC/TB/month",average:s,averageTip:"Averages provided by Sia Central.",decimalsLimitSc:d,validation:{required:"required"}},maxContractPrice:{category:"gouging",type:"siacoin",title:"Max contract price",description:(0,n.jsx)(n.Fragment,{children:"The max allowed price to form a contract."}),average:u,decimalsLimitSc:d,tipsDecimalsLimitSc:3,validation:{required:"required"}},maxRpcPrice:{category:"gouging",type:"siacoin",title:"Max RPC price",description:(0,n.jsx)(n.Fragment,{children:"The max allowed base price for RPCs in siacoins per million calls."}),units:"SC/million",decimalsLimitSc:d,validation:{required:"required"}},minMaxCollateral:{category:"gouging",type:"siacoin",title:"Min max collateral",description:(0,n.jsx)(n.Fragment,{children:"The min value for max collateral in the host's price settings."}),decimalsLimitSc:d,validation:{required:"required"}},hostBlockHeightLeeway:{category:"gouging",type:"number",title:"Block height leeway",description:(0,n.jsx)(n.Fragment,{children:"The amount of blocks of leeway given to the host block height in the host's price table."}),units:"blocks",decimalsLimit:0,suggestion:new(o())(6),suggestionTip:"The recommended value is 6 blocks.",validation:{required:"required",validate:{min:e=>new(o())(e).gte(3)||"must be at least 3 blocks"}}},minPriceTableValidity:{category:"gouging",type:"number",title:"Min price table validity",units:"minutes",description:(0,n.jsx)(n.Fragment,{children:"The min accepted value for `Validity` in the host's price settings."}),validation:{required:"required",validate:{min:e=>new(o())(e).gte((0,a.GXN)(10))||"must be at least 10 seconds"}}},minAccountExpiry:{category:"gouging",type:"number",title:"Min account expiry",units:"days",description:(0,n.jsx)(n.Fragment,{children:"The min accepted value for `AccountExpiry` in the host's price settings."}),validation:{required:"required",validate:{min:e=>new(o())(e).gte((0,a.XAn)(1))||"must be at least 1 hour"}}},minMaxEphemeralAccountBalance:{category:"gouging",type:"siacoin",title:"Min max ephemeral account balance",description:(0,n.jsx)(n.Fragment,{children:"The min accepted value for `MaxEphemeralAccountBalance` in the host's price settings."}),decimalsLimitSc:d,validation:{required:"required",validate:{min:e=>new(o())(e).gte(1)||"must be at least 1 SC"}}},minShards:{type:"number",category:"redundancy",title:"Min shards",description:(0,n.jsx)(n.Fragment,{children:"The min amount of shards needed to reconstruct a slab."}),units:"shards",validation:{required:"required",validate:{min:e=>new(o())(e).gt(0)||"must be greater than 0"}},trigger:["totalShards"]},totalShards:{type:"number",category:"redundancy",title:"Total shards",description:(0,n.jsx)(n.Fragment,{children:"The total amount of shards for each slab."}),units:"shards",validation:{required:"required",validate:{gteMinShards:(e,t)=>new(o())(e).gte(t.minShards)||"must be at least equal to min shards",max:e=>new(o())(e).lt(256)||"must be less than 256"}}},includeRedundancyMaxStoragePrice:{type:"boolean",title:"Include redundancy",validation:{}},includeRedundancyMaxUploadPrice:{type:"boolean",title:"Include redundancy",validation:{}}}}function m(e,t){return e?"The average price is adjusted for ".concat(t.toFixed(1),"x redundancy. Averages provided by Sia Central."):"The average price is not adjusted for redundancy. Averages provided by Sia Central."}function h(e,t){return e?(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsxs)(a.xvT,{color:"subtle",children:["Specified max price includes the cost of"," ",t.toFixed(1),"x redundancy."]}),(0,n.jsxs)(a.xvT,{color:"subtle",children:["Redundancy is calculated from the ratio of data shards:"," ",(0,n.jsx)(a.EKh,{children:"min shards / total shards"}),"."]})]}):"Specified max price does not include redundancy."}},30654:function(e,t,i){i.d(t,{IP:function(){return h},Il:function(){return l},MN:function(){return s},Si:function(){return g},Y$:function(){return u},aU:function(){return x},y4:function(){return c},yz:function(){return m}});var n=i(23305),a=i(96206),r=i(6391),o=i.n(r),d=i(12533);function c(e,t){return{...t,default:e.contractSet}}function l(e,t){return{...t,enabled:e.uploadPackingEnabled}}function s(e,t){return{...t,maxRPCPrice:(0,a.qN)(e.maxRpcPrice.div(1e6)).toString(),maxStoragePrice:(0,a.qN)(e.maxStoragePrice.div((0,n.S5V)(1)).div((0,n.xf5)(1)).div(g(e.minShards,e.totalShards,e.includeRedundancyMaxStoragePrice))).toString(),maxUploadPrice:(0,a.qN)(e.maxUploadPrice.div(g(e.minShards,e.totalShards,e.includeRedundancyMaxUploadPrice))).toString(),maxDownloadPrice:(0,a.qN)(e.maxDownloadPrice).toString(),maxContractPrice:(0,a.qN)(e.maxContractPrice).toString(),minMaxCollateral:(0,a.qN)(e.minMaxCollateral).toString(),hostBlockHeightLeeway:Math.round(e.hostBlockHeightLeeway.toNumber()),minPriceTableValidity:Math.round((0,n.ort)(e.minPriceTableValidity.toNumber())),minAccountExpiry:Math.round((0,n.k9c)(e.minAccountExpiry.toNumber())),minMaxEphemeralAccountBalance:(0,a.qN)(e.minMaxEphemeralAccountBalance).toString()}}function u(e,t){return{...t,minShards:e.minShards.toNumber(),totalShards:e.totalShards.toNumber()}}function m(e,t){return{...t,includeRedundancyMaxStoragePrice:e.includeRedundancyMaxStoragePrice,includeRedundancyMaxUploadPrice:e.includeRedundancyMaxUploadPrice}}function h(e,t,i,r,c){let l=c?{includeRedundancyMaxStoragePrice:c.includeRedundancyMaxStoragePrice,includeRedundancyMaxUploadPrice:c.includeRedundancyMaxUploadPrice}:d.Uy,s={minShards:new(o())(r.minShards),totalShards:new(o())(r.totalShards)};return{...e?{contractSet:e.default}:d.jG,uploadPackingEnabled:t.enabled,maxStoragePrice:(0,a.ll)(new(o())(i.maxStoragePrice).times((0,n.S5V)(1)).times((0,n.xf5)(1)).times(g(s.minShards,s.totalShards,l.includeRedundancyMaxStoragePrice)),d.Lo),maxUploadPrice:(0,a.ll)(new(o())(i.maxUploadPrice).times(g(s.minShards,s.totalShards,l.includeRedundancyMaxUploadPrice)),d.Lo),maxDownloadPrice:(0,a.ll)(i.maxDownloadPrice,d.Lo),maxContractPrice:(0,a.ll)(i.maxContractPrice,d.Lo),maxRpcPrice:(0,a.ll)(i.maxRPCPrice,d.Lo).times(1e6),minMaxCollateral:(0,a.ll)(i.minMaxCollateral,d.Lo),hostBlockHeightLeeway:new(o())(i.hostBlockHeightLeeway),minPriceTableValidity:new(o())((0,n.AEA)(i.minPriceTableValidity)),minAccountExpiry:new(o())((0,n.okB)(i.minAccountExpiry)),minMaxEphemeralAccountBalance:(0,a.ll)(i.minMaxEphemeralAccountBalance,d.Lo),...s,...l}}function x(e,t){let i=new(o())(1),n=e&&t&&!e.isZero()&&!t.isZero()&&t.gte(e);return n&&(i=t.div(e)),i}function g(e,t,i){let n=x(e,t);return i?n:new(o())(1)}},89630:function(e,t,i){i.d(t,{J:function(){return h}});var n=i(52322),a=i(23305),r=i(9969),o=i(6391),d=i.n(o),c=i(71930),l=i(25573),s=i(38200);function u(){var e,t,i,o,d;let{openDialog:c}=(0,s.Rh)(),u=(0,r.d_)({config:{swr:{revalidateOnFocus:!1}}}),m=(0,r.Tu)({config:{swr:{revalidateOnFocus:!1}}}),h=(0,r.cQ)(),x=(0,l.n)(),g=null===(e=u.data)||void 0===e?void 0:e.version,p="?"===g?"https://github.com/SiaFoundation/renterd/commits/":(null==g?void 0:g.match(/^v\d+\.\d+\.\d+/))?"https://github.com/SiaFoundation/renterd/releases/".concat(g):"https://github.com/SiaFoundation/renterd/tree/".concat(g);return(0,n.jsxs)(a.HfT,{name:"renterd",peerCount:null===(t=h.data)||void 0===t?void 0:t.length,connectPeer:()=>c("connectPeer"),isSynced:x.isSynced,syncPercent:x.syncPercent,nodeBlockHeight:x.nodeBlockHeight,estimatedBlockHeight:x.estimatedBlockHeight,firstTimeSyncing:x.firstTimeSyncing,moreThan100BlocksToSync:x.moreThan100BlocksToSync,children:[(0,n.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,n.jsx)(a.__J,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Wallet address"}),(0,n.jsx)(a.XxW,{className:"overflow-hidden",size:"14",maxLength:50,value:null===(i=m.data)||void 0===i?void 0:i.address,type:"address"})]}),(0,n.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,n.jsx)(a.__J,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Network"}),(0,n.jsx)("div",{className:"flex-1 flex justify-end overflow-hidden",children:(0,n.jsx)(a.xvT,{size:"14",children:null===(o=u.data)||void 0===o?void 0:o.network})})]}),(0,n.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,n.jsx)(a.__J,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Version"}),(0,n.jsx)(a.rUS,{size:"14",href:p,underline:"hover",target:"_blank",ellipsis:!0,children:null===(d=u.data)||void 0===d?void 0:d.version})]})]})}function m(){let e=(0,r.d_)({config:{swr:{revalidateOnFocus:!1}}});return e.data&&"Mainnet"!==e.data.network?(0,n.jsx)(a.t6k,{testnetName:e.data.network}):null}function h(e){let t=(0,r.Tu)(),{isSynced:i}=(0,l.n)();return(0,n.jsx)(a.tU3,{appName:"renterd",profile:(0,n.jsx)(u,{}),banner:(0,n.jsx)(m,{}),connectivityRoute:c.h,isSynced:i,walletBalance:t.data?new(d())(t.data.spendable).plus(t.data.unconfirmed):void 0,...e})}},91930:function(e,t,i){i.d(t,{e:function(){return u}});var n=i(52322),a=i(23305),r=i(70694),o=i(9969),d=i(82851),c=i(71930),l=i(91641),s=i(38200);function u(){var e,t;let{autopilot:i}=(0,l.q)(),u=(0,o.Z7)(),{openDialog:m}=(0,s.Rh)(),h=!(null===(e=u.data)||void 0===e?void 0:e.find(e=>"info"!==e.severity)),x=(null===(t=u.data)||void 0===t?void 0:t.length)||0;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.KJW,{title:"Files",route:c._.files.index,children:(0,n.jsx)(r.ROc,{})}),"on"===i.status&&(0,n.jsx)(a.KJW,{title:"Autopilot",route:c._.autopilot.index,children:(0,n.jsx)(r.aFQ,{})}),(0,n.jsx)(a.KJW,{title:"Configuration",route:c._.config.index,children:(0,n.jsx)(r.wWN,{})}),(0,n.jsx)(a.KJW,{title:"Contracts",route:c._.contracts.index,children:(0,n.jsx)(r.VBo,{})}),(0,n.jsx)(a.KJW,{title:"Hosts",route:c._.hosts.index,children:(0,n.jsx)(r.VHe,{})}),(0,n.jsxs)("div",{className:"relative",children:[!!x&&h&&(0,n.jsx)("div",{className:(0,d.cx)("absolute -right-[2px] top-px w-1 h-1","rounded-full","bg-gray-1000 dark:bg-white","pointer-events-none")}),!!x&&!h&&(0,n.jsx)(a.xvT,{size:"10",className:(0,d.cx)("absolute -right-[9px] -top-1 py-px px-[5px]","text-white","bg-red-500 dark:bg-red-500 rounded","pointer-events-none"),color:"none",children:x.toLocaleString()}),(0,n.jsx)(a.KJW,{title:"Alerts",onClick:()=>m("alerts"),children:(0,n.jsx)(r.Dkj,{})})]})]})}},80489:function(e,t,i){i.d(t,{a:function(){return a}});var n=i(9969);function a(e){return(0,n.yu)({...e,params:{key:"contractset"}})}},25573:function(e,t,i){i.d(t,{n:function(){return r}});var n=i(2850),a=i(9969);function r(){var e,t,i,r;let{isUnlocked:o}=(0,n.Hv)(),d=(0,a.DQ)({config:{swr:{refreshInterval:e=>(null==e?void 0:e.synced)?6e4:1e4}}}),c=(0,a.nH)(),l=d.data?null===(e=d.data)||void 0===e?void 0:e.blockHeight:0,s=(0,a.Tu)({config:{swr:{refreshInterval:e=>(null==e?void 0:e.scanHeight)>=l?6e4:1e4}}}),u=o&&l&&c?Number((100*Math.min(l/c,1)).toFixed(1)):0,m=o&&l&&s.data?Number((100*Math.min(s.data.scanHeight/c,1)).toFixed(1)):0;return{isSynced:null===(t=d.data)||void 0===t?void 0:t.synced,isWalletSynced:(null===(i=d.data)||void 0===i?void 0:i.synced)&&(null===(r=s.data)||void 0===r?void 0:r.scanHeight)>=l-1,nodeBlockHeight:l,estimatedBlockHeight:c,syncPercent:u,walletScanPercent:m,moreThan100BlocksToSync:!!l&&!!c&&c-l>100,firstTimeSyncing:!!l&&!!c&&c-l>5e4}}}}]);