"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[634],{8451:(e,t,i)=>{i.d(t,{S:()=>l});var n=i(56523),s=i(93871);function l(){var e;let t=(0,n.ye)(),{datasetTotal:i,isLoading:l}=(0,s.n)();return{active:t.data&&!l&&i<t.data.redundancy.totalShards,count:i,required:(null==(e=t.data)?void 0:e.redundancy.totalShards)||0}}},20820:(e,t,i)=>{i.d(t,{T:()=>o});var n=i(6029),s=i(95152),l=i(32511),r=i(28811),a=i(80698),d=i(4709),c=i(18449);function o(){let{openDialog:e}=(0,c.sp)(),{totals:t}=(0,d.Z)(),i=t.all===t.info;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.U3R,{title:"Files",route:a.J.buckets.index,children:(0,n.jsx)(l.sjq,{})}),(0,n.jsx)(s.U3R,{title:"Configuration",route:a.J.config.index,children:(0,n.jsx)(l.x8D,{})}),(0,n.jsx)(s.U3R,{title:"Contracts",route:a.J.contracts.index,children:(0,n.jsx)(l.ox6,{})}),(0,n.jsx)(s.U3R,{title:"Hosts",route:a.J.hosts.index,children:(0,n.jsx)(l.bN0,{})}),(0,n.jsx)(s.U3R,{title:"S3 authentication keypairs",route:a.J.keys.index,children:(0,n.jsx)(l.RYV,{})}),(0,n.jsxs)("div",{className:"relative",children:[t.all?i?(0,n.jsx)("div",{className:(0,r.cx)("absolute -right-[2px] top-px w-1 h-1","rounded-full","bg-gray-1000 dark:bg-white","pointer-events-none")}):(0,n.jsx)(s.EYj,{size:"10",className:(0,r.cx)("absolute -right-[9px] -top-1 py-px px-[5px]","text-white","bg-red-500 dark:bg-red-500 rounded","pointer-events-none"),color:"none",children:t.all.toLocaleString()}):null,(0,n.jsx)(s.U3R,{title:"Alerts",route:a.J.alerts.index,children:(0,n.jsx)(l.XFE,{})})]}),(0,n.jsx)(s.U3R,{title:"Bug report",onClick:()=>e("bugReport"),children:(0,n.jsx)(l.Q5O,{})})]})}},30947:(e,t,i)=>{i.d(t,{C:()=>T});var n=i(6029),s=i(95152),l=i(56523),r=i(50934),a=i(80698),d=i(16634),c=i(18449),o=i(84195);function x(){var e,t,i,r,a,x;let{openDialog:u}=(0,c.sp)(),h=(0,l.pb)({config:{swr:{revalidateOnFocus:!1}}}),j=(0,l.vT)({config:{swr:{revalidateOnFocus:!1}}}),m=(0,l.N_)(),f=(0,d.d)(),p=null==(e=h.data)?void 0:e.version,g="?"===p?"https://github.com/SiaFoundation/renterd/commits/":(null==p?void 0:p.match(/^v\d+\.\d+\.\d+/))?"https://github.com/SiaFoundation/renterd/releases/".concat(p):"https://github.com/SiaFoundation/renterd/tree/".concat(p),v=h.data?new Date().getTime()-new Date(null==(t=h.data)?void 0:t.startTime).getTime():0;return(0,n.jsxs)(s.qNN,{name:"renterd",peerCount:(null==(i=m.data)?void 0:i.length)||0,connectPeer:()=>u("connectPeer"),isSynced:f.isSynced,syncPercent:f.syncPercent,nodeBlockHeight:f.nodeBlockHeight,estimatedBlockHeight:f.estimatedBlockHeight,firstTimeSyncing:f.firstTimeSyncing,moreThan100BlocksToSync:f.moreThan100BlocksToSync,children:[(0,n.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,n.jsx)(s.JU7,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Wallet address"}),(0,n.jsx)("div",{className:"flex-1 flex justify-end overflow-hidden -mr-0.5 pr-0.5",children:(0,n.jsx)(s.Zjd,{size:"14",maxLength:50,value:(null==(r=j.data)?void 0:r.address)||"",type:"address"})})]}),h.data&&(0,n.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,n.jsx)(s.JU7,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Uptime"}),(0,n.jsx)("div",{className:"flex-1 flex justify-end overflow-hidden -mr-0.5 pr-0.5",children:(0,n.jsx)(s.EYj,{size:"14",children:(0,o.zK)(v,{format:"long"})})})]}),(0,n.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,n.jsx)(s.JU7,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Network"}),(0,n.jsx)("div",{className:"flex-1 flex justify-end overflow-hidden -mr-0.5 pr-0.5",children:(0,n.jsx)(s.EYj,{size:"14",children:null==(a=h.data)?void 0:a.network})})]}),(0,n.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,n.jsx)(s.JU7,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Version"}),(0,n.jsx)(s.N_E,{size:"14",href:g,underline:"hover",target:"_blank",ellipsis:!0,children:null==(x=h.data)?void 0:x.version})]})]})}function u(){let e=(0,l.pb)({config:{swr:{revalidateOnFocus:!1}}});return e.data&&"mainnet"!==e.data.network?(0,n.jsx)(s.eFU,{testnetName:e.data.network}):null}var h=i(32511),j=i(8451),m=i(29698),f=i(48318),p=i(34564);function g(){let{isUnlockedAndAuthedRoute:e}=(0,m.IQ)(),{openDialog:t}=(0,c.sp)(),i=(0,l.vT)(),[x,u]=(0,f.A)("v0/renterd/onboarding/maximized",{defaultValue:!0}),g=(0,d.d)(),b=(0,j.S)(),{estimatedSpendingPerMonth:w}=(0,p.k)();if(!e)return null;let y=new r.A(i.data?i.data.confirmed+i.data.unconfirmed:0),N=g.isSynced,k=y.gt(0),z=!b.active,E=[!0,N,k,z],S=E.length,Y=E.filter(e=>e).length;return S===Y?(0,n.jsx)(s.Di0,{}):x?(0,n.jsx)(s.Di0,{children:(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)(s.Zkm,{className:"w-[400px] flex flex-col max-h-[600px]",children:(0,n.jsxs)(s.FKN,{children:[(0,n.jsxs)("div",{className:"flex justify-between items-center px-3 py-2 border-b border-gray-200 dark:border-graydark-300",children:[(0,n.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,n.jsx)(s.guG,{}),(0,n.jsx)(s.EYj,{size:"20",weight:"semibold",children:"Welcome to Sia"})]}),(0,n.jsx)(s.$nd,{"aria-label":"minimize onboarding wizard",variant:"ghost",onClick:()=>u(!1),children:(0,n.jsx)(h.pz,{})})]}),(0,n.jsx)("div",{className:"flex justify-between items-center px-3 py-2 border-b border-gray-200 dark:border-graydark-300",children:(0,n.jsx)(s.EYj,{size:"14",children:"Get set up by completing the following steps. Once they are complete, you can start uploading files."})}),(0,n.jsx)(v,{title:(0,n.jsx)(s.N_E,{href:a.J.config.index,ellipsis:!0,size:"14",underline:"hover",children:"Step 1: Configure your storage settings"}),description:"Specify your estimated usage and maximum pricing values.",action:(0,n.jsx)(s.N_E,{href:a.J.config.index,children:(0,n.jsx)(h.dm2,{})})}),(0,n.jsx)(v,{title:(0,n.jsx)(s.N_E,{href:a.J.node.index,underline:"hover",ellipsis:!0,size:"14",children:"Step 2: Wait for the blockchain to sync"}),description:"The blockchain will sync in the background, this takes some time. No user action required.",action:N?(0,n.jsx)(s.EYj,{color:"green",children:(0,n.jsx)(h.Voo,{})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.EYj,{ellipsis:!0,size:"14",children:[g.syncPercent,"%"]}),(0,n.jsx)(s.EYj,{color:"amber",children:(0,n.jsx)(h.RDb,{})})]})}),(0,n.jsx)(v,{title:(0,n.jsx)(s.N_E,{href:a.J.wallet.view,onClick:()=>t("addressDetails"),ellipsis:!0,size:"14",underline:"hover",children:"Step 3: Fund your wallet"}),description:"Fund your wallet with at least ".concat((0,o.Uj)(w||0)," siacoin to cover the estimated spending for a month.").concat(g.isWalletSynced?"":" Balance will not be accurate until wallet is finished scanning."),action:k?(0,n.jsx)(s.EYj,{color:"green",children:(0,n.jsx)(h.Voo,{})}):(0,n.jsxs)(n.Fragment,{children:[!g.isWalletSynced&&(0,n.jsx)(s.m_M,{content:"Wallet scanning progress ".concat(g.walletScanPercent,"%"),children:(0,n.jsxs)(s.EYj,{size:"14",children:[g.walletScanPercent,"%"]})}),(0,n.jsx)(s.N_E,{href:a.J.wallet.view,onClick:()=>t("addressDetails"),children:(0,n.jsx)(h.dm2,{})}),(0,n.jsx)(s.EYj,{color:"amber",children:(0,n.jsx)(h.vmK,{})})]})}),(0,n.jsx)(v,{title:(0,n.jsx)(s.N_E,{href:a.J.contracts.index,ellipsis:!0,size:"14",underline:"hover",children:"Step 4: Wait for storage contracts to form"}),description:"Once all other steps are complete, contracts will automatically form. No user action required.",action:z?(0,n.jsx)(s.EYj,{color:"green",children:(0,n.jsx)(h.Voo,{})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.EYj,{ellipsis:!0,size:"14",children:[b.count,"/",b.required]}),(0,n.jsx)(s.EYj,{color:"amber",children:(0,n.jsx)(h.RDb,{})})]})})]})})})}):(0,n.jsx)(s.Di0,{children:(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)(s.$nd,{onClick:()=>u(!0),size:"large",className:"flex gap-3 !px-3",children:(0,n.jsxs)(s.EYj,{size:"14",className:"flex items-center gap-2",children:[(0,n.jsx)(s.guG,{}),"Setup: ",Y,"/",S," steps complete"]})})})})}function v(e){let{title:t,action:i,description:l}=e;return(0,n.jsx)("div",{className:"border-t first:border-t-0 border-gray-200 dark:border-graydark-300 px-3 py-2",children:(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,n.jsx)("div",{className:"flex-1 flex items-center",children:t}),i]}),(0,n.jsx)("div",{className:"pr-5",children:(0,n.jsx)(s.EYj,{size:"12",color:"subtle",children:l})})]})})}var b=i(46723),w=i(82203),y=i.n(w),N=i(14610);function k(){let{isUnlockedAndAuthedRoute:e}=(0,m.IQ)(),{isViewingUploads:t,activeBucketName:i}=(0,b.G)(),{bucketsWithUploads:l,uploadsList:r}=(0,N.fH)(),d=r.length;if(!e||!d)return(0,n.jsx)(s.Di0,{});let c=1===l.length&&l[0].name===i;return t&&c?(0,n.jsx)(s.Di0,{}):(0,n.jsx)(s.Di0,{children:(0,n.jsxs)(s.Zkm,{className:"py-2 px-3",children:[(0,n.jsxs)(s.EYj,{weight:"medium",className:"flex gap-1 items-center",children:["Active uploads (",d.toLocaleString(),")"]}),(0,n.jsx)(s.wvv,{className:"my-2"}),(0,n.jsx)("div",{className:"flex flex-col gap-1",children:l.map(e=>(0,n.jsx)(s.EYj,{size:"14",children:(0,n.jsxs)(y(),{href:a.J.buckets.uploads.replace("[bucket]",e.name),className:"flex gap-1 items-center",children:[(0,n.jsx)(h.qds,{size:14}),e.name]},e.name)},e.name))})]})})}var z=i(99809),E=i(89963);function S(){let e=(0,l.fB)();return!e.data||e.data.enabled?(0,n.jsx)(s.Di0,{}):(0,n.jsx)(s.Di0,{children:(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsxs)(s.Zkm,{className:"w-[400px] flex flex-col gap-2 max-h-[600px] p-3",children:[(0,n.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,n.jsx)(s.EYj,{size:"18",weight:"medium",color:"contrast",children:(0,n.jsx)(E.D9c,{})}),(0,n.jsx)(s.EYj,{size:"18",weight:"medium",color:"contrast",children:"Autopilot is currently disabled"}),(0,n.jsx)("div",{className:"flex-1"}),(0,n.jsx)(z.i,{size:"medium"})]}),(0,n.jsx)(s.EYj,{size:"12",color:"subtle",children:"Enable autopilot to form contracts and maintain files."})]})})})}function Y(e){let{children:t}=e;return(0,n.jsxs)("div",{"data-testid":"docked-controls",className:"flex flex-col gap-2",children:[t,(0,n.jsx)(k,{}),(0,n.jsx)(g,{}),(0,n.jsx)(S,{})]})}function T(e){let{dockedControls:t,...i}=e,c=(0,l.vT)(),{isSynced:o}=(0,d.d)();return(0,n.jsx)(s.Fgr,{appName:"renterd",connectivityRoute:a.b,profile:(0,n.jsx)(x,{}),banner:(0,n.jsx)(u,{}),isSynced:o,walletBalanceSc:c.data&&{spendable:new r.A(c.data.spendable),confirmed:new r.A(c.data.confirmed),immature:new r.A(c.data.immature),unconfirmed:new r.A(c.data.unconfirmed)},dockedControls:(0,n.jsx)(Y,{children:t}),...i})}},34564:(e,t,i)=>{i.d(t,{k:()=>d});var n=i(14105),s=i(55729),l=i(206),r=i(50837),a=i(4504);function d(){let{form:e}=(0,n.UK)(),t=function(){let{form:e}=(0,n.UK)(),t=e.watch("minShards"),i=e.watch("totalShards"),d=e.watch("storageTB"),c=e.watch("downloadTBMonth"),o=e.watch("uploadTBMonth"),x=(0,l.k)({minShards:t,totalShards:i}),u=(0,a.A)({form:e});return(0,s.useMemo)(()=>{if(!u)return;let{maxStoragePriceTBMonth:e,maxUploadPriceTB:t,maxDownloadPriceTB:i}=u;return(0,r.lM)({maxStoragePriceTBMonth:e,maxDownloadPriceTB:i,maxUploadPriceTB:t,storageTB:d,downloadTBMonth:c,uploadTBMonth:o,redundancyMultiplier:x})},[u,d,c,o,x])}(),i=e.watch("storageTB"),d=(0,s.useMemo)(()=>{if((null==t?void 0:t.gt(0))&&(null==i?void 0:i.gt(0)))return t.div(i)},[t,i]);return{estimatedSpendingPerMonth:t,estimatedSpendingPerTB:d}}},50837:(e,t,i)=>{i.d(t,{Kf:()=>s,lM:()=>l});var n=i(84195);function s(e){let{estimatedSpendingPerMonth:t,maxPricingFactor:i=1.5,storageTB:n,downloadTBMonth:s,uploadTBMonth:l,redundancyMultiplier:r,storageWeight:a=4,downloadWeight:d=5,uploadWeight:c=1}=e;if(!(null==t?void 0:t.gt(0))||i<=0||!(null==r?void 0:r.gt(0))||!(null==n?void 0:n.gt(0))||!(null==s?void 0:s.gt(0))||!(null==l?void 0:l.gt(0)))return;let o=t.times(i),x=n.times(r),u=l.times(r),h=o.div(x.times(a).plus(s.times(d)).plus(u.times(c))),j=h.times(c);return{maxUploadPriceTB:j,maxDownloadPriceTB:h.times(d),maxStoragePriceTBMonth:h.times(a)}}function l(e){let{maxStoragePriceTBMonth:t,maxDownloadPriceTB:i,maxUploadPriceTB:s,maxPricingFactor:l=1.5,storageTB:r,downloadTBMonth:a,uploadTBMonth:d,redundancyMultiplier:c}=e;if(!(null==t?void 0:t.gt(0))||!(null==i?void 0:i.gt(0))||!(null==s?void 0:s.gt(0))||l<=0||!(null==c?void 0:c.gt(0))||!(null==r?void 0:r.gt(0))||!(null==a?void 0:a.gt(0))||!(null==d?void 0:d.gt(0)))return;let o=(0,n.Vz)({maxStoragePriceTBMonth:t,maxDownloadPriceTB:i,maxUploadPriceTB:s,storageTB:r,downloadTBMonth:a,uploadTBMonth:d,redundancyMultiplier:c}),x=null==o?void 0:o.div(l);return null==x?void 0:x.integerValue()}},99809:(e,t,i)=>{i.d(t,{i:()=>a});var n=i(6029),s=i(95152),l=i(56523),r=i(55729);function a(e){var t;let{size:i}=e,a=(0,l.Yt)(),d=(0,l.fB)(),c=(0,r.useCallback)(()=>{var e;d.data&&a.put({payload:{...d.data,enabled:!(null==(e=d.data)?void 0:e.enabled)}})},[d.data,a]);return(0,n.jsx)(s.m_M,{content:"Enable or disable the system autopilot which handles forming contracts and maintaining files.",children:(0,n.jsx)("div",{children:(0,n.jsx)(s.dOG,{size:i,checked:!!(null==(t=d.data)?void 0:t.enabled),onCheckedChange:c})})})}}}]);