"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[940],{19634:function(e,s,l){l.d(s,{C:function(){return a}});var t=l(52322),i=l(43657),n=l(28420),r=l(95810);function c(){let{activeExplorerMode:e,setExplorerModeDirectory:s,setExplorerModeFlat:l,isViewingUploads:c,navigateToUploads:a}=(0,r.b)();return(0,t.jsxs)(i.h_2,{trigger:(0,t.jsx)(i.zxk,{"aria-label":"change explorer mode",tipSide:"bottom",tip:c?"Viewing uploads":"directory"===e?"Viewing directory explorer":"Viewing all bucket files",children:c?(0,t.jsx)(n.bQp,{}):"directory"===e?(0,t.jsx)(n.Qbr,{}):(0,t.jsx)(n.nDH,{})}),contentProps:{align:"start",side:"bottom",className:"max-w-[300px]"},children:[(0,t.jsxs)(i.Xiv,{onSelect:s,children:[(0,t.jsx)(i.KpP,{children:(0,t.jsx)(n.Qbr,{})}),"Directory"]}),(0,t.jsxs)(i.Xiv,{onSelect:l,children:[(0,t.jsx)(i.KpP,{children:(0,t.jsx)(n.nDH,{})}),"All files"]}),(0,t.jsxs)(i.Xiv,{onSelect:a,children:[(0,t.jsx)(i.KpP,{children:(0,t.jsx)(n.bQp,{})}),"Uploads"]})]})}function a(){let{isViewingBuckets:e}=(0,r.b)();return e?(0,t.jsx)(i.ua7,{content:"Viewing all buckets",children:(0,t.jsx)("div",{children:(0,t.jsx)(i.zxk,{state:"waiting",children:(0,t.jsx)(n.fi8,{size:16})})})}):(0,t.jsx)(c,{})}},15222:function(e,s,l){l.d(s,{A:function(){return L},r:function(){return R}});var t=l(52322),i=l(70825),n=l(4300),r=l(82285),c=l(2784),a=l(43657),o=l(28420),x=l(95810),d=l(19634);function u(){let{activeDirectory:e,setActiveDirectory:s}=(0,x.b)(),l=(0,c.useRef)(null);return(0,c.useEffect)(()=>{let e=setTimeout(()=>{var e;null===(e=l.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},100);return()=>{clearTimeout(e)}},[e]),(0,t.jsxs)("div",{className:"flex gap-2 items-center h-full",children:[(0,t.jsx)(d.C,{}),(0,t.jsx)(a.xrM,{children:(0,t.jsxs)("div",{className:"flex gap-1 items-center h-full",children:[(0,t.jsx)(a.xvT,{onClick:()=>s(()=>[]),size:"18",weight:"semibold",className:"flex items-center cursor-pointer",noWrap:!0,children:"Buckets"}),e.length>0&&(0,t.jsx)(a.xvT,{size:"16",color:"verySubtle",className:"flex items-center",children:(0,t.jsx)(o.F3j,{})}),e.map((e,l)=>(0,t.jsxs)(c.Fragment,{children:[l>0&&(0,t.jsx)(a.xvT,{size:"16",color:"verySubtle",className:"flex items-center",children:(0,t.jsx)(o.F3j,{})}),(0,t.jsx)(a.xvT,{onClick:()=>s(e=>e.slice(0,l+1)),size:"18",weight:"semibold",className:"flex items-center cursor-pointer",noWrap:!0,children:e})]},e+l)),(0,t.jsx)("div",{ref:l})]})})]})}function h(){let{activeBucketName:e,setActiveDirectory:s}=(0,x.b)();return(0,t.jsxs)("div",{className:"flex gap-2 items-center h-full",children:[(0,t.jsx)(d.C,{}),(0,t.jsx)(a.xrM,{children:(0,t.jsxs)("div",{className:"flex gap-1 items-center h-full",children:[(0,t.jsx)(a.xvT,{onClick:()=>s(()=>[]),size:"18",weight:"semibold",className:"flex items-center cursor-pointer",noWrap:!0,children:"Buckets"}),(0,t.jsx)(a.xvT,{size:"16",color:"verySubtle",className:"flex items-center",children:(0,t.jsx)(o.F3j,{})}),(0,t.jsx)(a.xvT,{onClick:()=>null,size:"18",weight:"semibold",className:"flex items-center cursor-pointer",noWrap:!0,children:e}),(0,t.jsx)(a.xvT,{size:"16",color:"verySubtle",className:"flex items-center",children:(0,t.jsx)(o.F3j,{})}),(0,t.jsx)(a.xvT,{size:"18",weight:"semibold",className:"flex items-center cursor-pointer",noWrap:!0,children:"All files"})]})})]})}var j=l(31392),f=l(74424),m=l(89421),v=l(83894);function p(){let{configurableColumns:e,toggleColumnVisibility:s,resetDefaultColumnVisibility:l,sortField:i,setSortField:n,sortDirection:r,setSortDirection:c,enabledColumns:d}=(0,x.b)();return(0,t.jsxs)(a.J2e,{trigger:(0,t.jsxs)(a.zxk,{size:"small",tip:"Configure view",tipAlign:"end",children:[(0,t.jsx)(o.hiv,{}),"View",(0,t.jsx)(o.EMN,{})]}),contentProps:{align:"end",className:"max-w-[300px]"},children:[(0,t.jsxs)(a.WVB,{children:[(0,t.jsx)(a.__J,{children:"Order by"}),(0,t.jsx)(a.kFS,{children:(0,t.jsx)(a.PhF,{value:i,onChange:e=>{n(e.currentTarget.value)},children:Object.entries((0,v.Z)(m.Fo,"category")).map(e=>{let[s,l]=e;return(0,t.jsx)("optgroup",{label:s,children:l.map(e=>(0,t.jsx)(a.Wxm,{value:e.id,children:e.label},e.id))},s)})})})]}),(0,t.jsxs)(a.WVB,{children:[(0,t.jsx)(a.__J,{children:"Direction"}),(0,t.jsx)(a.kFS,{children:(0,t.jsxs)(a.PhF,{value:r,onClick:e=>{e.stopPropagation()},onChange:e=>{c(e.currentTarget.value)},children:[(0,t.jsx)(a.Wxm,{value:"desc",children:"descending"},"desc"),(0,t.jsx)(a.Wxm,{value:"asc",children:"ascending"},"asc")]})})]}),(0,t.jsx)(a.Clw,{}),(0,t.jsxs)(a.WVB,{children:[(0,t.jsx)(a.__J,{children:"Display properties"}),(0,t.jsx)(a.kFS,{children:(0,t.jsx)(a.zxk,{onClick:e=>{e.stopPropagation(),l()},children:"Reset default"})})]}),(0,t.jsx)(a.WVB,{children:(0,t.jsx)(a.j4H,{options:e.map(e=>({label:e.label,value:e.id})),values:d,onChange:e=>s(e)})})]})}var g=l(31925);let{useDropzone:b}=f;function N(){let{openDialog:e}=(0,r.Rh)(),{uploadFiles:s,isViewingBuckets:l}=(0,x.b)(),i=(0,g.u)(),{getRootProps:n,getInputProps:c}=b({noDrag:!0,noClick:!i,onDrop:s});return(0,t.jsxs)("div",{className:"flex gap-2",children:[l?(0,t.jsxs)(a.zxk,{onClick:()=>e("filesCreateBucket"),tip:"Create bucket",children:[(0,t.jsx)(o.aXP,{}),"Create bucket"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.zxk,{onClick:()=>e("filesSearch"),tip:"Search files","aria-label":"search files",children:(0,t.jsx)(o.UBs,{})}),(0,t.jsxs)(a.zxk,{"aria-label":"Upload files",...n(),tip:"Upload files",disabled:!i,children:[(0,t.jsx)("input",{...c()}),(0,t.jsx)(o.bQp,{})]}),(0,t.jsx)(a.zxk,{"aria-label":"Create directory",disabled:!i,onClick:()=>e("filesCreateDirectory"),tip:"Create directory",children:(0,t.jsx)(o.L37,{})})]}),(0,t.jsx)(p,{})]})}var y=l(3031),k=l(91426),T=l(60381);function z(){let e=(0,k.Q5)({config:{swr:{refreshInterval:(0,T.sW)(5),revalidateOnFocus:!1}}});if(!e.data&&e.isValidating)return(0,t.jsx)(a.xgg,{className:"pr-1"});if(!e.data)return null;let s=e.data.totalObjectsSize+e.data.totalUnfinishedObjectsSize,l=s?e.data.totalSectorsSize/s:0;return(0,t.jsx)(a.ua7,{side:"bottom",content:(0,t.jsxs)("div",{className:"flex justify-between gap-6",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)(a.xvT,{size:"12",color:"subtle",children:"size of all files"}),(0,t.jsx)(a.xvT,{size:"12",color:"subtle",children:"with redundancy"}),!!l&&(0,t.jsx)(a.xvT,{size:"12",color:"subtle",children:"average redundancy factor"}),(0,t.jsx)(a.Z0O,{className:"w-full my-1"}),(0,t.jsx)(a.xvT,{size:"12",color:"subtle",children:"total storage utilization"})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1 items-end",children:[(0,t.jsx)(a.xvT,{size:"12",children:(0,T.vW)(e.data.totalObjectsSize)}),(0,t.jsx)(a.xvT,{size:"12",children:(0,T.vW)(e.data.totalSectorsSize)}),!!l&&(0,t.jsxs)(a.xvT,{size:"12",font:"mono",children:[l.toFixed(1),"x"]}),(0,t.jsx)(a.Z0O,{className:"w-full my-1"}),(0,t.jsx)(a.xvT,{size:"12",children:(0,T.vW)(e.data.totalUploadedSize)})]})]}),children:(0,t.jsx)(a.xvT,{size:"12",font:"mono",children:"".concat((0,T.vW)(e.data.totalObjectsSize)).concat(l?" @ ".concat(l.toFixed(1),"x"):"")})})}var w=l(32974);function C(){var e,s;let l=(0,k.Q5)({config:{swr:{refreshInterval:6e4,keepPreviousData:!0,revalidateOnFocus:!1}}}),{displayHealth:i,label:n}=(0,w.D)({health:null===(e=l.data)||void 0===e?void 0:e.minHealth,size:1,isDirectory:!0}),r=(null===(s=l.data)||void 0===s?void 0:s.totalObjectsSize)===0;return!l.data||r?null:(0,t.jsx)(a.ua7,{align:"end",content:(0,t.jsxs)("div",{className:"flex flex-col overflow-hidden mb-1",children:[(0,t.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,t.jsx)(a.xvT,{size:"12",children:n}),(0,t.jsxs)(a.xvT,{size:"12",children:[(100*i).toFixed(0),"%"]})]}),(0,t.jsx)(a.Z0O,{className:"w-full my-1.5"}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(a.xvT,{size:"12",color:"subtle",children:"Health is calculated as the minimum health value from across all file slabs. For directories this is across all contained files."}),(0,t.jsx)(a.xvT,{size:"12",color:"subtle",children:"Slab health is calculated as the number of shards with active contracts in the autopilot contract set above the minimum required shards and expressed as a percentage."})]}),(0,t.jsx)(a.Z0O,{className:"w-full my-1.5"}),(0,t.jsxs)("div",{className:"flex gap-3 justify-between",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)(a.xvT,{size:"12",color:"subtle",children:"excellent health"}),(0,t.jsx)(a.xvT,{size:"12",color:"subtle",children:"good health"}),(0,t.jsx)(a.xvT,{size:"12",color:"subtle",children:"poor health"})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1 items-end",children:[(0,t.jsxs)(a.xvT,{size:"12",color:"subtle",children:[100*w.V.excellent,"%"]}),(0,t.jsxs)(a.xvT,{size:"12",color:"subtle",children:[100*w.V.good,"% -"," ",100*w.V.excellent,"%"]}),(0,t.jsxs)(a.xvT,{size:"12",color:"subtle",children:[100*w.V.poor,"% - ",100*w.V.good,"%"]})]})]})]}),children:(0,t.jsx)(a.xvT,{size:"12",font:"mono",className:"flex",children:n})})}var S=l(16211),F=l(28924),D=l(69367);function _(){let e=(0,S.n)(),s=(0,F.s)(),l=(0,D.F)(),i=(0,c.useMemo)(()=>e.isSynced?null:(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)(a.xvT,{size:"12",font:"mono",weight:"medium",color:"amber",children:"Uploads are disabled until renterd is synced."}),(0,t.jsx)(a.nvN,{size:"12",children:"The blockchain must be fully synced before uploading files. This can take a while depending on your hardware and network connection."})]},"syncStatus"),[e.isSynced]),n=(0,c.useMemo)(()=>s.active?(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)(a.xvT,{size:"12",font:"mono",weight:"medium",color:"amber",children:"Autopilot is currently disabled."}),(0,t.jsx)(a.nvN,{size:"12",children:"Files and contracts will not be automatically maintained while autopilot is disabled."})]},"autopilotNotConfigured"):null,[s.active]),r=(0,c.useMemo)(()=>l.active?(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)(a.xvT,{size:"12",font:"mono",weight:"medium",color:"amber",children:"Uploads are disabled until settings are configured."}),(0,t.jsxs)(a.nvN,{size:"12",children:["There are not enough contracts to upload data yet. Redundancy is configured to use ",l.required," shards which means at least that many contracts are required."]})]},"notEnoughContracts"):null,[l]),x=(0,c.useMemo)(()=>[i,n,r].filter(Boolean),[i,n,r]);if(x.length)return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.J2e,{trigger:(0,t.jsx)(a.zxk,{variant:"ghost",icon:"contrast",color:"amber",children:(0,t.jsx)(o.qdM,{})}),children:(0,t.jsx)("div",{className:"flex flex-col gap-3 px-1 py-2",children:x})}),(0,t.jsx)(a.Z0O,{variant:"vertical",className:"h-full"})]})}var O=l(40824);function P(){var e;let{isViewingABucket:s,uploadsList:l,activeExplorerMode:i}=(0,x.b)(),{pageCount:n}=(0,y.J)(),{pageCount:r}=(0,O.o)(),c=(0,k.Q5)({config:{swr:{refreshInterval:6e4,keepPreviousData:!0,revalidateOnFocus:!1}}}),o=((null===(e=c.data)||void 0===e?void 0:e.numObjects)||0)+l.length;return s?(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)(a.ua7,{side:"bottom",content:"Number of files in page of current directory",children:(0,t.jsx)(a.xvT,{size:"12",font:"mono",children:("flat"===i?r:n).toLocaleString()})}),(0,t.jsx)(a.ua7,{side:"bottom",content:"Number of files across all buckets",children:(0,t.jsx)(a.xvT,{size:"12",font:"mono",children:c.data?"of ".concat(o.toLocaleString()," files"):" files"})})]}):(0,t.jsx)(a.ua7,{side:"bottom",content:"Number of files across all buckets",children:c.data?(0,t.jsxs)(a.xvT,{size:"12",font:"mono",children:[o.toLocaleString()," files"]}):(0,t.jsx)(a.xgg,{})})}function M(){return(0,t.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,t.jsx)(_,{}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(a.ua7,{side:"bottom",content:"Filtered statistics",children:(0,t.jsx)(a.xvT,{size:"12",color:"verySubtle",children:(0,t.jsx)(o.q0D,{})})}),(0,t.jsx)(P,{})]}),(0,t.jsx)(a.Z0O,{variant:"vertical",className:"h-full"}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(a.ua7,{side:"bottom",content:"Global statistics",children:(0,t.jsx)(a.xvT,{size:"12",color:"verySubtle",children:(0,t.jsx)(o.RFr,{})})}),(0,t.jsx)(z,{}),(0,t.jsx)(C,{})]})]})}var V=l(94225);function W(e){let{placeholder:s}=e,{setFilter:l,removeFilter:i,fileNamePrefixFilter:n}=(0,x.b)(),[r,d]=(0,c.useState)(n),[u]=(0,V.Nr)(r,500);return(0,c.useEffect)(()=>{n!==r&&d(n)},[n]),(0,c.useEffect)(()=>{n!==u&&(u.length?l({id:"fileNamePrefix",label:"",value:u}):i("fileNamePrefix"))},[u]),(0,t.jsxs)("div",{className:"flex gap-1 flex-1",children:[(0,t.jsx)(a.nvn,{"aria-label":"filter files in current directory",variant:"ghost",focus:"none",placeholder:s||"Filter files in current directory",value:r,onChange:e=>d(e.currentTarget.value),className:"w-full !pl-0"}),!!r.length&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.zxk,{variant:"ghost",onClick:()=>d(""),children:(0,t.jsx)(o.PcV,{})}),(0,t.jsx)(a.Z0O,{variant:"vertical",className:"h-full"})]})]})}function B(){let{isViewingABucket:e,isViewingBuckets:s}=(0,x.b)(),{limit:l,marker:i,isMore:n,pageCount:r,dataState:c}=(0,y.J)();return(0,t.jsxs)("div",{className:"flex gap-3 w-full",children:[s?(0,t.jsx)("div",{className:"flex-1"}):(0,t.jsx)(W,{}),(0,t.jsx)(M,{}),e&&(0,t.jsx)(a._5,{isMore:n,marker:i,limit:l,pageTotal:r,isLoading:"loading"===c})]})}function E(e){let{multiSelect:s}=e,l=(0,c.useMemo)(()=>Object.entries(s.selectionMap).map(e=>{let[s,l]=e;return{bucket:l.bucket.name,prefix:l.key}}),[s.selectionMap]),{openConfirmDialog:i}=(0,r.Rh)(),n=(0,k.Lh)(),x=(0,c.useCallback)(async()=>{await (0,a.eKZ)(l.map(e=>{let{bucket:s,prefix:l}=e;return n.post({payload:{bucket:s,prefix:l}})}),{toastError:e=>{let{totalCount:s,errorCount:l,successCount:t}=e;return{title:"".concat((0,T._6)(t,"file")," deleted"),body:"Error deleting ".concat(l,"/").concat(s," total files.")}},toastSuccess:e=>{let{totalCount:s}=e;return{title:"".concat((0,T._6)(s,"file")," deleted")}},after:()=>{s.deselectAll()}})},[s,l,n]);return(0,t.jsx)(a.zxk,{"aria-label":"delete selected files",tip:"Delete selected files",onClick:()=>{i({title:"Delete files",action:"Delete",variant:"red",body:(0,t.jsx)("div",{className:"flex flex-col gap-1",children:(0,t.jsxs)(a.nvN,{size:"14",children:["Are you sure you would like to delete the"," ",(0,T._6)(s.selectionCount,"selected file"),"?"]})}),onConfirm:async()=>{x()}})},children:(0,t.jsx)(o.Jrl,{})})}function J(){let{openConfirmDialog:e}=(0,r.Rh)(),{multiSelect:s,moveSelectedFiles:l,moveSelectedFilesOperationCount:i}=(0,y.J)();return(0,t.jsx)(a.zxk,{disabled:0===i,"aria-label":"move selected files to the current directory",tip:"Move selected files to the current directory",onClick:()=>{e({title:"Move files",action:"Move",variant:"accent",body:(0,t.jsx)("div",{className:"flex flex-col gap-1",children:(0,t.jsxs)(a.nvN,{size:"14",children:["Are you sure you would like to move the"," ",s.selectionCount.toLocaleString()," selected files to the current directory?"]})}),onConfirm:async()=>{l()}})},children:(0,t.jsx)(o.jef,{})})}function Q(){let{multiSelect:e}=(0,y.J)();return(0,t.jsxs)(a.hv1,{multiSelect:e,entityWord:"file",children:[(0,t.jsx)(J,{}),(0,t.jsx)(E,{multiSelect:e})]})}function A(){let{multiSelect:e}=(0,O.o)();return(0,t.jsx)(a.hv1,{multiSelect:e,entityWord:"file",children:(0,t.jsx)(E,{multiSelect:e})})}let L=j.J;function R(){let{openDialog:e}=(0,r.Rh)(),{isViewingBuckets:s,activeExplorerMode:l}=(0,x.b)();return"directory"===l||s?{title:"Files",navTitle:null,routes:n._,sidenav:(0,t.jsx)(i.e,{}),openSettings:()=>e("settings"),nav:(0,t.jsx)(u,{}),stats:(0,t.jsx)(B,{}),actions:(0,t.jsx)(N,{}),dockedControls:(0,t.jsx)(Q,{})}:{title:"Files",navTitle:null,routes:n._,sidenav:(0,t.jsx)(i.e,{}),openSettings:()=>e("settings"),nav:(0,t.jsx)(h,{}),stats:(0,t.jsx)(B,{}),actions:(0,t.jsx)(N,{}),dockedControls:(0,t.jsx)(A,{})}}},28924:function(e,s,l){l.d(s,{s:function(){return i}});var t=l(91426);function i(){var e;return{active:!(null===(e=(0,t.e$)().data)||void 0===e?void 0:e.enabled)}}},70348:function(e,s,l){l.d(s,{h:function(){return D}});var t=l(52322),i=l(43657),n=l(3031),r=l(28420),c=l(4300),a=l(28924),o=l(69367);function x(){return(0,t.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px]",children:[(0,t.jsx)(i.xvT,{children:(0,t.jsx)(r.Ckx,{className:"scale-[200%]"})}),(0,t.jsx)(i.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:"Error fetching files."})]})}var d=l(95810);function u(){let{filters:e,resetFilters:s}=(0,d.b)();return(0,t.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px]",children:[(0,t.jsx)(i.xvT,{children:(0,t.jsx)(r.Hb6,{className:"scale-[200%]"})}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 items-center",children:[(0,t.jsx)(i.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:"No files matching filters."}),!!e.length&&(0,t.jsx)(i.zxk,{onClick:e=>{e.stopPropagation(),s()},children:"Clear filters"})]})]})}function h(){let{activeBucketName:e,activeDirectory:s,setActiveDirectory:l}=(0,d.b)();return s.length>1?(0,t.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px] cursor-pointer",children:[(0,t.jsx)(i.xvT,{children:(0,t.jsx)(r.Y9T,{className:"scale-[200%]"})}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 items-center",children:[(0,t.jsx)(i.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:"The current directory does not contain any files yet, drag and drop files or click here to start uploading."}),(0,t.jsx)(i.zxk,{onClick:e=>{e.stopPropagation(),l(e=>e.slice(0,-1))},children:"Back"})]})]}):(0,t.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px] cursor-pointer",children:[(0,t.jsx)(i.xvT,{children:(0,t.jsx)(r.Y9T,{className:"scale-[200%]"})}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 items-center",children:[(0,t.jsxs)(i.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:["The ",(0,t.jsx)(i.EKh,{children:e})," bucket does not contain any files, drag and drop files or click here to start uploading."]}),(0,t.jsx)(i.Qjf,{href:c._.buckets.index,onClick:e=>{e.stopPropagation()},children:"View buckets list"})]})]})}var j=l(82285);function f(){let{openDialog:e}=(0,j.Rh)();return(0,t.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px] cursor-pointer",children:[(0,t.jsx)(i.xvT,{children:(0,t.jsx)(r.fi8,{className:"scale-[200%]"})}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 items-center",children:[(0,t.jsx)(i.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:"Create a bucket to get started. Buckets are distinct storage areas that you can use to organize your files."}),(0,t.jsxs)(i.zxk,{onClick:()=>e("filesCreateBucket"),tip:"Create bucket",children:[(0,t.jsx)(r.aXP,{}),"Create bucket"]})]})]})}function m(){let{isViewingRootOfABucket:e,isViewingBuckets:s}=(0,d.b)(),{dataState:l}=(0,n.J)(),j=(0,a.s)(),m=(0,o.F)();return"noneMatchingFilters"===l?(0,t.jsx)(u,{}):"error"===l?(0,t.jsx)(x,{}):e&&"noneYet"===l&&j.active?(0,t.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px] cursor-pointer",children:[(0,t.jsx)(i.xvT,{children:(0,t.jsx)(r.Y9T,{className:"scale-[200%]"})}),(0,t.jsxs)("div",{className:"flex flex-col gap-6 justify-center items-center",children:[(0,t.jsxs)(i.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:["Before you can upload files you must configure and enable your settings. Once enabled, ",(0,t.jsx)(i.EKh,{children:"renterd"})," will find contracts with hosts based on the settings. ",(0,t.jsx)(i.EKh,{children:"renterd"})," will also repair your data as hosts come and go."]}),(0,t.jsx)(i.Qjf,{variant:"accent",href:c._.config.index,children:"Configure"})]})]}):e&&"noneYet"===l&&m.active?(0,t.jsxs)("div",{className:"flex flex-col gap-12 justify-center items-center h-[400px] cursor-pointer",children:[(0,t.jsx)(i.xvT,{children:(0,t.jsx)(r.Y9T,{className:"scale-[200%]"})}),(0,t.jsxs)("div",{className:"flex flex-col gap-4 justify-center items-center",children:[(0,t.jsxs)(i.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:["There are not enough contracts to upload data yet. Redundancy is configured to use ",m.required," shards which means at least that many contracts are required."]}),(0,t.jsxs)(i.xvT,{size:"30",className:"text-center max-w-[500px]",children:[m.count,"/",m.required]})]})]}):"noneYet"===l?s?(0,t.jsx)(f,{}):(0,t.jsx)(h,{}):null}var v=l(31925),p=l(83548),g=l(60381);function b(){let{uploadFiles:e,sortField:s,sortDirection:l,sortableColumns:r,toggleSort:c,isViewingBuckets:a}=(0,d.b)(),{datasetPage:o,pageCount:x,dataState:u,cellContext:h,onDragEnd:j,onDragOver:f,onDragStart:b,onDragCancel:N,onDragMove:y,draggingObjects:k}=(0,n.J)(),T=(0,v.u)();return(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)(i.fhJ,{testId:"filesDropzone",onDrop:e,noClick:!T||x>0,noDrag:!T,children:(0,t.jsx)(i.iA_,{testId:a?"bucketsTable":"filesTable",isLoading:"loading"===u,emptyState:(0,t.jsx)(m,{}),pageSize:10,data:o,context:h,columns:p.z,sortableColumns:r,sortField:s,sortDirection:l,toggleSort:c,rowSize:"dense",onDragStart:b,onDragOver:f,onDragEnd:j,onDragCancel:N,onDragMove:y,draggingDatums:k,draggingMultipleLabel:e=>"move ".concat((0,g._6)(e,"file"))})})})}function N(){return(0,t.jsx)("div",{className:"p-6 min-w-fit",children:(0,t.jsx)(b,{})})}function y(){return(0,t.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px]",children:[(0,t.jsx)(i.xvT,{children:(0,t.jsx)(r.Ckx,{className:"scale-[200%]"})}),(0,t.jsx)(i.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:"Error fetching files."})]})}function k(){let{filters:e,resetFilters:s}=(0,d.b)();return(0,t.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px]",children:[(0,t.jsx)(i.xvT,{children:(0,t.jsx)(r.Hb6,{className:"scale-[200%]"})}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 items-center",children:[(0,t.jsx)(i.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:"No files matching filters."}),!!e.length&&(0,t.jsx)(i.zxk,{onClick:e=>{e.stopPropagation(),s()},children:"Clear filters"})]})]})}function T(){let{activeBucketName:e}=(0,d.b)();return(0,t.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px] cursor-pointer",children:[(0,t.jsx)(i.xvT,{children:(0,t.jsx)(r.Y9T,{className:"scale-[200%]"})}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 items-center",children:[(0,t.jsxs)(i.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:["The ",(0,t.jsx)(i.EKh,{children:e})," bucket does not contain any files."]}),(0,t.jsx)(i.Qjf,{href:c._.buckets.index,onClick:e=>{e.stopPropagation()},children:"View buckets list"})]})]})}var z=l(40824);function w(){let{dataState:e}=(0,z.o)();return"noneMatchingFilters"===e?(0,t.jsx)(k,{}):"error"===e?(0,t.jsx)(y,{}):"noneYet"===e?(0,t.jsx)(T,{}):null}var C=l(16830);function S(){let{sortableColumns:e,toggleSort:s}=(0,d.b)(),{datasetPage:l,dataState:n,cellContext:r,sortField:c,sortDirection:a}=(0,z.o)();return(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)(i.iA_,{testId:"filesTable",isLoading:"loading"===n,emptyState:(0,t.jsx)(w,{}),pageSize:10,data:l,context:r,columns:C.z,sortableColumns:e,sortField:c,sortDirection:a,toggleSort:s,rowSize:"dense"})})}function F(){return(0,t.jsx)("div",{className:"p-6 min-w-fit",children:(0,t.jsx)(S,{})})}function D(){let{isViewingBuckets:e,activeExplorerMode:s}=(0,d.b)();return"directory"===s||e?(0,t.jsx)(N,{}):(0,t.jsx)(F,{})}},31925:function(e,s,l){l.d(s,{u:function(){return r}});var t=l(16211),i=l(95810),n=l(69367);function r(){let{isViewingABucket:e}=(0,i.b)(),s=(0,t.n)(),l=(0,n.F)();return e&&!l.active&&s.isSynced}}}]);